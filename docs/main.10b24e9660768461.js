"use strict";(self.webpackChunkSRNSS=self.webpackChunkSRNSS||[]).push([[792],{900:(fd,zm,uo)=>{var Bi={};uo.r(Bi),uo.d(Bi,{AbortException:()=>Vz,AnnotationEditorLayer:()=>jz,AnnotationEditorParamsType:()=>Bz,AnnotationEditorType:()=>pM,AnnotationEditorUIManager:()=>Hz,AnnotationLayer:()=>Uz,AnnotationMode:()=>$z,CMapCompressionType:()=>zz,ColorPicker:()=>Gz,DOMSVGFactory:()=>Wz,DrawLayer:()=>qz,FeatureTest:()=>Yz,GlobalWorkerOptions:()=>gM,ImageKind:()=>Kz,InvalidPDFException:()=>Xz,MissingPDFException:()=>Qz,OPS:()=>Zz,PDFDataRangeTransport:()=>Jz,PDFDateString:()=>e4,PDFWorker:()=>t4,PasswordResponses:()=>n4,PermissionFlag:()=>i4,PixelsPerInch:()=>r4,RenderingCancelledException:()=>s4,TextLayer:()=>o4,UnexpectedResponseException:()=>a4,Util:()=>l4,VerbosityLevel:()=>mM,XfaLayer:()=>c4,build:()=>u4,createValidAbsoluteUrl:()=>d4,fetchData:()=>h4,getDocument:()=>vM,getFilenameFromUrl:()=>f4,getPdfFilenameFromUrl:()=>p4,getXfaPageViewport:()=>g4,isDataScheme:()=>m4,isPdfFile:()=>v4,noContextMenu:()=>y4,normalizeUnicode:()=>b4,setLayerDimensions:()=>_4,shadow:()=>w4,version:()=>Ku});var pd={};function pe(n){return"function"==typeof n}function gd(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}uo.r(pd),uo.d(pd,{AnnotationLayerBuilder:()=>TG,DownloadManager:()=>PG,EventBus:()=>RG,FindState:()=>OG,GenericL10n:()=>fx,LinkTarget:()=>co,PDFFindController:()=>px,PDFHistory:()=>NG,PDFLinkService:()=>gx,PDFPageView:()=>kG,PDFScriptingManager:()=>LG,PDFSinglePageViewer:()=>mx,PDFViewer:()=>vx,ProgressBar:()=>FG,RenderingStates:()=>VG,ScrollMode:()=>jG,SimpleLinkService:()=>BG,SpreadMode:()=>HG,StructTreeLayerBuilder:()=>UG,TextLayerBuilder:()=>$G,XfaLayerBuilder:()=>zG,parseQueryString:()=>GG});const md=gd(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function cl(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class $t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(pe(i))try{i()}catch(s){e=s instanceof md?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{qm(s)}catch(o){e=e??[],o instanceof md?e=[...e,...o.errors]:e.push(o)}}if(e)throw new md(e)}}add(e){var t;if(e&&e!==this)if(this.closed)qm(e);else{if(e instanceof $t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&cl(t,e)}remove(e){const{_finalizers:t}=this;t&&cl(t,e),e instanceof $t&&e._removeParent(this)}}$t.EMPTY=(()=>{const n=new $t;return n.closed=!0,n})();const Gm=$t.EMPTY;function Wm(n){return n instanceof $t||n&&"closed"in n&&pe(n.remove)&&pe(n.add)&&pe(n.unsubscribe)}function qm(n){pe(n)?n():n.unsubscribe()}const hr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ul={setTimeout(n,e,...t){const{delegate:i}=ul;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=ul;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Ym(n){ul.setTimeout(()=>{const{onUnhandledError:e}=hr;if(!e)throw n;e(n)})}function vd(){}const bx=yd("C",void 0,void 0);function yd(n,e,t){return{kind:n,value:e,error:t}}let fr=null;function dl(n){if(hr.useDeprecatedSynchronousErrorHandling){const e=!fr;if(e&&(fr={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=fr;if(fr=null,t)throw i}}else n()}class bd extends $t{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Wm(e)&&e.add(this)):this.destination=Sx}static create(e,t,i){return new ho(e,t,i)}next(e){this.isStopped?wd(function wx(n){return yd("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?wd(function _x(n){return yd("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?wd(bx,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ex=Function.prototype.bind;function _d(n,e){return Ex.call(n,e)}class Ax{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){hl(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){hl(i)}else hl(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){hl(t)}}}class ho extends bd{constructor(e,t,i){let r;if(super(),pe(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let s;this&&hr.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&_d(e.next,s),error:e.error&&_d(e.error,s),complete:e.complete&&_d(e.complete,s)}):r=e}this.destination=new Ax(r)}}function hl(n){hr.useDeprecatedSynchronousErrorHandling?function Cx(n){hr.useDeprecatedSynchronousErrorHandling&&fr&&(fr.errorThrown=!0,fr.error=n)}(n):Ym(n)}function wd(n,e){const{onStoppedNotification:t}=hr;t&&ul.setTimeout(()=>t(n,e))}const Sx={closed:!0,next:vd,error:function Dx(n){throw n},complete:vd},Cd="function"==typeof Symbol&&Symbol.observable||"@@observable";function Hi(n){return n}function Km(n){return 0===n.length?Hi:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}let We=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const s=function Ix(n){return n&&n instanceof bd||function xx(n){return n&&pe(n.next)&&pe(n.error)&&pe(n.complete)}(n)&&Wm(n)}(t)?t:new ho(t,i,r);return dl(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=Xm(i))((r,s)=>{const o=new ho({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[Cd](){return this}pipe(...t){return Km(t)(this)}toPromise(t){return new(t=Xm(t))((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=e=>new n(e),n})();function Xm(n){var e;return null!==(e=n??hr.Promise)&&void 0!==e?e:Promise}const Tx=gd(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let vn=(()=>{class n extends We{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new Qm(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new Tx}next(t){dl(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){dl(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){dl(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:s}=this;return i||r?Gm:(this.currentObservers=null,s.push(t),new $t(()=>{this.currentObservers=null,cl(s,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:s}=this;i?t.error(r):s&&t.complete()}asObservable(){const t=new We;return t.source=this,t}}return n.create=(e,t)=>new Qm(e,t),n})();class Qm extends vn{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:Gm}}function Zm(n){return pe(n?.lift)}function Ze(n){return e=>{if(Zm(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function qe(n,e,t,i,r){return new Px(n,e,t,i,r)}class Px extends bd{constructor(e,t,i,r,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Se(n,e){return Ze((t,i)=>{let r=0;t.subscribe(qe(i,s=>{i.next(n.call(e,s,r++))}))})}function Ui(n){return this instanceof Ui?(this.v=n,this):new Ui(n)}function nv(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function Sd(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=n[s]&&function(o){return new Promise(function(a,l){!function r(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=n[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Md=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function iv(n){return pe(n?.then)}function rv(n){return pe(n[Cd])}function sv(n){return Symbol.asyncIterator&&pe(n?.[Symbol.asyncIterator])}function ov(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const av=function Jx(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function lv(n){return pe(n?.[av])}function cv(n){return function tv(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=t.apply(n,e||[]),s=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function o(f){return function(p){return Promise.resolve(p).then(f,d)}}),r[Symbol.asyncIterator]=function(){return this},r;function a(f,p){i[f]&&(r[f]=function(g){return new Promise(function(v,m){s.push([f,g,v,m])>1||l(f,g)})},p&&(r[f]=p(r[f])))}function l(f,p){try{!function c(f){f.value instanceof Ui?Promise.resolve(f.value.v).then(u,d):h(s[0][2],f)}(i[f](p))}catch(g){h(s[0][3],g)}}function u(f){l("next",f)}function d(f){l("throw",f)}function h(f,p){f(p),s.shift(),s.length&&l(s[0][0],s[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:r}=yield Ui(t.read());if(r)return yield Ui(void 0);yield yield Ui(i)}}finally{t.releaseLock()}})}function uv(n){return pe(n?.getReader)}function zt(n){if(n instanceof We)return n;if(null!=n){if(rv(n))return function eI(n){return new We(e=>{const t=n[Cd]();if(pe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Md(n))return function tI(n){return new We(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(iv(n))return function nI(n){return new We(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Ym)})}(n);if(sv(n))return dv(n);if(lv(n))return function iI(n){return new We(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(uv(n))return function rI(n){return dv(cv(n))}(n)}throw ov(n)}function dv(n){return new We(e=>{(function sI(n,e){var t,i,r,s;return function Jm(n,e,t,i){return new(t||(t=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(d){o(d)}}function l(u){try{c(i.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):function r(s){return s instanceof t?s:new t(function(o){o(s)})}(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=nv(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=t.return)&&(yield s.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function hi(n,e,t,i=0,r=!1){const s=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function ht(n,e,t=1/0){return pe(e)?ht((i,r)=>Se((s,o)=>e(i,s,r,o))(zt(n(i,r))),t):("number"==typeof e&&(t=e),Ze((i,r)=>function oI(n,e,t,i,r,s,o,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&e.complete()},f=g=>c<i?p(g):l.push(g),p=g=>{s&&e.next(g),c++;let v=!1;zt(t(g,u++)).subscribe(qe(e,m=>{r?.(m),s?f(m):e.next(m)},()=>{v=!0},void 0,()=>{if(v)try{for(c--;l.length&&c<i;){const m=l.shift();o?hi(e,o,()=>p(m)):p(m)}h()}catch(m){e.error(m)}}))};return n.subscribe(qe(e,f,()=>{d=!0,h()})),()=>{a?.()}}(i,r,n,t)))}function zr(n=1/0){return ht(Hi,n)}const qn=new We(n=>n.complete());function xd(n){return n[n.length-1]}function hv(n){return pe(xd(n))?n.pop():void 0}function fo(n){return function lI(n){return n&&pe(n.schedule)}(xd(n))?n.pop():void 0}function fv(n,e=0){return Ze((t,i)=>{t.subscribe(qe(i,r=>hi(i,n,()=>i.next(r),e),()=>hi(i,n,()=>i.complete(),e),r=>hi(i,n,()=>i.error(r),e)))})}function pv(n,e=0){return Ze((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function gv(n,e){if(!n)throw new Error("Iterable cannot be null");return new We(t=>{hi(t,e,()=>{const i=n[Symbol.asyncIterator]();hi(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function Je(n,e){return e?function gI(n,e){if(null!=n){if(rv(n))return function uI(n,e){return zt(n).pipe(pv(e),fv(e))}(n,e);if(Md(n))return function hI(n,e){return new We(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(iv(n))return function dI(n,e){return zt(n).pipe(pv(e),fv(e))}(n,e);if(sv(n))return gv(n,e);if(lv(n))return function fI(n,e){return new We(t=>{let i;return hi(t,e,()=>{i=n[av](),hi(t,e,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){return void t.error(o)}s?t.complete():t.next(r)},0,!0)}),()=>pe(i?.return)&&i.return()})}(n,e);if(uv(n))return function pI(n,e){return gv(cv(n),e)}(n,e)}throw ov(n)}(n,e):zt(n)}class yn extends vn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}function K(...n){return Je(n,fo(n))}function mv(n={}){const{connector:e=(()=>new vn),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return s=>{let o,a,l,c=0,u=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=l=void 0,u=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return Ze((g,v)=>{c++,!d&&!u&&h();const m=l=l??e();v.add(()=>{c--,0===c&&!d&&!u&&(a=Id(p,r))}),m.subscribe(v),!o&&c>0&&(o=new ho({next:y=>m.next(y),error:y=>{d=!0,h(),a=Id(f,t,y),m.error(y)},complete:()=>{u=!0,h(),a=Id(f,i),m.complete()}}),zt(g).subscribe(o))})(s)}}function Id(n,e,...t){if(!0===e)return void n();if(!1===e)return;const i=new ho({next:()=>{i.unsubscribe(),n()}});return zt(e(...t)).subscribe(i)}function Yn(n,e){return Ze((t,i)=>{let r=null,s=0,o=!1;const a=()=>o&&!r&&i.complete();t.subscribe(qe(i,l=>{r?.unsubscribe();let c=0;const u=s++;zt(n(l,u)).subscribe(r=qe(i,d=>i.next(e?e(l,d,u,c++):d),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function yI(n,e){return n===e}function we(n){for(let e in n)if(n[e]===we)return e;throw Error("Could not find renamed property on target object.")}function fl(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function st(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(st).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Td(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const bI=we({__forward_ref__:we});function Ie(n){return n.__forward_ref__=Ie,n.toString=function(){return st(this())},n}function W(n){return Pd(n)?n():n}function Pd(n){return"function"==typeof n&&n.hasOwnProperty(bI)&&n.__forward_ref__===Ie}function Rd(n){return n&&!!n.\u0275providers}const vv="https://g.co/ng/security#xss";class P extends Error{constructor(e,t){super(function pl(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function X(n){return"string"==typeof n?n:null==n?"":String(n)}function Od(n,e){throw new P(-201,!1)}function bn(n,e){null==n&&function z(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function U(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function _n(n){return{providers:n.providers||[],imports:n.imports||[]}}function gl(n){return yv(n,vl)||yv(n,bv)}function yv(n,e){return n.hasOwnProperty(e)?n[e]:null}function ml(n){return n&&(n.hasOwnProperty(Nd)||n.hasOwnProperty(MI))?n[Nd]:null}const vl=we({\u0275prov:we}),Nd=we({\u0275inj:we}),bv=we({ngInjectableDef:we}),MI=we({ngInjectorDef:we});var oe=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(oe||{});let kd;function Gt(n){const e=kd;return kd=n,e}function wv(n,e,t){const i=gl(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&oe.Optional?null:void 0!==e?e:void Od(st(n))}const Te=globalThis;class V{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=U({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const po={},Bd="__NG_DI_FLAG__",yl="ngTempTokenPath",TI=/\n/gm,Ev="__source";let Gr;function $i(n){const e=Gr;return Gr=n,e}function OI(n,e=oe.Default){if(void 0===Gr)throw new P(-203,!1);return null===Gr?wv(n,void 0,e):Gr.get(n,e&oe.Optional?null:void 0,e)}function $(n,e=oe.Default){return(function _v(){return kd}()||OI)(W(n),e)}function F(n,e=oe.Default){return $(n,bl(e))}function bl(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Hd(n){const e=[];for(let t=0;t<n.length;t++){const i=W(n[t]);if(Array.isArray(i)){if(0===i.length)throw new P(900,!1);let r,s=oe.Default;for(let o=0;o<i.length;o++){const a=i[o],l=NI(a);"number"==typeof l?-1===l?r=a.token:s|=l:r=a}e.push($(r,s))}else e.push($(i))}return e}function go(n,e){return n[Bd]=e,n.prototype[Bd]=e,n}function NI(n){return n[Bd]}function fi(n){return{toString:n}.toString()}var _l=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(_l||{}),On=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(On||{});const Kn={},ge=[],wl=we({\u0275cmp:we}),Ud=we({\u0275dir:we}),$d=we({\u0275pipe:we}),Dv=we({\u0275mod:we}),pi=we({\u0275fac:we}),mo=we({__NG_ELEMENT_ID__:we}),Sv=we({__NG_ENV_ID__:we});function Mv(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const s=e.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}t=r+1}}function zd(n,e,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const s=t[i++],o=t[i++],a=t[i++];n.setAttribute(e,o,a,s)}else{const s=r,o=t[++i];Iv(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),i++}}return i}function xv(n){return 3===n||4===n||6===n}function Iv(n){return 64===n.charCodeAt(0)}function vo(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||Tv(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function Tv(n,e,t,i,r){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==r&&(n[s+1]=r));if(i===n[s+1])return void(n[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==i&&n.splice(s++,0,i),null!==r&&n.splice(s++,0,r)}const Pv="ng-template";function FI(n,e,t){let i=0,r=!0;for(;i<n.length;){let s=n[i++];if("string"==typeof s&&r){const o=n[i++];if(t&&"class"===s&&-1!==Mv(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;i<n.length&&"string"==typeof(s=n[i++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(r=!1)}}return!1}function Rv(n){return 4===n.type&&n.value!==Pv}function VI(n,e,t){return e===(4!==n.type||t?n.value:Pv)}function jI(n,e,t){let i=4;const r=n.attrs||[],s=function UI(n){for(let e=0;e<n.length;e++)if(xv(n[e]))return e;return n.length}(r);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!VI(n,l,t)||""===l&&1===e.length){if(Nn(i))return!1;o=!0}}else{const c=8&i?l:e[++a];if(8&i&&null!==n.attrs){if(!FI(n.attrs,c,t)){if(Nn(i))return!1;o=!0}continue}const d=BI(8&i?"class":l,r,Rv(n),t);if(-1===d){if(Nn(i))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":r[d+1].toLowerCase();const f=8&i?h:null;if(f&&-1!==Mv(f,c,0)||2&i&&c!==h){if(Nn(i))return!1;o=!0}}}}else{if(!o&&!Nn(i)&&!Nn(l))return!1;if(o&&Nn(l))continue;o=!1,i=l|1&i}}return Nn(i)||o}function Nn(n){return 0==(1&n)}function BI(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let s=!1;for(;r<e.length;){const o=e[r];if(o===n)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function $I(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function Ov(n,e,t=!1){for(let i=0;i<e.length;i++)if(jI(n,e[i],t))return!0;return!1}function Nv(n,e){return n?":not("+e.trim()+")":e}function GI(n){let e=n[0],t=1,i=2,r="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&i){const a=n[++t];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!Nn(o)&&(e+=Nv(s,r),r=""),i=o,s=s||!Nn(i);t++}return""!==r&&(e+=Nv(s,r)),e}function sn(n){return fi(()=>{const e=Lv(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===_l.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||On.Emulated,styles:n.styles||ge,_:null,schemas:n.schemas||null,tView:null,id:""};Fv(t);const i=n.dependencies;return t.directiveDefs=Cl(i,!1),t.pipeDefs=Cl(i,!0),t.id=function JI(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function KI(n){return ce(n)||gt(n)}function XI(n){return null!==n}function kn(n){return fi(()=>({type:n.type,bootstrap:n.bootstrap||ge,declarations:n.declarations||ge,imports:n.imports||ge,exports:n.exports||ge,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function kv(n,e){if(null==n)return Kn;const t={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),t[r]=i,e&&(e[r]=s)}return t}function q(n){return fi(()=>{const e=Lv(n);return Fv(e),e})}function ce(n){return n[wl]||null}function gt(n){return n[Ud]||null}function Rt(n){return n[$d]||null}function on(n,e){const t=n[Dv]||null;if(!t&&!0===e)throw new Error(`Type ${st(n)} does not have '\u0275mod' property.`);return t}function Lv(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Kn,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||ge,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:kv(n.inputs,e),outputs:kv(n.outputs)}}function Fv(n){n.features?.forEach(e=>e(n))}function Cl(n,e){if(!n)return null;const t=e?Rt:KI;return()=>("function"==typeof n?n():n).map(i=>t(i)).filter(XI)}const He=0,k=1,ne=2,ke=3,Ln=4,yo=5,Ct=6,qr=7,Ye=8,zi=9,Yr=10,Q=11,bo=12,Vv=13,Kr=14,Ke=15,_o=16,Xr=17,Xn=18,wo=19,jv=20,Gi=21,gi=22,Co=23,Eo=24,ae=25,Gd=1,Bv=2,Qn=7,Qr=9,mt=11;function qt(n){return Array.isArray(n)&&"object"==typeof n[Gd]}function Ot(n){return Array.isArray(n)&&!0===n[Gd]}function Wd(n){return 0!=(4&n.flags)}function gr(n){return n.componentOffset>-1}function Al(n){return 1==(1&n.flags)}function Fn(n){return!!n.template}function qd(n){return 0!=(512&n[ne])}function mr(n,e){return n.hasOwnProperty(pi)?n[pi]:null}let vt=null,Dl=!1;function wn(n){const e=vt;return vt=n,e}const $v={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Gv(n){if(!Do(n)||n.dirty){if(!n.producerMustRecompute(n)&&!Yv(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function qv(n){n.dirty=!0,function Wv(n){if(void 0===n.liveConsumerNode)return;const e=Dl;Dl=!0;try{for(const t of n.liveConsumerNode)t.dirty||qv(t)}finally{Dl=e}}(n),n.consumerMarkedDirty?.(n)}function Kd(n){return n&&(n.nextProducerIndex=0),wn(n)}function Xd(n,e){if(wn(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(Do(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Sl(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Yv(n){Zr(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(Gv(t),i!==t.version))return!0}return!1}function Kv(n){if(Zr(n),Do(n))for(let e=0;e<n.producerNode.length;e++)Sl(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Sl(n,e){if(function Qv(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),Zr(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)Sl(n.producerNode[i],n.producerIndexOfThis[i]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];Zr(r),r.producerIndexOfThis[i]=e}}function Do(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Zr(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let Zv=null;const ny=()=>{},hT=(()=>({...$v,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:ny}))();class fT{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function an(){return iy}function iy(n){return n.type.prototype.ngOnChanges&&(n.setInput=gT),pT}function pT(){const n=sy(this),e=n?.current;if(e){const t=n.previous;if(t===Kn)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function gT(n,e,t,i){const r=this.declaredInputs[t],s=sy(n)||function mT(n,e){return n[ry]=e}(n,{previous:Kn,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[r];o[r]=new fT(l&&l.currentValue,e,a===Kn),n[i]=e}an.ngInherit=!0;const ry="__ngSimpleChanges__";function sy(n){return n[ry]||null}const Zn=function(n,e,t){};function Pe(n){for(;Array.isArray(n);)n=n[He];return n}function Ml(n,e){return Pe(e[n])}function Yt(n,e){return Pe(e[n.index])}function ly(n,e){return n.data[e]}function ln(n,e){const t=e[n];return qt(t)?t:t[He]}function qi(n,e){return null==e?null:n[e]}function cy(n){n[Xr]=0}function CT(n){1024&n[ne]||(n[ne]|=1024,dy(n,1))}function uy(n){1024&n[ne]&&(n[ne]&=-1025,dy(n,-1))}function dy(n,e){let t=n[ke];if(null===t)return;t[yo]+=e;let i=t;for(t=t[ke];null!==t&&(1===e&&1===i[yo]||-1===e&&0===i[yo]);)t[yo]+=e,i=t,t=t[ke]}const G={lFrame:Cy(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function py(){return G.bindingsEnabled}function I(){return G.lFrame.lView}function ue(){return G.lFrame.tView}function th(n){return G.lFrame.contextLView=n,n[Ye]}function nh(n){return G.lFrame.contextLView=null,n}function yt(){let n=gy();for(;null!==n&&64===n.type;)n=n.parent;return n}function gy(){return G.lFrame.currentTNode}function Jn(n,e){const t=G.lFrame;t.currentTNode=n,t.isParent=e}function ih(){return G.lFrame.isParent}function ts(){return G.lFrame.bindingIndex++}function NT(n,e){const t=G.lFrame;t.bindingIndex=t.bindingRootIndex=n,sh(e)}function sh(n){G.lFrame.currentDirectiveIndex=n}function by(){return G.lFrame.currentQueryIndex}function ah(n){G.lFrame.currentQueryIndex=n}function LT(n){const e=n[k];return 2===e.type?e.declTNode:1===e.type?n[Ct]:null}function _y(n,e,t){if(t&oe.SkipSelf){let r=e,s=n;for(;!(r=r.parent,null!==r||t&oe.Host||(r=LT(s),null===r||(s=s[Kr],10&r.type))););if(null===r)return!1;e=r,n=s}const i=G.lFrame=wy();return i.currentTNode=e,i.lView=n,!0}function lh(n){const e=wy(),t=n[k];G.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function wy(){const n=G.lFrame,e=null===n?null:n.child;return null===e?Cy(n):e}function Cy(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function Ey(){const n=G.lFrame;return G.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Ay=Ey;function ch(){const n=Ey();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function kt(){return G.lFrame.selectedIndex}function vr(n){G.lFrame.selectedIndex=n}function Fe(){const n=G.lFrame;return ly(n.tView,n.selectedIndex)}let Sy=!0;function xl(){return Sy}function Yi(n){Sy=n}function Il(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),null!=u&&(n.destroyHooks??=[]).push(t,u)}}function Tl(n,e,t){My(n,e,3,t)}function Pl(n,e,t,i){(3&n[ne])===t&&My(n,e,t,i)}function uh(n,e){let t=n[ne];(3&t)===e&&(t&=8191,t+=1,n[ne]=t)}function My(n,e,t,i){const s=i??-1,o=e.length-1;let a=0;for(let l=void 0!==i?65535&n[Xr]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=i&&a>=i)break}else e[l]<0&&(n[Xr]+=65536),(a<s||-1==s)&&(zT(n,t,e,l),n[Xr]=(4294901760&n[Xr])+l+2),l++}function xy(n,e){Zn(4,n,e);const t=wn(null);try{e.call(n)}finally{wn(t),Zn(5,n,e)}}function zT(n,e,t,i){const r=t[i]<0,s=t[i+1],a=n[r?-t[i]:t[i]];r?n[ne]>>13<n[Xr]>>16&&(3&n[ne])===e&&(n[ne]+=8192,xy(a,s)):xy(a,s)}const ns=-1;class Mo{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function hh(n){return n!==ns}function xo(n){return 32767&n}function Io(n,e){let t=function YT(n){return n>>16}(n),i=e;for(;t>0;)i=i[Kr],t--;return i}let fh=!0;function Rl(n){const e=fh;return fh=n,e}const Iy=255,Ty=5;let KT=0;const ei={};function Ol(n,e){const t=Py(n,e);if(-1!==t)return t;const i=e[k];i.firstCreatePass&&(n.injectorIndex=e.length,ph(i.data,n),ph(e,null),ph(i.blueprint,null));const r=Nl(n,e),s=n.injectorIndex;if(hh(r)){const o=xo(r),a=Io(r,e),l=a[k].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=r,s}function ph(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Py(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Nl(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){if(i=Vy(r),null===i)return ns;if(t++,r=r[Kr],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return ns}function gh(n,e,t){!function XT(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(mo)&&(i=t[mo]),null==i&&(i=t[mo]=KT++);const r=i&Iy;e.data[n+(r>>Ty)]|=1<<r}(n,e,t)}function Ry(n,e,t){if(t&oe.Optional||void 0!==n)return n;Od()}function Oy(n,e,t,i){if(t&oe.Optional&&void 0===i&&(i=null),!(t&(oe.Self|oe.Host))){const r=n[zi],s=Gt(void 0);try{return r?r.get(e,i,t&oe.Optional):wv(e,i,t&oe.Optional)}finally{Gt(s)}}return Ry(i,0,t)}function Ny(n,e,t,i=oe.Default,r){if(null!==n){if(2048&e[ne]&&!(i&oe.Self)){const o=function nP(n,e,t,i,r){let s=n,o=e;for(;null!==s&&null!==o&&2048&o[ne]&&!(512&o[ne]);){const a=ky(s,o,t,i|oe.Self,ei);if(a!==ei)return a;let l=s.parent;if(!l){const c=o[jv];if(c){const u=c.get(t,ei,i);if(u!==ei)return u}l=Vy(o),o=o[Kr]}s=l}return r}(n,e,t,i,ei);if(o!==ei)return o}const s=ky(n,e,t,i,ei);if(s!==ei)return s}return Oy(e,t,i,r)}function ky(n,e,t,i,r){const s=function JT(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(mo)?n[mo]:void 0;return"number"==typeof e?e>=0?e&Iy:tP:e}(t);if("function"==typeof s){if(!_y(e,n,i))return i&oe.Host?Ry(r,0,i):Oy(e,t,i,r);try{let o;if(o=s(i),null!=o||i&oe.Optional)return o;Od()}finally{Ay()}}else if("number"==typeof s){let o=null,a=Py(n,e),l=ns,c=i&oe.Host?e[Ke][Ct]:null;for((-1===a||i&oe.SkipSelf)&&(l=-1===a?Nl(n,e):e[a+8],l!==ns&&Fy(i,!1)?(o=e[k],a=xo(l),e=Io(l,e)):a=-1);-1!==a;){const u=e[k];if(Ly(s,a,u.data)){const d=ZT(a,e,t,o,i,c);if(d!==ei)return d}l=e[a+8],l!==ns&&Fy(i,e[k].data[a+8]===c)&&Ly(s,a,e)?(o=u,a=xo(l),e=Io(l,e)):a=-1}}return r}function ZT(n,e,t,i,r,s){const o=e[k],a=o.data[n+8],u=kl(a,o,t,null==i?gr(a)&&fh:i!=o&&0!=(3&a.type),r&oe.Host&&s===a);return null!==u?yr(e,o,u,a):ei}function kl(n,e,t,i,r){const s=n.providerIndexes,o=e.data,a=1048575&s,l=n.directiveStart,u=s>>20,h=r?a+u:n.directiveEnd;for(let f=i?a:a+u;f<h;f++){const p=o[f];if(f<l&&t===p||f>=l&&p.type===t)return f}if(r){const f=o[l];if(f&&Fn(f)&&f.type===t)return l}return null}function yr(n,e,t,i){let r=n[t];const s=e.data;if(function GT(n){return n instanceof Mo}(r)){const o=r;o.resolving&&function _I(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new P(-200,`Circular dependency in DI detected for ${n}${t}`)}(function be(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():X(n)}(s[t]));const a=Rl(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?Gt(o.injectImpl):null;_y(n,i,oe.Default);try{r=n[t]=o.factory(void 0,s,n,i),e.firstCreatePass&&t>=i.directiveStart&&function $T(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){const o=iy(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}r&&(t.preOrderHooks??=[]).push(0-n,r),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}(t,s[t],e)}finally{null!==c&&Gt(c),Rl(a),o.resolving=!1,Ay()}}return r}function Ly(n,e,t){return!!(t[e+(n>>Ty)]&1<<n)}function Fy(n,e){return!(n&oe.Self||n&oe.Host&&e)}class Lt{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return Ny(this._tNode,this._lView,e,bl(i),t)}}function tP(){return new Lt(yt(),I())}function bt(n){return fi(()=>{const e=n.prototype.constructor,t=e[pi]||mh(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const s=r[pi]||mh(r);if(s&&s!==t)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function mh(n){return Pd(n)?()=>{const e=mh(W(n));return e&&e()}:mr(n)}function Vy(n){const e=n[k],t=e.type;return 2===t?e.declTNode:1===t?n[Ct]:null}const rs="__parameters__";function os(n,e,t){return fi(()=>{const i=function vh(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...s){if(this instanceof r)return i.apply(this,s),this;const o=new r(...s);return a.annotation=o,a;function a(l,c,u){const d=l.hasOwnProperty(rs)?l[rs]:Object.defineProperty(l,rs,{value:[]})[rs];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}function ls(n,e){n.forEach(t=>Array.isArray(t)?ls(t,e):e(t))}function By(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Fl(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function cn(n,e,t){let i=cs(n,e);return i>=0?n[1|i]=t:(i=~i,function cP(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function yh(n,e){const t=cs(n,e);if(t>=0)return n[1|t]}function cs(n,e){return function Hy(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const s=i+(r-i>>1),o=n[s<<t];if(e===o)return s<<t;o>e?r=s:i=s+1}return~(r<<t)}(n,e,1)}const jl=go(os("Optional"),8),Bl=go(os("SkipSelf"),4);function Gl(n){return 128==(128&n.flags)}var Ki=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Ki||{});const Eh=new Map;let OP=0;const Dh="__ngContext__";function Et(n,e){qt(e)?(n[Dh]=e[wo],function kP(n){Eh.set(n[wo],n)}(e)):n[Dh]=e}let Sh;function Mh(n,e){return Sh(n,e)}function ko(n){const e=n[ke];return Ot(e)?e[ke]:e}function ab(n){return cb(n[bo])}function lb(n){return cb(n[Ln])}function cb(n){for(;null!==n&&!Ot(n);)n=n[Ln];return n}function hs(n,e,t,i,r){if(null!=i){let s,o=!1;Ot(i)?s=i:qt(i)&&(o=!0,i=i[He]);const a=Pe(i);0===n&&null!==t?null==r?fb(e,t,a):br(e,t,a,r||null,!0):1===n&&null!==t?br(e,t,a,r||null,!0):2===n?function Zl(n,e,t){const i=Xl(n,e);i&&function e1(n,e,t,i){n.removeChild(e,t,i)}(n,i,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function i1(n,e,t,i,r){const s=t[Qn];s!==Pe(t)&&hs(e,n,i,s,r);for(let a=mt;a<t.length;a++){const l=t[a];Fo(l[k],l,n,e,i,s)}}(e,n,s,t,r)}}function Yl(n,e,t){return n.createElement(e,t)}function db(n,e){const t=n[Qr],i=t.indexOf(e);uy(e),t.splice(i,1)}function Kl(n,e){if(n.length<=mt)return;const t=mt+e,i=n[t];if(i){const r=i[_o];null!==r&&r!==n&&db(r,i),e>0&&(n[t-1][Ln]=i[Ln]);const s=Fl(n,mt+e);!function WP(n,e){Fo(n,e,e[Q],2,null,null),e[He]=null,e[Ct]=null}(i[k],i);const o=s[Xn];null!==o&&o.detachView(s[k]),i[ke]=null,i[Ln]=null,i[ne]&=-129}return i}function Ih(n,e){if(!(256&e[ne])){const t=e[Q];e[Co]&&Kv(e[Co]),e[Eo]&&Kv(e[Eo]),t.destroyNode&&Fo(n,e,t,3,null,null),function KP(n){let e=n[bo];if(!e)return Th(n[k],n);for(;e;){let t=null;if(qt(e))t=e[bo];else{const i=e[mt];i&&(t=i)}if(!t){for(;e&&!e[Ln]&&e!==n;)qt(e)&&Th(e[k],e),e=e[ke];null===e&&(e=n),qt(e)&&Th(e[k],e),t=e&&e[Ln]}e=t}}(e)}}function Th(n,e){if(!(256&e[ne])){e[ne]&=-129,e[ne]|=256,function JP(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof Mo)){const s=t[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=r[s[o]],l=s[o+1];Zn(4,a,l);try{l.call(a)}finally{Zn(5,a,l)}}else{Zn(4,r,s);try{s.call(r)}finally{Zn(5,r,s)}}}}}(n,e),function ZP(n,e){const t=n.cleanup,i=e[qr];if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else t[s].call(i[t[s+1]]);null!==i&&(e[qr]=null);const r=e[Gi];if(null!==r){e[Gi]=null;for(let s=0;s<r.length;s++)(0,r[s])()}}(n,e),1===e[k].type&&e[Q].destroy();const t=e[_o];if(null!==t&&Ot(e[ke])){t!==e[ke]&&db(t,e);const i=e[Xn];null!==i&&i.detachView(n)}!function LP(n){Eh.delete(n[wo])}(e)}}function Ph(n,e,t){return function hb(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[He];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:s}=n.data[i.directiveStart+r];if(s===On.None||s===On.Emulated)return null}return Yt(i,t)}}(n,e.parent,t)}function br(n,e,t,i,r){n.insertBefore(e,t,i,r)}function fb(n,e,t){n.appendChild(e,t)}function pb(n,e,t,i,r){null!==i?br(n,e,t,i,r):fb(n,e,t)}function Xl(n,e){return n.parentNode(e)}let Rh,Lh,ec,vb=function mb(n,e,t){return 40&n.type?Yt(n,t):null};function Ql(n,e,t,i){const r=Ph(n,i,e),s=e[Q],a=function gb(n,e,t){return vb(n,e,t)}(i.parent||e[Ct],i,e);if(null!=r)if(Array.isArray(t))for(let l=0;l<t.length;l++)pb(s,r,t[l],a,!1);else pb(s,r,t,a,!1);void 0!==Rh&&Rh(s,i,e,t,r)}function Lo(n,e){if(null!==e){const t=e.type;if(3&t)return Yt(e,n);if(4&t)return Oh(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return Lo(n,i);{const r=n[e.index];return Ot(r)?Oh(-1,r):Pe(r)}}if(32&t)return Mh(e,n)()||Pe(n[e.index]);{const i=bb(n,e);return null!==i?Array.isArray(i)?i[0]:Lo(ko(n[Ke]),i):Lo(n,e.next)}}return null}function bb(n,e){return null!==e?n[Ke][Ct].projection[e.projection]:null}function Oh(n,e){const t=mt+n+1;if(t<e.length){const i=e[t],r=i[k].firstChild;if(null!==r)return Lo(i,r)}return e[Qn]}function Nh(n,e,t,i,r,s,o){for(;null!=t;){const a=i[t.index],l=t.type;if(o&&0===e&&(a&&Et(Pe(a),i),t.flags|=2),32!=(32&t.flags))if(8&l)Nh(n,e,t.child,i,r,s,!1),hs(e,n,r,a,s);else if(32&l){const c=Mh(t,i);let u;for(;u=c();)hs(e,n,r,u,s);hs(e,n,r,a,s)}else 16&l?wb(n,e,i,t,r,s):hs(e,n,r,a,s);t=o?t.projectionNext:t.next}}function Fo(n,e,t,i,r,s){Nh(t,i,n.firstChild,e,r,s,!1)}function wb(n,e,t,i,r,s){const o=t[Ke],l=o[Ct].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)hs(e,n,r,l[c],s);else{let c=l;const u=o[ke];Gl(i)&&(c.flags|=128),Nh(n,e,c,u,r,s,!0)}}function Cb(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Eb(n,e,t){const{mergedAttrs:i,classes:r,styles:s}=t;null!==i&&zd(n,e,i),null!==r&&Cb(n,e,r),null!==s&&function s1(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}function Sb(n){return function Fh(){if(void 0===ec&&(ec=null,Te.trustedTypes))try{ec=Te.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return ec}()?.createScriptURL(n)||n}class Mb{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${vv})`}}function Xi(n){return n instanceof Mb?n.changingThisBreaksApplicationSecurity:n}function Vo(n,e){const t=function g1(n){return n instanceof Mb&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${vv})`)}return t===e}const b1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var gs=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(gs||{});function En(n){const e=Bo();return e?e.sanitize(gs.URL,n)||"":Vo(n,"URL")?Xi(n):function Vh(n){return(n=String(n)).match(b1)?n:"unsafe:"+n}(X(n))}function Nb(n){const e=Bo();if(e)return Sb(e.sanitize(gs.RESOURCE_URL,n)||"");if(Vo(n,"ResourceURL"))return Sb(Xi(n));throw new P(904,!1)}function Bo(){const n=I();return n&&n[Yr].sanitizer}const Ho=new V("ENVIRONMENT_INITIALIZER"),Lb=new V("INJECTOR",-1),Fb=new V("INJECTOR_DEF_TYPES");class Uh{get(e,t=po){if(t===po){const i=new Error(`NullInjectorError: No provider for ${st(e)}!`);throw i.name="NullInjectorError",i}return t}}function R1(...n){return{\u0275providers:jb(0,n),\u0275fromNgModule:!0}}function jb(n,...e){const t=[],i=new Set;let r;const s=o=>{t.push(o)};return ls(e,o=>{const a=o;nc(a,s,[],i)&&(r||=[],r.push(a))}),void 0!==r&&Bb(r,s),t}function Bb(n,e){for(let t=0;t<n.length;t++){const{ngModule:i,providers:r}=n[t];$h(r,s=>{e(s,i)})}}function nc(n,e,t,i){if(!(n=W(n)))return!1;let r=null,s=ml(n);const o=!s&&ce(n);if(s||o){if(o&&!o.standalone)return!1;r=n}else{const l=n.ngModule;if(s=ml(l),!s)return!1;r=l}const a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)nc(c,e,t,i)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;i.add(r);try{ls(s.imports,u=>{nc(u,e,t,i)&&(c||=[],c.push(u))})}finally{}void 0!==c&&Bb(c,e)}if(!a){const c=mr(r)||(()=>new r);e({provide:r,useFactory:c,deps:ge},r),e({provide:Fb,useValue:r,multi:!0},r),e({provide:Ho,useValue:()=>$(r),multi:!0},r)}const l=s.providers;if(null!=l&&!a){const c=n;$h(l,u=>{e(u,c)})}}}return r!==n&&void 0!==n.providers}function $h(n,e){for(let t of n)Rd(t)&&(t=t.\u0275providers),Array.isArray(t)?$h(t,e):e(t)}const O1=we({provide:String,useValue:we});function zh(n){return null!==n&&"object"==typeof n&&O1 in n}function _r(n){return"function"==typeof n}const Gh=new V("Set Injector scope."),ic={},k1={};let Wh;function rc(){return void 0===Wh&&(Wh=new Uh),Wh}class An{}class ms extends An{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Yh(e,o=>this.processProvider(o)),this.records.set(Lb,vs(void 0,this)),r.has("environment")&&this.records.set(An,vs(void 0,this));const s=this.records.get(Gh);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Fb.multi,ge,oe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=$i(this),i=Gt(void 0);try{return e()}finally{$i(t),Gt(i)}}get(e,t=po,i=oe.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Sv))return e[Sv](this);i=bl(i);const s=$i(this),o=Gt(void 0);try{if(!(i&oe.SkipSelf)){let l=this.records.get(e);if(void 0===l){const c=function B1(n){return"function"==typeof n||"object"==typeof n&&n instanceof V}(e)&&gl(e);l=c&&this.injectableDefInScope(c)?vs(qh(e),ic):null,this.records.set(e,l)}if(null!=l)return this.hydrate(e,l)}return(i&oe.Self?rc():this.parent).get(e,t=i&oe.Optional&&t===po?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[yl]=a[yl]||[]).unshift(st(e)),s)throw a;return function kI(n,e,t,i){const r=n[yl];throw e[Ev]&&r.unshift(e[Ev]),n.message=function LI(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=st(e);if(Array.isArray(e))r=e.map(st).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):st(a)))}r=`{${s.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(TI,"\n  ")}`}("\n"+n.message,r,t,i),n.ngTokenPath=r,n[yl]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{Gt(o),$i(s)}}resolveInjectorInitializers(){const e=$i(this),t=Gt(void 0);try{const r=this.get(Ho.multi,ge,oe.Self);for(const s of r)s()}finally{$i(e),Gt(t)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(st(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new P(205,!1)}processProvider(e){let t=_r(e=W(e))?e:W(e&&e.provide);const i=function F1(n){return zh(n)?vs(void 0,n.useValue):vs($b(n),ic)}(e);if(_r(e)||!0!==e.multi)this.records.get(t);else{let r=this.records.get(t);r||(r=vs(void 0,ic,!0),r.factory=()=>Hd(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){return t.value===ic&&(t.value=k1,t.value=t.factory()),"object"==typeof t.value&&t.value&&function j1(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=W(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function qh(n){const e=gl(n),t=null!==e?e.factory:mr(n);if(null!==t)return t;if(n instanceof V)throw new P(204,!1);if(n instanceof Function)return function L1(n){const e=n.length;if(e>0)throw function Ro(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}(e,"?"),new P(204,!1);const t=function SI(n){return n&&(n[vl]||n[bv])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new P(204,!1)}function $b(n,e,t){let i;if(_r(n)){const r=W(n);return mr(r)||qh(r)}if(zh(n))i=()=>W(n.useValue);else if(function Ub(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Hd(n.deps||[]));else if(function Hb(n){return!(!n||!n.useExisting)}(n))i=()=>$(W(n.useExisting));else{const r=W(n&&(n.useClass||n.provide));if(!function V1(n){return!!n.deps}(n))return mr(r)||qh(r);i=()=>new r(...Hd(n.deps))}return i}function vs(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Yh(n,e){for(const t of n)Array.isArray(t)?Yh(t,e):t&&Rd(t)?Yh(t.\u0275providers,e):e(t)}const sc=new V("AppId",{providedIn:"root",factory:()=>H1}),H1="ng",zb=new V("Platform Initializer"),ys=new V("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Gb=new V("CSP nonce",{providedIn:"root",factory:()=>function ps(){if(void 0!==Lh)return Lh;if(typeof document<"u")return document;throw new P(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Wb=(n,e,t)=>null;function nf(n,e,t=!1){return Wb(n,e,t)}class Q1{}class Kb{}class J1{resolveComponentFactory(e){throw function Z1(n){const e=Error(`No component factory found for ${st(n)}.`);return e.ngComponent=n,e}(e)}}let dc=(()=>{class n{static{this.NULL=new J1}}return n})();function eR(){return ws(yt(),I())}function ws(n,e){return new Xt(Yt(n,e))}let Xt=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=eR}}return n})();function tR(n){return n instanceof Xt?n.nativeElement:n}class Qb{}let bi=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function nR(){const n=I(),t=ln(yt().index,n);return(qt(t)?t:n)[Q]}()}}return n})(),iR=(()=>{class n{static{this.\u0275prov=U({token:n,providedIn:"root",factory:()=>null})}}return n})();class zo{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const rR=new zo("16.2.12"),af={};function t_(n,e=null,t=null,i){const r=n_(n,e,t,i);return r.resolveInjectorInitializers(),r}function n_(n,e=null,t=null,i,r=new Set){const s=[t||ge,R1(n)];return i=i||("object"==typeof n?void 0:st(n)),new ms(s,e||rc(),i||null,r)}let un=(()=>{class n{static{this.THROW_IF_NOT_FOUND=po}static{this.NULL=new Uh}static create(t,i){if(Array.isArray(t))return t_({name:""},i,t,"");{const r=t.name??"";return t_({name:r},t.parent,t.providers,r)}}static{this.\u0275prov=U({token:n,providedIn:"any",factory:()=>$(Lb)})}static{this.__NG_ELEMENT_ID__=-1}}return n})();function cf(n){return n.ngOriginalError}class _i{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&cf(e);for(;t&&cf(t);)t=cf(t);return t||null}}function uf(n){return e=>{setTimeout(n,void 0,e)}}const Ce=class hR extends vn{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let r=e,s=t||(()=>null),o=i;if(e&&"object"==typeof e){const l=e;r=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=uf(s),r&&(r=uf(r)),o&&(o=uf(o)));const a=super.subscribe({next:r,error:s,complete:o});return e instanceof $t&&e.add(a),a}};function r_(...n){}class Me{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ce(!1),this.onMicrotaskEmpty=new Ce(!1),this.onStable=new Ce(!1),this.onError=new Ce(!1),typeof Zone>"u")throw new P(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function fR(){const n="function"==typeof Te.requestAnimationFrame;let e=Te[n?"requestAnimationFrame":"setTimeout"],t=Te[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function mR(n){const e=()=>{!function gR(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Te,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,hf(n),n.isCheckStableRunning=!0,df(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),hf(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,s,o,a)=>{if(function yR(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(r,s,o,a);try{return s_(n),t.invokeTask(r,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),o_(n)}},onInvoke:(t,i,r,s,o,a,l)=>{try{return s_(n),t.invoke(r,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),o_(n)}},onHasTask:(t,i,r,s)=>{t.hasTask(r,s),i===r&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,hf(n),df(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,i,r,s)=>(t.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Me.isInAngularZone())throw new P(909,!1)}static assertNotInAngularZone(){if(Me.isInAngularZone())throw new P(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,pR,r_,r_);try{return s.runTask(o,t,i)}finally{s.cancelTask(o)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const pR={};function df(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function hf(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function s_(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function o_(n){n._nesting--,df(n)}class vR{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ce,this.onMicrotaskEmpty=new Ce,this.onStable=new Ce,this.onError=new Ce}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}const a_=new V("",{providedIn:"root",factory:l_});function l_(){const n=F(Me);let e=!0;return function mI(...n){const e=fo(n),t=function cI(n,e){return"number"==typeof xd(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?zt(i[0]):zr(t)(Je(i,e)):qn}(new We(r=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{r.next(e),r.complete()})}),new We(r=>{let s;n.runOutsideAngular(()=>{s=n.onStable.subscribe(()=>{Me.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,r.next(!0))})})});const o=n.onUnstable.subscribe(()=>{Me.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{r.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(mv()))}function c_(n){return n.ownerDocument.defaultView}function wi(n){return n instanceof Function?n():n}let ff=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=U({token:n,providedIn:"root",factory:()=>new n})}}return n})();function Go(n){for(;n;){n[ne]|=64;const e=ko(n);if(qd(n)&&!e)return n;n=e}return null}const p_=new V("",{providedIn:"root",factory:()=>!1});let pc=null;function y_(n,e){return n[e]??w_()}function b_(n,e){const t=w_();t.producerNode?.length&&(n[e]=pc,t.lView=n,pc=__())}const MR={...$v,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Go(n.lView)},lView:null};function __(){return Object.create(MR)}function w_(){return pc??=__(),pc}const J={};function j(n){C_(ue(),I(),kt()+n,!1)}function C_(n,e,t,i){if(!i)if(3==(3&e[ne])){const s=n.preOrderCheckHooks;null!==s&&Tl(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Pl(e,s,0,t)}vr(t)}function O(n,e=oe.Default){const t=I();return null===t?$(n,e):Ny(yt(),t,W(n),e)}function gc(n,e,t,i,r,s,o,a,l,c,u){const d=e.blueprint.slice();return d[He]=r,d[ne]=140|i,(null!==c||n&&2048&n[ne])&&(d[ne]|=2048),cy(d),d[ke]=d[Kr]=n,d[Ye]=t,d[Yr]=o||n&&n[Yr],d[Q]=a||n&&n[Q],d[zi]=l||n&&n[zi]||null,d[Ct]=s,d[wo]=function NP(){return OP++}(),d[gi]=u,d[jv]=c,d[Ke]=2==e.type?n[Ke]:d,d}function As(n,e,t,i,r){let s=n.data[e];if(null===s)s=function pf(n,e,t,i,r){const s=gy(),o=ih(),l=n.data[e]=function kR(n,e,t,i,r,s){let o=e?e.injectorIndex:-1,a=0;return function es(){return null!==G.skipHydrationRootTNode}()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(n,e,t,i,r),function OT(){return G.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=i,s.attrs=r;const o=function So(){const n=G.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Jn(s,!0),s}function Wo(n,e,t,i){if(0===t)return-1;const r=e.length;for(let s=0;s<t;s++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function A_(n,e,t,i,r){const s=y_(e,Co),o=kt(),a=2&i;try{vr(-1),a&&e.length>ae&&C_(n,e,ae,!1),Zn(a?2:0,r);const c=a?s:null,u=Kd(c);try{null!==c&&(c.dirty=!1),t(i,r)}finally{Xd(c,u)}}finally{a&&null===e[Co]&&b_(e,Co),vr(o),Zn(a?3:1,r)}}function gf(n,e,t){if(Wd(e)){const i=wn(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=n.data[o];a.contentQueries&&a.contentQueries(1,t[o],o)}}finally{wn(i)}}}function mf(n,e,t){py()&&(function UR(n,e,t,i){const r=t.directiveStart,s=t.directiveEnd;gr(t)&&function KR(n,e,t){const i=Yt(e,n),r=D_(t);let o=16;t.signals?o=4096:t.onPush&&(o=64);const a=mc(n,gc(n,r,null,o,i,e,null,n[Yr].rendererFactory.createRenderer(i,t),null,null,null));n[e.index]=a}(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Ol(t,e),Et(i,e);const o=t.initialInputs;for(let a=r;a<s;a++){const l=n.data[a],c=yr(e,n,a,t);Et(c,e),null!==o&&XR(0,a-r,c,l,0,o),Fn(l)&&(ln(t.index,e)[Ye]=yr(e,n,a,t))}}(n,e,t,Yt(t,e)),64==(64&t.flags)&&T_(n,e,t))}function vf(n,e,t=Yt){const i=e.localNames;if(null!==i){let r=e.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?t(e,n):n[o];n[r++]=a}}}function D_(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=yf(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function yf(n,e,t,i,r,s,o,a,l,c,u){const d=ae+i,h=d+r,f=function IR(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:J);return t}(d,h),p="function"==typeof c?c():c;return f[k]={type:n,blueprint:f,template:t,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}let S_=n=>null;function M_(n,e,t,i){for(let r in n)if(n.hasOwnProperty(r)){t=null===t?{}:t;const s=n[r];null===i?x_(t,e,r,s):i.hasOwnProperty(r)&&x_(t,e,i[r],s)}return t}function x_(n,e,t,i){n.hasOwnProperty(t)?n[t].push(e,i):n[t]=[e,i]}function dn(n,e,t,i,r,s,o,a){const l=Yt(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[i])?(Ef(n,t,u,i,r),gr(e)&&function VR(n,e){const t=ln(e,n);16&t[ne]||(t[ne]|=64)}(t,e.index)):3&e.type&&(i=function FR(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=o?o(r,e.value||"",i):r,s.setProperty(l,i,r))}function bf(n,e,t,i){if(py()){const r=null===i?null:{"":-1},s=function zR(n,e){const t=n.directiveRegistry;let i=null,r=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(Ov(e,o.selectors,!1))if(i||(i=[]),Fn(o))if(null!==o.findHostDirectiveDefs){const a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o),_f(n,e,a.length)}else i.unshift(o),_f(n,e,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return null===i?null:[i,r]}(n,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&I_(n,e,t,o,r,a),r&&function GR(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const s=t[e[r+1]];if(null==s)throw new P(-301,!1);i.push(e[r],s)}}}(t,i,r)}t.mergedAttrs=vo(t.mergedAttrs,t.attrs)}function I_(n,e,t,i,r,s){for(let c=0;c<i.length;c++)gh(Ol(t,e),n,i[c].type);!function qR(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,i.length);for(let c=0;c<i.length;c++){const u=i[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=Wo(n,e,i.length,null);for(let c=0;c<i.length;c++){const u=i[c];t.mergedAttrs=vo(t.mergedAttrs,u.hostAttrs),YR(n,t,e,l,u),WR(l,u,r),null!==u.contentQueries&&(t.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=64);const d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}!function LR(n,e,t){const r=e.directiveEnd,s=n.data,o=e.attrs,a=[];let l=null,c=null;for(let u=e.directiveStart;u<r;u++){const d=s[u],h=t?t.get(d):null,p=h?h.outputs:null;l=M_(d.inputs,u,l,h?h.inputs:null),c=M_(d.outputs,u,c,p);const g=null===l||null===o||Rv(e)?null:QR(l,u,o);a.push(g)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}(n,t,s)}function T_(n,e,t){const i=t.directiveStart,r=t.directiveEnd,s=t.index,o=function kT(){return G.lFrame.currentDirectiveIndex}();try{vr(s);for(let a=i;a<r;a++){const l=n.data[a],c=e[a];sh(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&$R(l,c)}}finally{vr(-1),sh(o)}}function $R(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function _f(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function WR(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;Fn(e)&&(t[""]=n)}}function YR(n,e,t,i,r){n.data[i]=r;const s=r.factory||(r.factory=mr(r.type)),o=new Mo(s,Fn(r),O);n.blueprint[i]=o,t[i]=o,function BR(n,e,t,i,r){const s=r.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function HR(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,i,s)}}(n,e,i,Wo(n,t,r.hostVars,J),r)}function ti(n,e,t,i,r,s){const o=Yt(n,e);!function wf(n,e,t,i,r,s,o){if(null==s)n.removeAttribute(e,r,t);else{const a=null==o?X(s):o(s,i||"",r);n.setAttribute(e,r,a,t)}}(e[Q],o,s,n.value,t,i,r)}function XR(n,e,t,i,r,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)P_(i,t,o[a++],o[a++],o[a++])}function P_(n,e,t,i,r){const s=wn(null);try{const o=n.inputTransforms;null!==o&&o.hasOwnProperty(i)&&(r=o[i].call(e,r)),null!==n.setInput?n.setInput(e,r,t,i):e[i]=r}finally{wn(s)}}function QR(n,e,t){let i=null,r=0;for(;r<t.length;){const s=t[r];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===i&&(i=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){i.push(s,o[a+1],t[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function R_(n,e,t,i){return[n,!0,!1,e,null,0,i,t,null,null,null]}function O_(n,e){const t=n.contentQueries;if(null!==t)for(let i=0;i<t.length;i+=2){const s=t[i+1];if(-1!==s){const o=n.data[s];ah(t[i]),o.contentQueries(2,e[s],s)}}}function mc(n,e){return n[bo]?n[Vv][Ln]=e:n[bo]=e,n[Vv]=e,e}function Cf(n,e,t){ah(0);const i=wn(null);try{e(n,t)}finally{wn(i)}}function N_(n){return n[qr]||(n[qr]=[])}function k_(n){return n.cleanup||(n.cleanup=[])}function F_(n,e){const t=n[zi],i=t?t.get(_i,null):null;i&&i.handleError(e)}function Ef(n,e,t,i,r){for(let s=0;s<t.length;){const o=t[s++],a=t[s++];P_(n.data[o],e[o],i,a,r)}}function ZR(n,e){const t=ln(e,n),i=t[k];!function JR(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(i,t);const r=t[He];null!==r&&null===t[gi]&&(t[gi]=nf(r,t[zi])),Af(i,t,t[Ye])}function Af(n,e,t){lh(e);try{const i=n.viewQuery;null!==i&&Cf(1,i,t);const r=n.template;null!==r&&A_(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&O_(n,e),n.staticViewQueries&&Cf(2,n.viewQuery,t);const s=n.components;null!==s&&function eO(n,e){for(let t=0;t<e.length;t++)ZR(n,e[t])}(e,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[ne]&=-5,ch()}}let V_=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(t,i,r){const s=typeof Zone>"u"?null:Zone.current,o=function dT(n,e,t){const i=Object.create(hT);t&&(i.consumerAllowSignalWrites=!0),i.fn=n,i.schedule=e;const r=o=>{i.cleanupFn=o};return i.ref={notify:()=>qv(i),run:()=>{if(i.dirty=!1,i.hasRun&&!Yv(i))return;i.hasRun=!0;const o=Kd(i);try{i.cleanupFn(),i.cleanupFn=ny,i.fn(r)}finally{Xd(i,o)}},cleanup:()=>i.cleanupFn()},i.ref}(t,c=>{this.all.has(c)&&this.queue.set(c,s)},r);let a;this.all.add(o),o.notify();const l=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[t,i]of this.queue)this.queue.delete(t),i?i.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=U({token:n,providedIn:"root",factory:()=>new n})}}return n})();function vc(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?r=Td(r,a):2==s&&(i=Td(i,a+": "+e[++o]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}function qo(n,e,t,i,r=!1){for(;null!==t;){const s=e[t.index];null!==s&&i.push(Pe(s)),Ot(s)&&j_(s,i);const o=t.type;if(8&o)qo(n,e,t.child,i);else if(32&o){const a=Mh(t,e);let l;for(;l=a();)i.push(l)}else if(16&o){const a=bb(e,t);if(Array.isArray(a))i.push(...a);else{const l=ko(e[Ke]);qo(l[k],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function j_(n,e){for(let t=mt;t<n.length;t++){const i=n[t],r=i[k].firstChild;null!==r&&qo(i[k],i,r,e)}n[Qn]!==n[He]&&e.push(n[Qn])}function yc(n,e,t,i=!0){const r=e[Yr],s=r.rendererFactory,o=r.afterRenderEventManager;s.begin?.(),o?.begin();try{B_(n,e,n.template,t)}catch(l){throw i&&F_(e,l),l}finally{s.end?.(),r.effectManager?.flush(),o?.end()}}function B_(n,e,t,i){const r=e[ne];if(256!=(256&r)){e[Yr].effectManager?.flush(),lh(e);try{cy(e),function vy(n){return G.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&A_(n,e,t,2,i);const o=3==(3&r);if(o){const c=n.preOrderCheckHooks;null!==c&&Tl(e,c,null)}else{const c=n.preOrderHooks;null!==c&&Pl(e,c,0,null),uh(e,0)}if(function iO(n){for(let e=ab(n);null!==e;e=lb(e)){if(!e[Bv])continue;const t=e[Qr];for(let i=0;i<t.length;i++){CT(t[i])}}}(e),H_(e,2),null!==n.contentQueries&&O_(n,e),o){const c=n.contentCheckHooks;null!==c&&Tl(e,c)}else{const c=n.contentHooks;null!==c&&Pl(e,c,1),uh(e,1)}!function xR(n,e){const t=n.hostBindingOpCodes;if(null===t)return;const i=y_(e,Eo);try{for(let r=0;r<t.length;r++){const s=t[r];if(s<0)vr(~s);else{const o=s,a=t[++r],l=t[++r];NT(a,o),i.dirty=!1;const c=Kd(i);try{l(2,e[o])}finally{Xd(i,c)}}}}finally{null===e[Eo]&&b_(e,Eo),vr(-1)}}(n,e);const a=n.components;null!==a&&$_(e,a,0);const l=n.viewQuery;if(null!==l&&Cf(2,l,i),o){const c=n.viewCheckHooks;null!==c&&Tl(e,c)}else{const c=n.viewHooks;null!==c&&Pl(e,c,2),uh(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[ne]&=-73,uy(e)}finally{ch()}}}function H_(n,e){for(let t=ab(n);null!==t;t=lb(t))for(let i=mt;i<t.length;i++)U_(t[i],e)}function rO(n,e,t){U_(ln(e,n),t)}function U_(n,e){if(!function _T(n){return 128==(128&n[ne])}(n))return;const t=n[k],i=n[ne];if(80&i&&0===e||1024&i||2===e)B_(t,n,t.template,n[Ye]);else if(n[yo]>0){H_(n,1);const r=t.components;null!==r&&$_(n,r,1)}}function $_(n,e,t){for(let i=0;i<e.length;i++)rO(n,e[i],t)}class Yo{get rootNodes(){const e=this._lView,t=e[k];return qo(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ye]}set context(e){this._lView[Ye]=e}get destroyed(){return 256==(256&this._lView[ne])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[ke];if(Ot(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(Kl(e,i),Fl(t,i))}this._attachedToViewContainer=!1}Ih(this._lView[k],this._lView)}onDestroy(e){!function hy(n,e){if(256==(256&n[ne]))throw new P(911,!1);null===n[Gi]&&(n[Gi]=[]),n[Gi].push(e)}(this._lView,e)}markForCheck(){Go(this._cdRefInjectingView||this._lView)}detach(){this._lView[ne]&=-129}reattach(){this._lView[ne]|=128}detectChanges(){yc(this._lView[k],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new P(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function YP(n,e){Fo(n,e,e[Q],2,null,null)}(this._lView[k],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new P(902,!1);this._appRef=e}}class sO extends Yo{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;yc(e[k],e,e[Ye],!1)}checkNoChanges(){}get context(){return null}}class z_ extends dc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=ce(e);return new Ko(t,this.ngModule)}}function G_(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class aO{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=bl(i);const r=this.injector.get(e,af,i);return r!==af||t===af?r:this.parentInjector.get(e,t,i)}}class Ko extends Kb{get inputs(){const e=this.componentDef,t=e.inputTransforms,i=G_(e.inputs);if(null!==t)for(const r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return G_(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function WI(n){return n.map(GI).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let s=(r=r||this.ngModule)instanceof An?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new aO(e,s):e,a=o.get(Qb,null);if(null===a)throw new P(407,!1);const d={rendererFactory:a,sanitizer:o.get(iR,null),effectManager:o.get(V_,null),afterRenderEventManager:o.get(ff,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=i?function TR(n,e,t,i){const s=i.get(p_,!1)||t===On.ShadowDom,o=n.selectRootElement(e,s);return function PR(n){S_(n)}(o),o}(h,i,this.componentDef.encapsulation,o):Yl(h,f,function oO(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f)),m=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let y=null;null!==p&&(y=nf(p,o,!0));const b=yf(0,null,null,1,0,null,null,null,null,null,null),_=gc(null,b,null,m,null,null,d,h,o,null,y);let w,D;lh(_);try{const S=this.componentDef;let T,E=null;S.findHostDirectiveDefs?(T=[],E=new Map,S.findHostDirectiveDefs(S,T,E),T.push(S)):T=[S];const R=function cO(n,e){const t=n[k],i=ae;return n[i]=e,As(t,i,2,"#host",null)}(_,p),L=function uO(n,e,t,i,r,s,o){const a=r[k];!function dO(n,e,t,i){for(const r of n)e.mergedAttrs=vo(e.mergedAttrs,r.hostAttrs);null!==e.mergedAttrs&&(vc(e,e.mergedAttrs,!0),null!==t&&Eb(i,t,e))}(i,n,e,o);let l=null;null!==e&&(l=nf(e,r[zi]));const c=s.rendererFactory.createRenderer(e,t);let u=16;t.signals?u=4096:t.onPush&&(u=64);const d=gc(r,D_(t),null,u,r[n.index],n,s,c,null,null,l);return a.firstCreatePass&&_f(a,n,i.length-1),mc(r,d),r[n.index]=d}(R,p,S,T,_,d,h);D=ly(b,ae),p&&function fO(n,e,t,i){if(i)zd(n,t,["ng-version",rR.full]);else{const{attrs:r,classes:s}=function qI(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let s=n[i];if("string"==typeof s)2===r?""!==s&&e.push(s,n[++i]):8===r&&t.push(s);else{if(!Nn(r))break;r=s}i++}return{attrs:e,classes:t}}(e.selectors[0]);r&&zd(n,t,r),s&&s.length>0&&Cb(n,t,s.join(" "))}}(h,S,p,i),void 0!==t&&function pO(n,e,t){const i=n.projection=[];for(let r=0;r<e.length;r++){const s=t[r];i.push(null!=s?Array.from(s):null)}}(D,this.ngContentSelectors,t),w=function hO(n,e,t,i,r,s){const o=yt(),a=r[k],l=Yt(o,r);I_(a,r,o,t,null,i);for(let u=0;u<t.length;u++)Et(yr(r,a,o.directiveStart+u,o),r);T_(a,r,o),l&&Et(l,r);const c=yr(r,a,o.directiveStart+o.componentOffset,o);if(n[Ye]=r[Ye]=c,null!==s)for(const u of s)u(c,e);return gf(a,o,n),c}(L,S,T,E,_,[gO]),Af(b,_,null)}finally{ch()}return new lO(this.componentType,w,ws(D,_),_,D)}}class lO extends Q1{constructor(e,t,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new sO(r),this.componentType=e}setInput(e,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const s=this._rootLView;Ef(s[k],s,r,e,t),this.previousInputValues.set(e,t),Go(ln(this._tNode.index,s))}}get injector(){return new Lt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function gO(){const n=yt();Il(I()[k],n)}function Ee(n){let e=function W_(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let r;if(Fn(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new P(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);const o=n;o.inputs=bc(n.inputs),o.inputTransforms=bc(n.inputTransforms),o.declaredInputs=bc(n.declaredInputs),o.outputs=bc(n.outputs);const a=r.hostBindings;a&&bO(n,a);const l=r.viewQuery,c=r.contentQueries;if(l&&vO(n,l),c&&yO(n,c),fl(n.inputs,r.inputs),fl(n.declaredInputs,r.declaredInputs),fl(n.outputs,r.outputs),null!==r.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),fl(o.inputTransforms,r.inputTransforms)),Fn(r)&&r.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===Ee&&(t=!1)}}e=Object.getPrototypeOf(e)}!function mO(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=vo(r.hostAttrs,t=vo(t,r.hostAttrs))}}(i)}function bc(n){return n===Kn?{}:n===ge?[]:n}function vO(n,e){const t=n.viewQuery;n.viewQuery=t?(i,r)=>{e(i,r),t(i,r)}:e}function yO(n,e){const t=n.contentQueries;n.contentQueries=t?(i,r,s)=>{e(i,r,s),t(i,r,s)}:e}function bO(n,e){const t=n.hostBindings;n.hostBindings=t?(i,r)=>{e(i,r),t(i,r)}:e}function X_(n){const e=n.inputConfig,t={};for(const i in e)if(e.hasOwnProperty(i)){const r=e[i];Array.isArray(r)&&r[2]&&(t[i]=r[2])}n.inputTransforms=t}function _c(n){return!!Df(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Df(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function At(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Qt(n,e,t,i){const r=I();return At(r,ts(),e)&&(ue(),ti(Fe(),r,n,e,t,i)),Qt}function Ss(n,e,t,i){return At(n,ts(),t)?e+X(t)+i:J}function Vn(n,e,t,i,r,s,o,a){const l=I(),c=ue(),u=n+ae,d=c.firstCreatePass?function zO(n,e,t,i,r,s,o,a,l){const c=e.consts,u=As(e,n,4,o||null,qi(c,a));bf(e,t,u,qi(c,l)),Il(e,u);const d=u.tView=yf(2,u,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,i,r,s,o):c.data[u];Jn(d,!1);const h=u0(c,l,d,n);xl()&&Ql(c,l,h,d),Et(h,l),mc(l,l[u]=R_(h,l,h,d)),Al(d)&&mf(c,l,d),null!=o&&vf(l,d,a)}let u0=function d0(n,e,t,i){return Yi(!0),e[Q].createComment("")};function de(n,e,t){const i=I();return At(i,ts(),e)&&dn(ue(),Fe(),i,n,e,i[Q],t,!1),de}function Pf(n,e,t,i,r){const o=r?"class":"style";Ef(n,t,e.inputs[o],o,i)}function C(n,e,t,i){const r=I(),s=ue(),o=ae+n,a=r[Q],l=s.firstCreatePass?function KO(n,e,t,i,r,s){const o=e.consts,l=As(e,n,2,i,qi(o,r));return bf(e,t,l,qi(o,s)),null!==l.attrs&&vc(l,l.attrs,!1),null!==l.mergedAttrs&&vc(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,r,e,t,i):s.data[o],c=h0(s,r,l,a,e,n);r[o]=c;const u=Al(l);return Jn(l,!0),Eb(a,c,l),32!=(32&l.flags)&&xl()&&Ql(s,r,c,l),0===function AT(){return G.lFrame.elementDepthCount}()&&Et(c,r),function DT(){G.lFrame.elementDepthCount++}(),u&&(mf(s,r,l),gf(s,l,r)),null!==i&&vf(r,l),C}function A(){let n=yt();ih()?function rh(){G.lFrame.isParent=!1}():(n=n.parent,Jn(n,!1));const e=n;(function MT(n){return G.skipHydrationRootTNode===n})(e)&&function PT(){G.skipHydrationRootTNode=null}(),function ST(){G.lFrame.elementDepthCount--}();const t=ue();return t.firstCreatePass&&(Il(t,n),Wd(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function WT(n){return 0!=(8&n.flags)}(e)&&Pf(t,e,I(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function qT(n){return 0!=(16&n.flags)}(e)&&Pf(t,e,I(),e.stylesWithoutHost,!1),A}function H(n,e,t,i){return C(n,e,t,i),A(),H}let h0=(n,e,t,i,r,s)=>(Yi(!0),Yl(i,r,function Dy(){return G.lFrame.currentNamespace}()));function Nf(){return I()}function ea(n){return!!n&&"function"==typeof n.then}function g0(n){return!!n&&"function"==typeof n.subscribe}function Ne(n,e,t,i){const r=I(),s=ue(),o=yt();return function v0(n,e,t,i,r,s,o){const a=Al(i),c=n.firstCreatePass&&k_(n),u=e[Ye],d=N_(e);let h=!0;if(3&i.type||o){const g=Yt(i,e),v=o?o(g):g,m=d.length,y=o?_=>o(Pe(_[i.index])):i.index;let b=null;if(!o&&a&&(b=function tN(n,e,t,i){const r=n.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===t&&r[s+1]===i){const a=e[qr],l=r[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,e,r,i.index)),null!==b)(b.__ngLastListenerFn__||b).__ngNextListenerFn__=s,b.__ngLastListenerFn__=s,h=!1;else{s=b0(i,e,u,s,!1);const _=t.listen(v,r,s);d.push(s,_),c&&c.push(r,y,m,m+1)}}else s=b0(i,e,u,s,!1);const f=i.outputs;let p;if(h&&null!==f&&(p=f[r])){const g=p.length;if(g)for(let v=0;v<g;v+=2){const w=e[p[v]][p[v+1]].subscribe(s),D=d.length;d.push(s,w),c&&c.push(r,i.index,D,-(D+1))}}}(s,r,r[Q],o,n,e,i),Ne}function y0(n,e,t,i){try{return Zn(6,e,t),!1!==t(i)}catch(r){return F_(n,r),!1}finally{Zn(7,e,t)}}function b0(n,e,t,i,r){return function s(o){if(o===Function)return i;Go(n.componentOffset>-1?ln(n.index,e):e);let l=y0(e,t,i,o),c=s.__ngNextListenerFn__;for(;c;)l=y0(e,t,c,o)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&o.preventDefault(),l}}function Cr(n=1){return function FT(n){return(G.lFrame.contextLView=function VT(n,e){for(;n>0;)e=e[Kr],n--;return e}(n,G.lFrame.contextLView))[Ye]}(n)}function ta(n,e,t){return kf(n,"",e,"",t),ta}function kf(n,e,t,i,r){const s=I(),o=Ss(s,e,t,i);return o!==J&&dn(ue(),Fe(),s,n,o,s[Q],r,!1),kf}function Dc(n,e){return n<<17|e<<2}function Qi(n){return n>>17&32767}function Lf(n){return 2|n}function Er(n){return(131068&n)>>2}function Ff(n,e){return-131069&n|e<<2}function Vf(n){return 1|n}function x0(n,e,t,i,r){const s=n[t+1],o=null===e;let a=i?Qi(s):Er(s),l=!1;for(;0!==a&&(!1===l||o);){const u=n[a+1];uN(n[a],e)&&(l=!0,n[a+1]=i?Vf(u):Lf(u)),a=i?Qi(u):Er(u)}l&&(n[t+1]=i?Lf(s):Vf(s))}function uN(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&cs(n,e)>=0}function na(n,e){return function jn(n,e,t,i){const r=I(),s=ue(),o=function vi(n){const e=G.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);s.firstUpdatePass&&function F0(n,e,t,i){const r=n.data;if(null===r[t+1]){const s=r[kt()],o=function L0(n,e){return e>=n.expandoStartIndex}(n,t);(function H0(n,e){return 0!=(n.flags&(e?8:16))})(s,i)&&null===e&&!o&&(e=!1),e=function bN(n,e,t,i){const r=function oh(n){const e=G.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=ia(t=jf(null,n,e,t,i),e.attrs,i),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==r)if(t=jf(r,n,e,t,i),null===s){let l=function _N(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==Er(i))return n[Qi(i)]}(n,e,i);void 0!==l&&Array.isArray(l)&&(l=jf(null,n,e,l[1],i),l=ia(l,e.attrs,i),function wN(n,e,t,i){n[Qi(t?e.classBindings:e.styleBindings)]=i}(n,e,i,l))}else s=function CN(n,e,t){let i;const r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++)i=ia(i,n[s].hostAttrs,t);return ia(i,e.attrs,t)}(n,e,i)}return void 0!==s&&(i?e.residualClasses=s:e.residualStyles=s),t}(r,s,e,i),function lN(n,e,t,i,r,s){let o=s?e.classBindings:e.styleBindings,a=Qi(o),l=Er(o);n[i]=t;let u,c=!1;if(Array.isArray(t)?(u=t[1],(null===u||cs(t,u)>0)&&(c=!0)):u=t,r)if(0!==l){const h=Qi(n[a+1]);n[i+1]=Dc(h,a),0!==h&&(n[h+1]=Ff(n[h+1],i)),n[a+1]=function oN(n,e){return 131071&n|e<<17}(n[a+1],i)}else n[i+1]=Dc(a,0),0!==a&&(n[a+1]=Ff(n[a+1],i)),a=i;else n[i+1]=Dc(l,0),0===a?a=i:n[l+1]=Ff(n[l+1],i),l=i;c&&(n[i+1]=Lf(n[i+1])),x0(n,u,i,!0),x0(n,u,i,!1),function cN(n,e,t,i,r){const s=r?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&cs(s,e)>=0&&(t[i+1]=Vf(t[i+1]))}(e,u,n,i,s),o=Dc(a,l),s?e.classBindings=o:e.styleBindings=o}(r,s,e,t,o,i)}}(s,n,o,i),e!==J&&At(r,o,e)&&function j0(n,e,t,i,r,s,o,a){if(!(3&e.type))return;const l=n.data,c=l[a+1],u=function aN(n){return 1==(1&n)}(c)?B0(l,e,t,r,Er(c),o):void 0;Sc(u)||(Sc(s)||function sN(n){return 2==(2&n)}(c)&&(s=B0(l,null,t,r,a,o)),function r1(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let s=-1===i.indexOf("-")?void 0:Ki.DashCase;null==r?n.removeStyle(t,i,s):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=Ki.Important),n.setStyle(t,i,r,s))}}(i,o,Ml(kt(),t),r,s))}(s,s.data[kt()],r,r[Q],n,r[o+1]=function SN(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=st(Xi(n)))),n}(e,t),i,o)}(n,e,null,!0),na}function jf(n,e,t,i,r){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],i=ia(i,s.hostAttrs,r),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),i}function ia(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?r=o:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),cn(n,o,!!t||e[++s]))}return void 0===n?null:n}function B0(n,e,t,i,r,s){const o=null===e;let a;for(;r>0;){const l=n[r],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=t[r+1];h===J&&(h=d?ge:void 0);let f=d?yh(h,i):u===i?h:void 0;if(c&&!Sc(f)&&(f=yh(l,i)),Sc(f)&&(a=f,o))return a;const p=n[r+1];r=o?Qi(p):Er(p)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=yh(l,i))}return a}function Sc(n){return void 0!==n}function M(n,e=""){const t=I(),i=ue(),r=n+ae,s=i.firstCreatePass?As(i,r,1,e,null):i.data[r],o=U0(i,t,s,e,n);t[r]=o,xl()&&Ql(i,t,o,s),Jn(s,!1)}let U0=(n,e,t,i,r)=>(Yi(!0),function ql(n,e){return n.createText(e)}(e[Q],i));function ft(n){return Sn("",n,""),ft}function Sn(n,e,t){const i=I(),r=Ss(i,n,e,t);return r!==J&&function Ci(n,e,t){const i=Ml(e,n);!function ub(n,e,t){n.setValue(e,t)}(n[Q],i,t)}(i,kt(),r),Sn}const Ls="en-US";let uw=Ls;function Uf(n,e,t,i,r){if(n=W(n),Array.isArray(n))for(let s=0;s<n.length;s++)Uf(n[s],e,t,i,r);else{const s=ue(),o=I(),a=yt();let l=_r(n)?n:W(n.provide);const c=$b(n),u=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(_r(n)||!n.multi){const f=new Mo(c,r,O),p=zf(l,e,r?u:u+h,d);-1===p?(gh(Ol(a,o),s,l),$f(s,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(f),o.push(f)):(t[p]=f,o[p]=f)}else{const f=zf(l,e,u+h,d),p=zf(l,e,u,u+h),v=p>=0&&t[p];if(r&&!v||!r&&!(f>=0&&t[f])){gh(Ol(a,o),s,l);const m=function qk(n,e,t,i,r){const s=new Mo(n,t,O);return s.multi=[],s.index=e,s.componentProviders=0,kw(s,r,i&&!t),s}(r?Wk:Gk,t.length,r,i,c);!r&&v&&(t[p].providerFactory=m),$f(s,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(m),o.push(m)}else $f(s,n,f>-1?f:p,kw(t[r?p:f],c,!r&&i));!r&&i&&v&&t[p].componentProviders++}}}function $f(n,e,t,i){const r=_r(e),s=function N1(n){return!!n.useClass}(e);if(r||s){const l=(s?W(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const u=c.indexOf(t);-1===u?c.push(t,[i,l]):c[u+1].push(i,l)}else c.push(t,l)}}}function kw(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function zf(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function Gk(n,e,t,i){return Gf(this.multi,[])}function Wk(n,e,t,i){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=yr(t,t[k],this.providerFactory.index,i);s=a.slice(0,o),Gf(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],Gf(r,s);return s}function Gf(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Le(n,e=[]){return t=>{t.providersResolver=(i,r)=>function zk(n,e,t){const i=ue();if(i.firstCreatePass){const r=Fn(n);Uf(t,i.data,i.blueprint,r,!0),Uf(e,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,e)}}class Dr{}class Lw{}class Wf extends Dr{constructor(e,t,i){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new z_(this);const r=on(e);this._bootstrapComponents=wi(r.bootstrap),this._r3Injector=n_(e,t,[{provide:Dr,useValue:this},{provide:dc,useValue:this.componentFactoryResolver},...i],st(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class qf extends Lw{constructor(e){super(),this.moduleType=e}create(e){return new Wf(this.moduleType,e,[])}}class Fw extends Dr{constructor(e){super(),this.componentFactoryResolver=new z_(this),this.instance=null;const t=new ms([...e.providers,{provide:Dr,useValue:this},{provide:dc,useValue:this.componentFactoryResolver}],e.parent||rc(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Yf(n,e,t=null){return new Fw({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let Xk=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const i=jb(0,t.type),r=i.length>0?Yf([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=U({token:n,providedIn:"environment",factory:()=>new n($(An))})}}return n})();function Vw(n){n.getStandaloneInjector=e=>e.get(Xk).getOrCreateStandaloneInjector(n)}function Xf(n,e,t,i){return function Gw(n,e,t,i,r,s){const o=e+t;return At(n,o,r)?function ni(n,e,t){return n[e]=t}(n,o+1,s?i.call(s,r):i(r)):function ca(n,e){const t=n[e];return t===J?void 0:t}(n,o+1)}(I(),function Nt(){const n=G.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}(),n,e,t,i)}function wL(){return this._results[Symbol.iterator]()}class Qf{get changes(){return this._changes||(this._changes=new Ce)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Qf.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=wL)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const i=this;i.dirty=!1;const r=function Cn(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function aP(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=e[i];if(t&&(r=t(r),s=t(s)),s!==r)return!1}return!0}(i._results,r,t))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function EL(n,e,t,i=!0){const r=e[k];if(function XP(n,e,t,i){const r=mt+i,s=t.length;i>0&&(t[r-1][Ln]=e),i<s-mt?(e[Ln]=t[r],By(t,mt+i,e)):(t.push(e),e[Ln]=null),e[ke]=t;const o=e[_o];null!==o&&t!==o&&function QP(n,e){const t=n[Qr];e[Ke]!==e[ke][ke][Ke]&&(n[Bv]=!0),null===t?n[Qr]=[e]:t.push(e)}(o,e);const a=e[Xn];null!==a&&a.insertView(n),e[ne]|=128}(r,e,n,t),i){const s=Oh(t,n),o=e[Q],a=Xl(o,n[Qn]);null!==a&&function qP(n,e,t,i,r,s){i[He]=r,i[Ct]=e,Fo(n,i,t,1,r,s)}(r,n[Ct],o,e,a,s)}}let Ei=(()=>{class n{static{this.__NG_ELEMENT_ID__=SL}}return n})();const AL=Ei,DL=class extends AL{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){const r=function CL(n,e,t,i){const r=e.tView,a=gc(n,r,t,4096&n[ne]?4096:16,null,e,null,null,null,i?.injector??null,i?.hydrationInfo??null);a[_o]=n[e.index];const c=n[Xn];return null!==c&&(a[Xn]=c.createEmbeddedView(r)),Af(r,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,hydrationInfo:i});return new Yo(r)}};function SL(){return Pc(yt(),I())}function Pc(n,e){return 4&n.type?new DL(e,n,ws(n,e)):null}let Hn=(()=>{class n{static{this.__NG_ELEMENT_ID__=RL}}return n})();function RL(){return nC(yt(),I())}const OL=Hn,eC=class extends OL{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return ws(this._hostTNode,this._hostLView)}get injector(){return new Lt(this._hostTNode,this._hostLView)}get parentInjector(){const e=Nl(this._hostTNode,this._hostLView);if(hh(e)){const t=Io(e,this._hostLView),i=xo(e);return new Lt(t[k].data[i+8],t)}return new Lt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=tC(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-mt}createEmbeddedView(e,t,i){let r,s;"number"==typeof i?r=i:null!=i&&(r=i.index,s=i.injector);const a=e.createEmbeddedViewImpl(t||{},s,null);return this.insertImpl(a,r,false),a}createComponent(e,t,i,r,s){const o=e&&!function Po(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const g=t||{};a=g.index,i=g.injector,r=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const l=o?e:new Ko(ce(e)),c=i||this.parentInjector;if(!s&&null==l.ngModule){const v=(o?c:this.parentInjector).get(An,null);v&&(s=v)}ce(l.componentType??{});const f=l.create(c,r,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,i){const r=e._lView;if(function wT(n){return Ot(n[ke])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const c=r[ke],u=new eC(c,c[Ct],c[ke]);u.detach(u.indexOf(e))}}const o=this._adjustIndex(t),a=this._lContainer;return EL(a,r,o,!i),e.attachToViewContainerRef(),By(Zf(a),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=tC(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=Kl(this._lContainer,t);i&&(Fl(Zf(this._lContainer),t),Ih(i[k],i))}detach(e){const t=this._adjustIndex(e,-1),i=Kl(this._lContainer,t);return i&&null!=Fl(Zf(this._lContainer),t)?new Yo(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function tC(n){return n[8]}function Zf(n){return n[8]||(n[8]=[])}function nC(n,e){let t;const i=e[n.index];return Ot(i)?t=i:(t=R_(i,e,null,n),e[n.index]=t,mc(e,t)),iC(t,e,n,i),new eC(t,n,e)}let iC=function rC(n,e,t,i){if(n[Qn])return;let r;r=8&t.type?Pe(i):function NL(n,e){const t=n[Q],i=t.createComment(""),r=Yt(e,n);return br(t,Xl(t,r),i,function t1(n,e){return n.nextSibling(e)}(t,r),!1),i}(e,t),n[Qn]=r};class Jf{constructor(e){this.queryList=e,this.matches=null}clone(){return new Jf(this.queryList)}setDirty(){this.queryList.setDirty()}}class ep{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let s=0;s<i;s++){const o=t.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new ep(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==dC(e,t).matches&&this.queries[t].setDirty()}}class sC{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class tp{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,s=this.getByIndex(i).embeddedTView(e,r);s&&(s.indexInDeclarationView=i,null!==t?t.push(s):t=[s])}return null!==t?new tp(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class np{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new np(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(e,t,FL(t,s)),this.matchTNodeWithReadOption(e,t,kl(t,e,s,!1,!1))}else i===Ei?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,kl(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Xt||r===Hn||r===Ei&&4&t.type)this.addMatch(t.index,-2);else{const s=kl(t,e,r,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function FL(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function jL(n,e,t,i){return-1===t?function VL(n,e){return 11&n.type?ws(n,e):4&n.type?Pc(n,e):null}(e,n):-2===t?function BL(n,e,t){return t===Xt?ws(e,n):t===Ei?Pc(e,n):t===Hn?nC(e,n):void 0}(n,e,i):yr(n,n[k],t,e)}function oC(n,e,t,i){const r=e[Xn].queries[i];if(null===r.matches){const s=n.data,o=t.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:jL(e,s[c],o[l+1],t.metadata.read))}r.matches=a}return r.matches}function ip(n,e,t,i){const r=n.queries.getByIndex(t),s=r.matches;if(null!==s){const o=oC(n,e,r,t);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)i.push(o[a/2]);else{const c=s[a+1],u=e[-l];for(let d=mt;d<u.length;d++){const h=u[d];h[_o]===h[ke]&&ip(h[k],h,c,i)}if(null!==u[Qr]){const d=u[Qr];for(let h=0;h<d.length;h++){const f=d[h];ip(f[k],f,c,i)}}}}}return i}function rp(n){const e=I(),t=ue(),i=by();ah(i+1);const r=dC(t,i);if(n.dirty&&function bT(n){return 4==(4&n[ne])}(e)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const s=r.crossesNgTemplate?ip(t,e,i,[]):oC(t,e,r,i);n.reset(s,tR),n.notifyOnChanges()}return!0}return!1}function aC(n,e,t){const i=ue();i.firstCreatePass&&(function uC(n,e,t){null===n.queries&&(n.queries=new tp),n.queries.track(new np(e,t))}(i,new sC(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),function cC(n,e,t){const i=new Qf(4==(4&t));(function NR(n,e,t,i){const r=N_(e);r.push(t),n.firstCreatePass&&k_(n).push(i,r.length-1)})(n,e,i,i.destroy),null===e[Xn]&&(e[Xn]=new ep),e[Xn].queries.push(new Jf(i))}(i,I(),e)}function dC(n,e){return n.queries.getByIndex(e)}const dp=new V("Application Initializer");let hp=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=F(dp,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const r of this.appInits){const s=r();if(ea(s))t.push(s);else if(g0(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),xC=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();const Ai=new V("LocaleId",{providedIn:"root",factory:()=>F(Ai,oe.Optional|oe.SkipSelf)||function uF(){return typeof $localize<"u"&&$localize.locale||Ls}()});let IC=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new yn(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class fF{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let TC=(()=>{class n{compileModuleSync(t){return new qf(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),s=wi(on(t).declarations).reduce((o,a)=>{const l=ce(a);return l&&o.push(new Ko(l)),o},[]);return new fF(i,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const NC=new V(""),kc=new V("");let vp,gp=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,vp||(function kF(n){vp=n}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Me.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}static{this.\u0275fac=function(i){return new(i||n)($(Me),$(mp),$(kc))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})(),mp=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return vp?.findTestabilityInTree(this,t,i)??null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),Zi=null;const kC=new V("AllowMultipleToken"),yp=new V("PlatformDestroyListeners"),bp=new V("appBootstrapListener");class FC{constructor(e,t){this.name=e,this.token=t}}function jC(n,e,t=[]){const i=`Platform: ${e}`,r=new V(i);return(s=[])=>{let o=_p();if(!o||o.injector.get(kC,!1)){const a=[...t,...s,{provide:r,useValue:!0}];n?n(a):function VF(n){if(Zi&&!Zi.get(kC,!1))throw new P(400,!1);(function LC(){!function oT(n){Zv=n}(()=>{throw new P(600,!1)})})(),Zi=n;const e=n.get(HC);(function VC(n){n.get(zb,null)?.forEach(t=>t())})(n)}(function BC(n=[],e){return un.create({name:e,providers:[{provide:Gh,useValue:"platform"},{provide:yp,useValue:new Set([()=>Zi=null])},...n]})}(a,i))}return function BF(n){const e=_p();if(!e)throw new P(401,!1);return e}()}}function _p(){return Zi?.get(HC)??null}let HC=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function HF(n="zone.js",e){return"noop"===n?new vR:"zone.js"===n?new Me(e):n}(i?.ngZone,function UC(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const s=function Kk(n,e,t){return new Wf(n,e,t)}(t.moduleType,this.injector,function qC(n){return[{provide:Me,useFactory:n},{provide:Ho,multi:!0,useFactory:()=>{const e=F($F,{optional:!0});return()=>e.initialize()}},{provide:WC,useFactory:UF},{provide:a_,useFactory:l_}]}(()=>r)),o=s.injector.get(_i,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:l=>{o.handleError(l)}});s.onDestroy(()=>{Lc(this._modules,s),a.unsubscribe()})}),function $C(n,e,t){try{const i=t();return ea(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(o,r,()=>{const a=s.injector.get(hp);return a.runInitializers(),a.donePromise.then(()=>(function dw(n){bn(n,"Expected localeId to be defined"),"string"==typeof n&&(uw=n.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Ai,Ls)||Ls),this._moduleDoBootstrap(s),s))})})}bootstrapModule(t,i=[]){const r=zC({},i);return function LF(n,e,t){const i=new qf(t);return Promise.resolve(i)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(t){const i=t.injector.get(js);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new P(-403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new P(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(yp,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(i){return new(i||n)($(un))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();function zC(n,e){return Array.isArray(e)?e.reduce(zC,n):{...n,...e}}let js=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=F(WC),this.zoneIsStable=F(a_),this.componentTypes=[],this.components=[],this.isStable=F(IC).hasPendingTasks.pipe(Yn(t=>t?K(!1):this.zoneIsStable),function vI(n,e=Hi){return n=n??yI,Ze((t,i)=>{let r,s=!0;t.subscribe(qe(i,o=>{const a=e(o);(s||!n(r,a))&&(s=!1,r=a,i.next(o))}))})}(),mv()),this._injector=F(An)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){const r=t instanceof Kb;if(!this._injector.get(hp).done)throw!r&&function Wr(n){const e=ce(n)||gt(n)||Rt(n);return null!==e&&e.standalone}(t),new P(405,!1);let o;o=r?t:this._injector.get(dc).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function FF(n){return n.isBoundToModule}(o)?void 0:this._injector.get(Dr),c=o.create(un.NULL,[],i||o.selector,a),u=c.location.nativeElement,d=c.injector.get(NC,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),Lc(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new P(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;Lc(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(bp,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Lc(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new P(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Lc(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const WC=new V("",{providedIn:"root",factory:()=>F(_i).handleError.bind(void 0)});function UF(){const n=F(Me),e=F(_i);return t=>n.runOutsideAngular(()=>e.handleError(t))}let $F=(()=>{class n{constructor(){this.zone=F(Me),this.applicationRef=F(js)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();let Fc=(()=>{class n{static{this.__NG_ELEMENT_ID__=GF}}return n})();function GF(n){return function WF(n,e,t){if(gr(n)&&!t){const i=ln(n.index,e);return new Yo(i,i)}return 47&n.type?new Yo(e[Ke],e):null}(yt(),I(),16==(16&n))}class ZC{constructor(){}supports(e){return _c(e)}create(e){return new QF(e)}}const XF=(n,e)=>e;class QF{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||XF}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,s=null;for(;t||i;){const o=!i||t&&t.currentIndex<eE(i,r,s)?t:i,a=eE(o,r,s),l=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{s||(s=[]);const c=a-r,u=l-r;if(c!=u){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;u<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!_c(e))throw new P(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,s,o,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(i&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),i=!0),t=t._next}else r=0,function SO(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,a=>{o=this._trackByFn(r,a),null!==t&&Object.is(t.trackById,o)?(i&&(t=this._verifyReinsertion(t,a,o,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,r)):e=this._addAfter(new ZF(t,i),s,r),e}_verifyReinsertion(e,t,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,s=e._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new JC),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new JC),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class ZF{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class JF{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class JC{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new JF,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function eE(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}class tE{constructor(){}supports(e){return e instanceof Map||Df(e)}create(){return new e2}}class e2{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Df(e)))throw new P(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,t);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const i=new t2(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}}class t2{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function nE(){return new Bc([new ZC])}let Bc=(()=>{class n{static{this.\u0275prov=U({token:n,providedIn:"root",factory:nE})}constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||nE()),deps:[[n,new Bl,new jl]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new P(901,!1)}}return n})();function iE(){return new fa([new tE])}let fa=(()=>{class n{static{this.\u0275prov=U({token:n,providedIn:"root",factory:iE})}constructor(t){this.factories=t}static create(t,i){if(i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||iE()),deps:[[n,new Bl,new jl]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(i)return i;throw new P(901,!1)}}return n})();const r2=jC(null,"core",[]);let s2=(()=>{class n{constructor(t){}static{this.\u0275fac=function(i){return new(i||n)($(js))}}static{this.\u0275mod=kn({type:n})}static{this.\u0275inj=_n({})}}return n})();function Bs(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let Sp=null;function Ji(){return Sp}class b2{}const Mn=new V("DocumentToken");let Mp=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=U({token:n,factory:function(){return F(w2)},providedIn:"platform"})}}return n})();const _2=new V("Location Initialized");let w2=(()=>{class n extends Mp{constructor(){super(),this._doc=F(Mn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ji().getBaseHref(this._doc)}onPopState(t){const i=Ji().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=Ji().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=U({token:n,factory:function(){return new n},providedIn:"platform"})}}return n})();function xp(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function hE(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Di(n){return n&&"?"!==n[0]?"?"+n:n}let Mr=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=U({token:n,factory:function(){return F(pE)},providedIn:"root"})}}return n})();const fE=new V("appBaseHref");let pE=(()=>{class n extends Mr{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??F(Mn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return xp(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+Di(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const o=this.prepareExternalUrl(r+Di(s));this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){const o=this.prepareExternalUrl(r+Di(s));this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(i){return new(i||n)($(Mp),$(fE,8))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),C2=(()=>{class n extends Mr{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=xp(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let o=this.prepareExternalUrl(r+Di(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){let o=this.prepareExternalUrl(r+Di(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(i){return new(i||n)($(Mp),$(fE,8))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})(),Ip=(()=>{class n{constructor(t){this._subject=new Ce,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function D2(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(hE(gE(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Di(i))}normalize(t){return n.stripTrailingSlash(function A2(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,gE(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Di(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Di(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static{this.normalizeQueryParams=Di}static{this.joinWithSlash=xp}static{this.stripTrailingSlash=hE}static{this.\u0275fac=function(i){return new(i||n)($(Mr))}}static{this.\u0275prov=U({token:n,factory:function(){return function E2(){return new Ip($(Mr))}()},providedIn:"root"})}}return n})();function gE(n){return n.replace(/\/index.html$/,"")}const jp=/\s+/,AE=[];let DE=(()=>{class n{constructor(t,i,r,s){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this.initialClasses=AE,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(jp):AE}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(jp):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(jp).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static{this.\u0275fac=function(i){return new(i||n)(O(Bc),O(fa),O(Xt),O(bi))}}static{this.\u0275dir=q({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();class dV{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let xr=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,s,o)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new dV(r.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)i.remove(null===s?void 0:s);else if(null!==s){const a=i.get(s);i.move(a,o),ME(a,r)}});for(let r=0,s=i.length;r<s;r++){const a=i.get(r).context;a.index=r,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{ME(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(O(Hn),O(Ei),O(Bc))}}static{this.\u0275dir=q({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function ME(n,e){n.context.$implicit=e.item}let Bp=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new hV,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){xE("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){xE("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(O(Hn),O(Ei))}}static{this.\u0275dir=q({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})();class hV{constructor(){this.$implicit=null,this.ngIf=null}}function xE(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${st(e)}'.`)}let TE=(()=>{class n{constructor(t,i,r){this._ngEl=t,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){const[r,s]=t.split("."),o=-1===r.indexOf("-")?void 0:Ki.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${i}${s}`:i,o):this._renderer.removeStyle(this._ngEl.nativeElement,r,o)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static{this.\u0275fac=function(i){return new(i||n)(O(Xt),O(fa),O(bi))}}static{this.\u0275dir=q({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return n})(),VV=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=kn({type:n})}static{this.\u0275inj=_n({})}}return n})();function OE(n){return"server"===n}let UV=(()=>{class n{static{this.\u0275prov=U({token:n,providedIn:"root",factory:()=>new $V($(Mn),window)})}}return n})();class $V{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function zV(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class pj extends b2{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class qp extends pj{static makeCurrent(){!function y2(n){Sp||(Sp=n)}(new qp)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function gj(){return va=va||document.querySelector("base"),va?va.getAttribute("href"):null}();return null==t?null:function mj(n){eu=eu||document.createElement("a"),eu.setAttribute("href",n);const e=eu.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){va=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function cV(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let eu,va=null,yj=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})();const Yp=new V("EventManagerPlugins");let VE=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(s=>s.supports(t)),!i)throw new P(5101,!1);return this._eventNameToPlugin.set(t,i),i}static{this.\u0275fac=function(i){return new(i||n)($(Yp),$(Me))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})();class jE{constructor(e){this._doc=e}}const Kp="ng-app-id";let BE=(()=>{class n{constructor(t,i,r,s={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=OE(s),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${Kp}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){const r=this.styleRef;if(r.has(t)){const s=r.get(t);return s.usage+=i,s.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const r=this.styleNodesInDOM,s=r?.get(i);if(s?.parentNode===t)return r.delete(i),s.removeAttribute(Kp),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=i,this.platformIsServer&&o.setAttribute(Kp,this.appId),o}}addStyleToHost(t,i){const r=this.getStyleElement(t,i);t.appendChild(r);const s=this.styleRef,o=s.get(i)?.elements;o?o.push(r):s.set(i,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||n)($(Mn),$(sc),$(Gb,8),$(ys))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})();const Xp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Qp=/%COMP%/g,Cj=new V("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function UE(n,e){return e.map(t=>t.replace(Qp,n))}let $E=(()=>{class n{constructor(t,i,r,s,o,a,l,c=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=OE(a),this.defaultRenderer=new Zp(t,o,l,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===On.ShadowDom&&(i={...i,encapsulation:On.Emulated});const r=this.getOrCreateRenderer(t,i);return r instanceof GE?r.applyToHost(t):r instanceof Jp&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const o=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(i.encapsulation){case On.Emulated:s=new GE(l,c,i,this.appId,u,o,a,d);break;case On.ShadowDom:return new Sj(l,c,t,i,o,a,this.nonce,d);default:s=new Jp(l,c,i,u,o,a,d)}r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||n)($(VE),$(BE),$(sc),$(Cj),$(Mn),$(ys),$(Me),$(Gb))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})();class Zp{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Xp[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(zE(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(zE(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new P(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=Xp[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=Xp[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Ki.DashCase|Ki.Important)?e.style.setProperty(t,i,r&Ki.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Ki.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=Ji().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function zE(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Sj extends Zp{constructor(e,t,i,r,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=UE(r.id,r.styles);for(const u of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Jp extends Zp{constructor(e,t,i,r,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=l?UE(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class GE extends Jp{constructor(e,t,i,r,s,o,a,l){const c=r+"-"+i.id;super(e,t,i,s,o,a,l,c),this.contentAttr=function Ej(n){return"_ngcontent-%COMP%".replace(Qp,n)}(c),this.hostAttr=function Aj(n){return"_nghost-%COMP%".replace(Qp,n)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let Mj=(()=>{class n extends jE{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||n)($(Mn))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})();const WE=["alt","control","meta","shift"],xj={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ij={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Tj=(()=>{class n extends jE{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),o=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ji().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let o="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),o="code."),WE.forEach(c=>{const u=i.indexOf(c);u>-1&&(i.splice(u,1),o+=c+".")}),o+=s,0!=i.length||0===s.length)return null;const l={};return l.domEventName=r,l.fullKey=o,l}static matchEventFullKeyCode(t,i){let r=xj[t.key]||t.key,s="";return i.indexOf("code.")>-1&&(r=t.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),WE.forEach(o=>{o!==r&&(0,Ij[o])(t)&&(s+=o+".")}),s+=r,s===i)}static eventCallback(t,i,r){return s=>{n.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}static{this.\u0275fac=function(i){return new(i||n)($(Mn))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})();const Nj=jC(r2,"browser",[{provide:ys,useValue:"browser"},{provide:zb,useValue:function Pj(){qp.makeCurrent()},multi:!0},{provide:Mn,useFactory:function Oj(){return function c1(n){Lh=n}(document),document},deps:[]}]),kj=new V(""),KE=[{provide:kc,useClass:class vj{addToWindow(e){Te.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new P(5103,!1);return s},Te.getAllAngularTestabilities=()=>e.getAllTestabilities(),Te.getAllAngularRootElements=()=>e.getAllRootElements(),Te.frameworkStabilizers||(Te.frameworkStabilizers=[]),Te.frameworkStabilizers.push(i=>{const r=Te.getAllAngularTestabilities();let s=r.length,o=!1;const a=function(l){o=o||l,s--,0==s&&i(o)};r.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?Ji().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:NC,useClass:gp,deps:[Me,mp,kc]},{provide:gp,useClass:gp,deps:[Me,mp,kc]}],XE=[{provide:Gh,useValue:"root"},{provide:_i,useFactory:function Rj(){return new _i},deps:[]},{provide:Yp,useClass:Mj,multi:!0,deps:[Mn,Me,ys]},{provide:Yp,useClass:Tj,multi:!0,deps:[Mn]},$E,BE,VE,{provide:Qb,useExisting:$E},{provide:class GV{},useClass:yj,deps:[]},[]];let Lj=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:sc,useValue:t.appId}]}}static{this.\u0275fac=function(i){return new(i||n)($(kj,12))}}static{this.\u0275mod=kn({type:n})}static{this.\u0275inj=_n({providers:[...XE,...KE],imports:[VV,s2]})}}return n})(),QE=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(i){return new(i||n)($(Mn))}}static{this.\u0275prov=U({token:n,factory:function(i){let r=null;return r=i?new i:function Vj(){return new QE($(Mn))}(),r},providedIn:"root"})}}return n})();typeof window<"u"&&window;const{isArray:zj}=Array,{getPrototypeOf:Gj,prototype:Wj,keys:qj}=Object;function tA(n){if(1===n.length){const e=n[0];if(zj(e))return{args:e,keys:null};if(function Yj(n){return n&&"object"==typeof n&&Gj(n)===Wj}(e)){const t=qj(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}const{isArray:Kj}=Array;function tg(n){return Se(e=>function Xj(n,e){return Kj(e)?n(...e):n(e)}(n,e))}function nA(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function ng(...n){const e=fo(n),t=hv(n),{args:i,keys:r}=tA(n);if(0===i.length)return Je([],e);const s=new We(function Qj(n,e,t=Hi){return i=>{iA(e,()=>{const{length:r}=n,s=new Array(r);let o=r,a=r;for(let l=0;l<r;l++)iA(e,()=>{const c=Je(n[l],e);let u=!1;c.subscribe(qe(i,d=>{s[l]=d,u||(u=!0,a--),a||i.next(t(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}(i,e,r?o=>nA(r,o):Hi));return t?s.pipe(tg(t)):s}function iA(n,e,t){n?hi(t,n,e):e()}const tu=gd(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function ig(...n){return function Zj(){return zr(1)}()(Je(n,fo(n)))}function rA(n){return new We(e=>{zt(n()).subscribe(e)})}function ya(n,e){const t=pe(n)?n:()=>n,i=r=>r.error(t());return new We(e?r=>e.schedule(i,0,r):i)}function rg(){return Ze((n,e)=>{let t=null;n._refCount++;const i=qe(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class sA extends We{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Zm(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new $t;const t=this.getSubject();e.add(this.source.subscribe(qe(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=$t.EMPTY)}return e}refCount(){return rg()(this)}}function Us(n){return n<=0?()=>qn:Ze((e,t)=>{let i=0;e.subscribe(qe(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function xi(n,e){return Ze((t,i)=>{let r=0;t.subscribe(qe(i,s=>n.call(e,s,r++)&&i.next(s)))})}function nu(n){return Ze((e,t)=>{let i=!1;e.subscribe(qe(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function oA(n=eB){return Ze((e,t)=>{let i=!1;e.subscribe(qe(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function eB(){return new tu}function Ir(n,e){const t=arguments.length>=2;return i=>i.pipe(n?xi((r,s)=>n(r,s,i)):Hi,Us(1),t?nu(e):oA(()=>new tu))}function ba(n,e){return pe(e)?ht(n,e,1):ht(n,1)}function Dt(n,e,t){const i=pe(n)||e||t?{next:n,error:e,complete:t}:n;return i?Ze((r,s)=>{var o;null===(o=i.subscribe)||void 0===o||o.call(i);let a=!0;r.subscribe(qe(s,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),s.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),s.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),s.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):Hi}function Tr(n){return Ze((e,t)=>{let s,i=null,r=!1;i=e.subscribe(qe(t,void 0,void 0,o=>{s=zt(n(o,Tr(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function sg(n){return n<=0?()=>qn:Ze((e,t)=>{let i=[];e.subscribe(qe(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function og(n){return Ze((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Ve(n){return Ze((e,t)=>{zt(n).subscribe(qe(t,()=>t.complete(),vd)),!t.closed&&e.subscribe(t)})}const ie="primary",_a=Symbol("RouteTitle");class sB{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function $s(n){return new sB(n)}function oB(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const o=i[s],a=n[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function si(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!aA(n[r],e[r]))return!1;return!0}function aA(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function lA(n){return n.length>0?n[n.length-1]:null}function tr(n){return function $j(n){return!!n&&(n instanceof We||pe(n.lift)&&pe(n.subscribe))}(n)?n:ea(n)?Je(Promise.resolve(n)):K(n)}const lB={exact:function dA(n,e,t){if(!Pr(n.segments,e.segments)||!iu(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!dA(n.children[i],e.children[i],t))return!1;return!0},subset:hA},cA={exact:function cB(n,e){return si(n,e)},subset:function uB(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>aA(n[t],e[t]))},ignored:()=>!0};function uA(n,e,t){return lB[t.paths](n.root,e.root,t.matrixParams)&&cA[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function hA(n,e,t){return fA(n,e,e.segments,t)}function fA(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!Pr(r,t)||e.hasChildren()||!iu(r,t,i))}if(n.segments.length===t.length){if(!Pr(n.segments,t)||!iu(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!hA(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Pr(n.segments,r)&&iu(n.segments,r,i)&&n.children[ie])&&fA(n.children[ie],e,s,i)}}function iu(n,e,t){return e.every((i,r)=>cA[t](n[r].parameters,i.parameters))}class zs{constructor(e=new Ae([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$s(this.queryParams)),this._queryParamMap}toString(){return fB.serialize(this)}}class Ae{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ru(this)}}class wa{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=$s(this.parameters)),this._parameterMap}toString(){return mA(this)}}function Pr(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let Ca=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=U({token:n,factory:function(){return new ag},providedIn:"root"})}}return n})();class ag{parse(e){const t=new AB(e);return new zs(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ea(e.root,!0)}`,i=function mB(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${su(t)}=${su(r)}`).join("&"):`${su(t)}=${su(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function pB(n){return encodeURI(n)}(e.fragment)}`:""}`}}const fB=new ag;function ru(n){return n.segments.map(e=>mA(e)).join("/")}function Ea(n,e){if(!n.hasChildren())return ru(n);if(e){const t=n.children[ie]?Ea(n.children[ie],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==ie&&i.push(`${r}:${Ea(s,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function hB(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===ie&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==ie&&(t=t.concat(e(r,i)))}),t}(n,(i,r)=>r===ie?[Ea(n.children[ie],!1)]:[`${r}:${Ea(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ie]?`${ru(n)}/${t[0]}`:`${ru(n)}/(${t.join("//")})`}}function pA(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function su(n){return pA(n).replace(/%3B/gi,";")}function lg(n){return pA(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ou(n){return decodeURIComponent(n)}function gA(n){return ou(n.replace(/\+/g,"%20"))}function mA(n){return`${lg(n.path)}${function gB(n){return Object.keys(n).map(e=>`;${lg(e)}=${lg(n[e])}`).join("")}(n.parameters)}`}const vB=/^[^\/()?;#]+/;function cg(n){const e=n.match(vB);return e?e[0]:""}const yB=/^[^\/()?;=#]+/,_B=/^[^=?&#]+/,CB=/^[^&#]+/;class AB{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ae([],{}):new Ae([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[ie]=new Ae(e,t)),i}parseSegment(){const e=cg(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new P(4009,!1);return this.capture(e),new wa(ou(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function bB(n){const e=n.match(yB);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=cg(this.remaining);r&&(i=r,this.capture(i))}e[ou(t)]=ou(i)}parseQueryParam(e){const t=function wB(n){const e=n.match(_B);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const o=function EB(n){const e=n.match(CB);return e?e[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const r=gA(t),s=gA(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=cg(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new P(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ie);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[ie]:new Ae([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new P(4011,!1)}}function vA(n){return n.segments.length>0?new Ae([],{[ie]:n}):n}function yA(n){const e={};for(const i of Object.keys(n.children)){const s=yA(n.children[i]);if(i===ie&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function DB(n){if(1===n.numberOfChildren&&n.children[ie]){const e=n.children[ie];return new Ae(n.segments.concat(e.segments),e.children)}return n}(new Ae(n.segments,e))}function Rr(n){return n instanceof zs}function bA(n){let e;const r=vA(function t(s){const o={};for(const l of s.children){const c=t(l);o[l.outlet]=c}const a=new Ae(s.url,o);return s===n&&(e=a),a}(n.root));return e??r}function _A(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(0===e.length)return ug(r,r,r,t,i);const s=function MB(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new CA(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&r.push(a))}),r):[...r,s]},[]);return new CA(t,e,i)}(e);if(s.toRoot())return ug(r,r,new Ae([],{}),t,i);const o=function xB(n,e,t){if(n.isAbsolute)return new lu(e,!0,0);if(!t)return new lu(e,!1,NaN);if(null===t.parent)return new lu(t,!0,0);const i=au(n.commands[0])?0:1;return function IB(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new P(4005,!1);r=i.segments.length}return new lu(i,!1,r-s)}(t,t.segments.length-1+i,n.numberOfDoubleDots)}(s,r,n),a=o.processChildren?Da(o.segmentGroup,o.index,s.commands):EA(o.segmentGroup,o.index,s.commands);return ug(r,o.segmentGroup,a,t,i)}function au(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Aa(n){return"object"==typeof n&&null!=n&&n.outlets}function ug(n,e,t,i,r){let o,s={};i&&Object.entries(i).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`}),o=n===e?t:wA(n,e,t);const a=vA(yA(o));return new zs(a,s,r)}function wA(n,e,t){const i={};return Object.entries(n.children).forEach(([r,s])=>{i[r]=s===e?t:wA(s,e,t)}),new Ae(n.segments,i)}class CA{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&au(i[0]))throw new P(4003,!1);const r=i.find(Aa);if(r&&r!==lA(i))throw new P(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class lu{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function EA(n,e,t){if(n||(n=new Ae([],{})),0===n.segments.length&&n.hasChildren())return Da(n,e,t);const i=function PB(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const o=n.segments[r],a=t[i];if(Aa(a))break;const l=`${a}`,c=i<t.length-1?t[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!DA(l,c,o))return s;i+=2}else{if(!DA(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new Ae(n.segments.slice(0,i.pathIndex),{});return s.children[ie]=new Ae(n.segments.slice(i.pathIndex),n.children),Da(s,0,r)}return i.match&&0===r.length?new Ae(n.segments,{}):i.match&&!n.hasChildren()?dg(n,e,t):i.match?Da(n,0,r):dg(n,e,t)}function Da(n,e,t){if(0===t.length)return new Ae(n.segments,{});{const i=function TB(n){return Aa(n[0])?n[0].outlets:{[ie]:n}}(t),r={};if(Object.keys(i).some(s=>s!==ie)&&n.children[ie]&&1===n.numberOfChildren&&0===n.children[ie].segments.length){const s=Da(n.children[ie],e,t);return new Ae(n.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=EA(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{void 0===i[s]&&(r[s]=o)}),new Ae(n.segments,r)}}function dg(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(Aa(s)){const l=RB(s.outlets);return new Ae(i,l)}if(0===r&&au(t[0])){i.push(new wa(n.segments[e].path,AA(t[0]))),r++;continue}const o=Aa(s)?s.outlets[ie]:`${s}`,a=r<t.length-1?t[r+1]:null;o&&a&&au(a)?(i.push(new wa(o,AA(a))),r+=2):(i.push(new wa(o,{})),r++)}return new Ae(i,{})}function RB(n){const e={};return Object.entries(n).forEach(([t,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(e[t]=dg(new Ae([],{}),0,i))}),e}function AA(n){const e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function DA(n,e,t){return n==t.path&&si(e,t.parameters)}const Sa="imperative";class oi{constructor(e,t){this.id=e,this.url=t}}class cu extends oi{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class nr extends oi{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ma extends oi{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Gs extends oi{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class uu extends oi{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class SA extends oi{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class OB extends oi{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class NB extends oi{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class kB extends oi{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class LB extends oi{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class FB{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class VB{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class jB{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class BB{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class HB{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class UB{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class MA{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class hg{}class fg{constructor(e){this.url=e}}class $B{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new xa,this.attachRef=null}}let xa=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new $B,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class xA{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=pg(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=pg(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=gg(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return gg(e,this._root).map(t=>t.value)}}function pg(n,e){if(n===e.value)return e;for(const t of e.children){const i=pg(n,t);if(i)return i}return null}function gg(n,e){if(n===e.value)return[e];for(const t of e.children){const i=gg(n,t);if(i.length)return i.unshift(e),i}return[]}class Ii{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ws(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class IA extends xA{constructor(e,t){super(e),this.snapshot=t,mg(this,e)}toString(){return this.snapshot.toString()}}function TA(n,e){const t=function zB(n,e){const o=new du([],{},{},"",{},ie,e,null,{});return new RA("",new Ii(o,[]))}(0,e),i=new yn([new wa("",{})]),r=new yn({}),s=new yn({}),o=new yn({}),a=new yn(""),l=new qs(i,r,o,a,s,ie,e,t.root);return l.snapshot=t.root,new IA(new Ii(l,[]),t)}class qs{constructor(e,t,i,r,s,o,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Se(c=>c[_a]))??K(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Se(e=>$s(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Se(e=>$s(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function PA(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function GB(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class du{get title(){return this.data?.[_a]}constructor(e,t,i,r,s,o,a,l,c){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=$s(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$s(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class RA extends xA{constructor(e,t){super(t),this.url=e,mg(this,t)}toString(){return OA(this._root)}}function mg(n,e){e.value._routerState=n,e.children.forEach(t=>mg(n,t))}function OA(n){const e=n.children.length>0?` { ${n.children.map(OA).join(", ")} } `:"";return`${n.value}${e}`}function vg(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,si(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),si(e.params,t.params)||n.paramsSubject.next(t.params),function aB(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!si(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),si(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function yg(n,e){const t=si(n.params,e.params)&&function dB(n,e){return Pr(n,e)&&n.every((t,i)=>si(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||yg(n.parent,e.parent))}let bg=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ie,this.activateEvents=new Ce,this.deactivateEvents=new Ce,this.attachEvents=new Ce,this.detachEvents=new Ce,this.parentContexts=F(xa),this.location=F(Hn),this.changeDetector=F(Fc),this.environmentInjector=F(An),this.inputBinder=F(hu,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new P(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new P(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new P(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new P(4013,!1);this._activatedRoute=t;const r=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new WB(t,a,r.injector);this.activated=r.createComponent(o,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=q({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[an]})}}return n})();class WB{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===qs?this.route:e===xa?this.childContexts:this.parent.get(e,t)}}const hu=new V("");let NA=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:i}=t,r=ng([i.queryParams,i.params,i.data]).pipe(Yn(([s,o,a],l)=>(a={...s,...o,...a},0===l?K(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(t);const o=function v2(n){const e=ce(n);if(!e)return null;const t=new Ko(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(i.component);if(o)for(const{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,r)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})();function Ia(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function YB(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Ia(n,i,r);return Ia(n,i)})}(n,e,t);return new Ii(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Ia(n,a)),o}}const i=function KB(n){return new qs(new yn(n.url),new yn(n.params),new yn(n.queryParams),new yn(n.fragment),new yn(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>Ia(n,s));return new Ii(i,r)}}const _g="ngNavigationCancelingError";function kA(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=Rr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=LA(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function LA(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[_g]=!0,i.cancellationCode=e,t&&(i.url=t),i}function FA(n){return n&&n[_g]}let VA=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=sn({type:n,selectors:[["ng-component"]],standalone:!0,features:[Vw],decls:1,vars:0,template:function(i,r){1&i&&H(0,"router-outlet")},dependencies:[bg],encapsulation:2})}}return n})();function wg(n){const e=n.children&&n.children.map(wg),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ie&&(t.component=VA),t}function zn(n){return n.outlet||ie}function Ta(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class i3{constructor(e,t,i,r,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),vg(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Ws(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Ws(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);if(i&&i.outlet){const o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Ws(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){const r=Ws(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new UB(s.value.snapshot))}),e.children.length&&this.forwardEvent(new BB(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(vg(r),r===s)if(r.component){const o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),vg(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Ta(r.snapshot);o.attachRef=null,o.route=r,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,i)}}class jA{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class fu{constructor(e,t){this.component=e,this.route=t}}function r3(n,e,t){const i=n._root;return Pa(i,e?e._root:null,t,[i.value])}function Ys(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||function DI(n){return null!==gl(n)}(n)?e.get(n):n:i}function Pa(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Ws(e);return n.children.forEach(o=>{(function o3(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function a3(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Pr(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Pr(n.url,e.url)||!si(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!yg(n,e)||!si(n.queryParams,e.queryParams);default:return!yg(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new jA(i)):(s.data=o.data,s._resolvedData=o._resolvedData),Pa(n,e,s.component?a?a.children:null:t,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new fu(a.outlet.component,o))}else o&&Ra(e,a,r),r.canActivateChecks.push(new jA(i)),Pa(n,null,s.component?a?a.children:null:t,i,r)})(o,s[o.value.outlet],t,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Ra(a,t.getContext(o),r)),r}function Ra(n,e,t){const i=Ws(n),r=n.value;Object.entries(i).forEach(([s,o])=>{Ra(o,r.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new fu(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function Oa(n){return"function"==typeof n}function BA(n){return n instanceof tu||"EmptyError"===n?.name}const pu=Symbol("INITIAL_VALUE");function Ks(){return Yn(n=>ng(n.map(e=>e.pipe(Us(1),function Jj(...n){const e=fo(n);return Ze((t,i)=>{(e?ig(n,t,e):ig(n,t)).subscribe(i)})}(pu)))).pipe(Se(e=>{for(const t of e)if(!0!==t){if(t===pu)return pu;if(!1===t||t instanceof zs)return t}return!0}),xi(e=>e!==pu),Us(1)))}function HA(n){return function Mx(...n){return Km(n)}(Dt(e=>{if(Rr(e))throw kA(0,e)}),Se(e=>!0===e))}class gu{constructor(e){this.segmentGroup=e||null}}class UA{constructor(e){this.urlTree=e}}function Xs(n){return ya(new gu(n))}function $A(n){return ya(new UA(n))}class M3{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new P(4002,!1)}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return K(i);if(r.numberOfChildren>1||!r.children[ie])return ya(new P(4e3,!1));r=r.children[ie]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new zs(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Object.entries(e).forEach(([r,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);i[r]=t[a]}else i[r]=s}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let o={};return Object.entries(t.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,i,r)}),new Ae(s,o)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new P(4001,!1);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}const Cg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function x3(n,e,t,i,r){const s=Eg(n,e,t);return s.matched?(i=function QB(n,e){return n.providers&&!n._injector&&(n._injector=Yf(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,i),function A3(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?K(r.map(o=>{const a=Ys(o,n);return tr(function f3(n){return n&&Oa(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Ks(),HA()):K(!0)}(i,e,t).pipe(Se(o=>!0===o?s:{...Cg}))):K(s)}function Eg(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Cg}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||oB)(t,n,e);if(!r)return{...Cg};const s={};Object.entries(r.posParams??{}).forEach(([a,l])=>{s[a]=l.path});const o=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function zA(n,e,t,i){return t.length>0&&function P3(n,e,t){return t.some(i=>mu(n,e,i)&&zn(i)!==ie)}(n,t,i)?{segmentGroup:new Ae(e,T3(i,new Ae(t,n.children))),slicedSegments:[]}:0===t.length&&function R3(n,e,t){return t.some(i=>mu(n,e,i))}(n,t,i)?{segmentGroup:new Ae(n.segments,I3(n,0,t,i,n.children)),slicedSegments:t}:{segmentGroup:new Ae(n.segments,n.children),slicedSegments:t}}function I3(n,e,t,i,r){const s={};for(const o of i)if(mu(n,t,o)&&!r[zn(o)]){const a=new Ae([],{});s[zn(o)]=a}return{...r,...s}}function T3(n,e){const t={};t[ie]=e;for(const i of n)if(""===i.path&&zn(i)!==ie){const r=new Ae([],{});t[zn(i)]=r}return t}function mu(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class L3{constructor(e,t,i,r,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new M3(this.urlSerializer,this.urlTree)}noMatchError(e){return new P(4002,!1)}recognize(){const e=zA(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ie).pipe(Tr(t=>{if(t instanceof UA)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof gu?this.noMatchError(t):t}),Se(t=>{const i=new du([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ie,this.rootComponentType,null,{}),r=new Ii(i,t),s=new RA("",r),o=function SB(n,e,t=null,i=null){return _A(bA(n),e,t,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,ie).pipe(Tr(i=>{throw i instanceof gu?this.noMatchError(i):i}))}inheritParamsAndData(e){const t=e.value,i=PA(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r,!0)}processChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return Je(r).pipe(ba(s=>{const o=i.children[s],a=function t3(n,e){const t=n.filter(i=>zn(i)===e);return t.push(...n.filter(i=>zn(i)!==e)),t}(t,s);return this.processSegmentGroup(e,a,o,s)}),function nB(n,e){return Ze(function tB(n,e,t,i,r){return(s,o)=>{let a=t,l=e,c=0;s.subscribe(qe(o,u=>{const d=c++;l=a?n(l,u,d):(a=!0,u),i&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}(n,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),nu(null),function iB(n,e){const t=arguments.length>=2;return i=>i.pipe(n?xi((r,s)=>n(r,s,i)):Hi,sg(1),t?nu(e):oA(()=>new tu))}(),ht(s=>{if(null===s)return Xs(i);const o=GA(s);return function F3(n){n.sort((e,t)=>e.value.outlet===ie?-1:t.value.outlet===ie?1:e.value.outlet.localeCompare(t.value.outlet))}(o),K(o)}))}processSegment(e,t,i,r,s,o){return Je(t).pipe(ba(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,i,r,s,o).pipe(Tr(l=>{if(l instanceof gu)return K(null);throw l}))),Ir(a=>!!a),Tr(a=>{if(BA(a))return function N3(n,e,t){return 0===e.length&&!n.children[t]}(i,r,s)?K([]):Xs(i);throw a}))}processSegmentAgainstRoute(e,t,i,r,s,o,a){return function O3(n,e,t,i){return!!(zn(n)===i||i!==ie&&mu(e,t,n))&&("**"===n.path||Eg(e,n,t).matched)}(i,r,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,r,i,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,s,o):Xs(r):Xs(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const s=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?$A(s):this.applyRedirects.lineralizeSegments(i,s).pipe(ht(o=>{const a=new Ae(o,{});return this.processSegment(e,t,a,o,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=Eg(t,r,s);if(!a)return Xs(t);const d=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,u);return r.redirectTo.startsWith("/")?$A(d):this.applyRedirects.lineralizeSegments(r,d).pipe(ht(h=>this.processSegment(e,i,t,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,t,i,r,s,o){let a;if("**"===i.path){const l=r.length>0?lA(r).parameters:{};a=K({snapshot:new du(r,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,WA(i),zn(i),i.component??i._loadedComponent??null,i,qA(i)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=x3(t,i,r,e).pipe(Se(({matched:l,consumedSegments:c,remainingSegments:u,parameters:d})=>l?{snapshot:new du(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,WA(i),zn(i),i.component??i._loadedComponent??null,i,qA(i)),consumedSegments:c,remainingSegments:u}:null));return a.pipe(Yn(l=>null===l?Xs(t):this.getChildConfig(e=i._injector??e,i,r).pipe(Yn(({routes:c})=>{const u=i._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=l,{segmentGroup:p,slicedSegments:g}=zA(t,h,f,c);if(0===g.length&&p.hasChildren())return this.processChildren(u,c,p).pipe(Se(m=>null===m?null:[new Ii(d,m)]));if(0===c.length&&0===g.length)return K([new Ii(d,[])]);const v=zn(i)===s;return this.processSegment(u,c,p,g,v?ie:s,!0).pipe(Se(m=>[new Ii(d,m)]))}))))}getChildConfig(e,t,i){return t.children?K({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?K({routes:t._loadedRoutes,injector:t._loadedInjector}):function E3(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?K(!0):K(r.map(o=>{const a=Ys(o,n);return tr(function c3(n){return n&&Oa(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Ks(),HA())}(e,t,i).pipe(ht(r=>r?this.configLoader.loadChildren(e,t).pipe(Dt(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function S3(n){return ya(LA(!1,3))}())):K({routes:[],injector:e})}}function V3(n){const e=n.value.routeConfig;return e&&""===e.path}function GA(n){const e=[],t=new Set;for(const i of n){if(!V3(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=GA(i.children);e.push(new Ii(i.value,r))}return e.filter(i=>!t.has(i))}function WA(n){return n.data||{}}function qA(n){return n.resolve||{}}function YA(n){return"string"==typeof n.title||null===n.title}function Ag(n){return Yn(e=>{const t=n(e);return t?Je(t).pipe(Se(()=>e)):K(e)})}const Qs=new V("ROUTES");let Dg=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=F(TC)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return K(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=tr(t.loadComponent()).pipe(Se(KA),Dt(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),og(()=>{this.componentLoaders.delete(t)})),r=new sA(i,()=>new vn).pipe(rg());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return K({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=function G3(n,e,t,i){return tr(n.loadChildren()).pipe(Se(KA),ht(r=>r instanceof Lw||Array.isArray(r)?K(r):Je(e.compileModuleAsync(r))),Se(r=>{i&&i(n);let s,o,a=!1;return Array.isArray(r)?(o=r,!0):(s=r.create(t).injector,o=s.get(Qs,[],{optional:!0,self:!0}).flat()),{routes:o.map(wg),injector:s}}))}(i,this.compiler,t,this.onLoadEndListener).pipe(og(()=>{this.childrenLoaders.delete(i)})),o=new sA(s,()=>new vn).pipe(rg());return this.childrenLoaders.set(i,o),o}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function KA(n){return function W3(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let vu=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new vn,this.transitionAbortSubject=new vn,this.configLoader=F(Dg),this.environmentInjector=F(An),this.urlSerializer=F(Ca),this.rootContexts=F(xa),this.inputBindingEnabled=null!==F(hu,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>K(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new VB(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new FB(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t,i,r){return this.transitions=new yn({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:t.urlHandlingStrategy.extract(i),urlAfterRedirects:t.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Sa,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(xi(s=>0!==s.id),Se(s=>({...s,extractedUrl:t.urlHandlingStrategy.extract(s.rawUrl)})),Yn(s=>{this.currentTransition=s;let o=!1,a=!1;return K(s).pipe(Dt(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Yn(l=>{const c=l.currentBrowserUrl.toString(),u=!t.navigated||l.extractedUrl.toString()!==c||c!==l.currentUrlTree.toString();if(!u&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const h="";return this.events.next(new Gs(l.id,this.urlSerializer.serialize(l.rawUrl),h,0)),l.resolve(null),qn}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return K(l).pipe(Yn(h=>{const f=this.transitions?.getValue();return this.events.next(new cu(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?qn:Promise.resolve(h)}),function j3(n,e,t,i,r,s){return ht(o=>function k3(n,e,t,i,r,s,o="emptyOnly"){return new L3(n,e,t,i,r,o,s).recognize()}(n,e,t,i,o.extractedUrl,r,s).pipe(Se(({state:a,tree:l})=>({...o,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Dt(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const f=new SA(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(u&&t.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:v}=l,m=new cu(h,this.urlSerializer.serialize(f),p,g);this.events.next(m);const y=TA(0,this.rootComponentType).snapshot;return this.currentTransition=s={...l,targetSnapshot:y,urlAfterRedirects:f,extras:{...v,skipLocationChange:!1,replaceUrl:!1}},K(s)}{const h="";return this.events.next(new Gs(l.id,this.urlSerializer.serialize(l.extractedUrl),h,1)),l.resolve(null),qn}}),Dt(l=>{const c=new OB(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),Se(l=>(this.currentTransition=s={...l,guards:r3(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},s)),function g3(n,e){return ht(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?K({...t,guardsResult:!0}):function m3(n,e,t,i){return Je(n).pipe(ht(r=>function C3(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?K(s.map(a=>{const l=Ta(e)??r,c=Ys(a,l);return tr(function h3(n){return n&&Oa(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,i):l.runInContext(()=>c(n,e,t,i))).pipe(Ir())})).pipe(Ks()):K(!0)}(r.component,r.route,t,e,i)),Ir(r=>!0!==r,!0))}(o,i,r,n).pipe(ht(a=>a&&function l3(n){return"boolean"==typeof n}(a)?function v3(n,e,t,i){return Je(e).pipe(ba(r=>ig(function b3(n,e){return null!==n&&e&&e(new jB(n)),K(!0)}(r.route.parent,i),function y3(n,e){return null!==n&&e&&e(new HB(n)),K(!0)}(r.route,i),function w3(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function s3(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>rA(()=>K(o.guards.map(l=>{const c=Ta(o.node)??t,u=Ys(l,c);return tr(function d3(n){return n&&Oa(n.canActivateChild)}(u)?u.canActivateChild(i,n):c.runInContext(()=>u(i,n))).pipe(Ir())})).pipe(Ks())));return K(s).pipe(Ks())}(n,r.path,t),function _3(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return K(!0);const r=i.map(s=>rA(()=>{const o=Ta(e)??t,a=Ys(s,o);return tr(function u3(n){return n&&Oa(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe(Ir())}));return K(r).pipe(Ks())}(n,r.route,t))),Ir(r=>!0!==r,!0))}(i,s,n,e):K(a)),Se(a=>({...t,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),Dt(l=>{if(s.guardsResult=l.guardsResult,Rr(l.guardsResult))throw kA(0,l.guardsResult);const c=new NB(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),xi(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),Ag(l=>{if(l.guards.canActivateChecks.length)return K(l).pipe(Dt(c=>{const u=new kB(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Yn(c=>{let u=!1;return K(c).pipe(function B3(n,e){return ht(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return K(t);let s=0;return Je(r).pipe(ba(o=>function H3(n,e,t,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!YA(r)&&(s[_a]=r.title),function U3(n,e,t,i){const r=function $3(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return K({});const s={};return Je(r).pipe(ht(o=>function z3(n,e,t,i){const r=Ta(e)??i,s=Ys(n,r);return tr(s.resolve?s.resolve(e,t):r.runInContext(()=>s(e,t)))}(n[o],e,t,i).pipe(Ir(),Dt(a=>{s[o]=a}))),sg(1),function rB(n){return Se(()=>n)}(s),Tr(o=>BA(o)?qn:ya(o)))}(s,n,e,i).pipe(Se(o=>(n._resolvedData=o,n.data=PA(n,t).resolve,r&&YA(r)&&(n.data[_a]=r.title),null)))}(o.route,i,n,e)),Dt(()=>s++),sg(1),ht(o=>s===r.length?K(t):qn))})}(t.paramsInheritanceStrategy,this.environmentInjector),Dt({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",2)}}))}),Dt(c=>{const u=new LB(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),Ag(l=>{const c=u=>{const d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(Dt(h=>{u.component=h}),Se(()=>{})));for(const h of u.children)d.push(...c(h));return d};return ng(c(l.targetSnapshot.root)).pipe(nu(),Us(1))}),Ag(()=>this.afterPreactivation()),Se(l=>{const c=function qB(n,e,t){const i=Ia(n,e._root,t?t._root:void 0);return new IA(i,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s={...l,targetRouterState:c},s}),Dt(()=>{this.events.next(new hg)}),((n,e,t,i)=>Se(r=>(new i3(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Us(1),Dt({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new nr(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),Ve(this.transitionAbortSubject.pipe(Dt(l=>{throw l}))),og(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Tr(l=>{if(a=!0,FA(l))this.events.next(new Ma(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),function XB(n){return FA(n)&&Rr(n.url)}(l)?this.events.next(new fg(l.url)):s.resolve(!1);else{this.events.next(new uu(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(t.errorHandler(l))}catch(c){s.reject(c)}}return qn}))}))}cancelNavigationTransition(t,i,r){const s=new Ma(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(s),t.resolve(!1)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function XA(n){return n!==Sa}let QA=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===ie);return i}getResolvedTitleForRoute(t){return t.data[_a]}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=U({token:n,factory:function(){return F(q3)},providedIn:"root"})}}return n})(),q3=(()=>{class n extends QA{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||n)($(QE))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Y3=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=U({token:n,factory:function(){return F(X3)},providedIn:"root"})}}return n})();class K3{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let X3=(()=>{class n extends K3{static{this.\u0275fac=function(){let t;return function(r){return(t||(t=bt(n)))(r||n)}}()}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const yu=new V("",{providedIn:"root",factory:()=>({})});let Q3=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=U({token:n,factory:function(){return F(Z3)},providedIn:"root"})}}return n})(),Z3=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Na=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Na||{});function ZA(n,e){n.events.pipe(xi(t=>t instanceof nr||t instanceof Ma||t instanceof uu||t instanceof Gs),Se(t=>t instanceof nr||t instanceof Gs?Na.COMPLETE:t instanceof Ma&&(0===t.code||1===t.code)?Na.REDIRECTING:Na.FAILED),xi(t=>t!==Na.REDIRECTING),Us(1)).subscribe(()=>{e()})}function J3(n){throw n}function eH(n,e,t){return e.parse("/")}const tH={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},nH={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Tn=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=F(xC),this.isNgZoneEnabled=!1,this._events=new vn,this.options=F(yu,{optional:!0})||{},this.pendingTasks=F(IC),this.errorHandler=this.options.errorHandler||J3,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||eH,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=F(Q3),this.routeReuseStrategy=F(Y3),this.titleStrategy=F(QA),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=F(Qs,{optional:!0})?.flat()??[],this.navigationTransitions=F(vu),this.urlSerializer=F(Ca),this.location=F(Ip),this.componentInputBindingEnabled=!!F(hu,{optional:!0}),this.eventsSubscription=new $t,this.isNgZoneEnabled=F(Me)instanceof Me&&Me.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new zs,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=TA(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(JA(i)&&this._events.next(i));if(i instanceof cu)XA(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(i instanceof Gs)this.rawUrlTree=r.rawUrl;else if(i instanceof SA){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(s,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(i instanceof hg)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(i instanceof Ma)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(r);else if(i instanceof fg){const s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),o={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||XA(r.source)};this.scheduleNavigation(s,Sa,null,o,{resolve:r.resolve,reject:r.reject,promise:r.promise})}i instanceof uu&&this.restoreHistory(r,!0),i instanceof nr&&(this.navigated=!0),JA(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Sa,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,r){const s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){const l={...r};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,i,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(wg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:o;let d,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...s};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}null!==u&&(u=this.removeEmptyProps(u));try{d=bA(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),d=this.currentUrlTree.root}return _A(d,t,u,c??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Rr(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,Sa,null,i)}navigate(t,i={skipLocationChange:!1}){return function iH(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new P(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...tH}:!1===i?{...nH}:i,Rr(t))return uA(this.currentUrlTree,t,r);const s=this.parseUrl(t);return uA(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}scheduleNavigation(t,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c;o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,l=h});const u=this.pendingTasks.add();return ZA(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",o)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",s)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function JA(n){return!(n instanceof hg||n instanceof fg)}let ka=(()=>{class n{constructor(t,i,r,s,o,a){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new vn,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const l=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof nr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||i||r||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function kb(n,e,t){return function P1(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?Nb:En}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,i){const r=this.renderer,s=this.el.nativeElement;null!==i?r.setAttribute(s,t,i):r.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(i){return new(i||n)(O(Tn),O(qs),function Ll(n){return function QT(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const i=t.length;let r=0;for(;r<i;){const s=t[r];if(xv(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<i&&"string"==typeof t[r];)r++;else{if(s===e)return t[r+1];r+=2}}}return null}(yt(),n)}("tabindex"),O(bi),O(Xt),O(Mr))}}static{this.\u0275dir=q({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&Ne("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&i&&Qt("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Bs],skipLocationChange:["skipLocationChange","skipLocationChange",Bs],replaceUrl:["replaceUrl","replaceUrl",Bs],routerLink:"routerLink"},standalone:!0,features:[X_,an]})}}return n})();class eD{}let oH=(()=>{class n{constructor(t,i,r,s,o){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(xi(t=>t instanceof nr),ba(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=Yf(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Je(r).pipe(zr())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):K(null);const s=r.pipe(ht(o=>null===o?K(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return i.loadComponent&&!i._loadedComponent?Je([s,this.loader.loadComponent(i)]).pipe(zr()):s})}static{this.\u0275fac=function(i){return new(i||n)($(Tn),$(TC),$(An),$(eD),$(Dg))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const Sg=new V("");let tD=(()=>{class n{constructor(t,i,r,s,o={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof cu?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof nr?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Gs&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof MA&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new MA(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(i){!function E_(){throw new Error("invalid")}()}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})();function Ti(n,e){return{\u0275kind:n,\u0275providers:e}}function iD(){const n=F(un);return e=>{const t=n.get(js);if(e!==t.components[0])return;const i=n.get(Tn),r=n.get(rD);1===n.get(Mg)&&i.initialNavigation(),n.get(sD,null,oe.Optional)?.setUpPreloading(),n.get(Sg,null,oe.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const rD=new V("",{factory:()=>new vn}),Mg=new V("",{providedIn:"root",factory:()=>1}),sD=new V("");function uH(n){return Ti(0,[{provide:sD,useExisting:oH},{provide:eD,useExisting:n}])}const oD=new V("ROUTER_FORROOT_GUARD"),hH=[Ip,{provide:Ca,useClass:ag},Tn,xa,{provide:qs,useFactory:function nD(n){return n.routerState.root},deps:[Tn]},Dg,[]];function fH(){return new FC("Router",Tn)}let aD=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[hH,[],{provide:Qs,multi:!0,useValue:t},{provide:oD,useFactory:vH,deps:[[Tn,new jl,new Bl]]},{provide:yu,useValue:i||{}},i?.useHash?{provide:Mr,useClass:C2}:{provide:Mr,useClass:pE},{provide:Sg,useFactory:()=>{const n=F(UV),e=F(Me),t=F(yu),i=F(vu),r=F(Ca);return t.scrollOffset&&n.setOffset(t.scrollOffset),new tD(r,i,n,e,t)}},i?.preloadingStrategy?uH(i.preloadingStrategy).\u0275providers:[],{provide:FC,multi:!0,useFactory:fH},i?.initialNavigation?yH(i):[],i?.bindToComponentInputs?Ti(8,[NA,{provide:hu,useExisting:NA}]).\u0275providers:[],[{provide:lD,useFactory:iD},{provide:bp,multi:!0,useExisting:lD}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Qs,multi:!0,useValue:t}]}}static{this.\u0275fac=function(i){return new(i||n)($(oD,8))}}static{this.\u0275mod=kn({type:n})}static{this.\u0275inj=_n({})}}return n})();function vH(n){return"guarded"}function yH(n){return["disabled"===n.initialNavigation?Ti(3,[{provide:dp,multi:!0,useFactory:()=>{const e=F(Tn);return()=>{e.setUpLocationChangeListener()}}},{provide:Mg,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Ti(2,[{provide:Mg,useValue:0},{provide:dp,multi:!0,deps:[un],useFactory:e=>{const t=e.get(_2,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(Tn),s=e.get(rD);ZA(r,()=>{i(!0)}),e.get(vu).afterPreactivation=()=>(i(!0),s.closed?K(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const lD=new V("");let Zs=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=sn({type:n,selectors:[["app-app-header"]],decls:67,vars:0,consts:[[1,"header"],[1,"logo"],["src","assets/schoollogo.png","alt","School Logo",2,"padding-left","10px"],[1,"headline1"],[2,"font-family","cursive","line-height","28px"],[1,"headline2"],[1,"headline3"],["src","assets/flag.png","alt","Nepal Govt Logo",1,"flag",2,"height","80","padding-right","8px","height","80","height","80"],[1,"navbar","navbar-expand-lg","navbar-light","bg-blue"],[1,"container-fluid",2,"display","flex","display","inline"],[1,"navbar-brand",2,"font-size","large"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse","justify-content-between"],[1,"navbar-nav","w-100","justify-content-between"],[1,"nav-item"],["routerLink","/",1,"nav-link"],["routerLink","/about-us",1,"nav-link"],[1,"dropdown"],[1,"dropbtn","nav-link"],[1,"dropdown-content"],["routerLink","/faculties"],["href","/routines"],["routerLink","/syllabus&curriculum"],["routerLink","/admission",1,"nav-link"],["routerLink","/Notices",1,"nav-link"],["routerLink","/admission"],["routerLink","/"],["routerLink","/contact",1,"nav-link"],["routerLink","/our-team",1,"nav-link"],["routerLink","/blogs",1,"nav-link"]],template:function(i,r){1&i&&(C(0,"header",0)(1,"div",1),H(2,"img",2),A(),C(3,"div",3)(4,"P",4),M(5,"SHREE RAJESHWAR NIDHI SECONDARY SCHOOL"),A(),C(6,"p",5),M(7,"Nagarain-2 (Dhanusha) Nepal"),A(),C(8,"p",6),M(9,"ESTD:2005 BS"),A()(),C(10,"div",1),H(11,"img",7),A()(),C(12,"nav",8)(13,"div",9)(14,"a",10)(15,"b")(16,"i"),M(17,"Main Menu"),A()()(),C(18,"button",11),H(19,"span",12),A(),C(20,"div",13)(21,"ul",14)(22,"li",15)(23,"a",16),M(24,"Home"),A()(),C(25,"li",15)(26,"a",17),M(27,"About Us"),A()(),C(28,"li",15)(29,"div",18)(30,"a",19),M(31,"Academics"),A(),C(32,"div",20)(33,"a",21),M(34,"Faculties"),A(),C(35,"a",22),M(36,"Routines"),A(),C(37,"a",23),M(38,"Syllabus & Curriculum"),A()()()(),C(39,"li",15)(40,"a",24),M(41,"News & Events"),A()(),C(42,"li",15)(43,"a",25),M(44,"Notices"),A()(),C(45,"li",15)(46,"div",18)(47,"a",19),M(48,"Online Services"),A(),C(49,"div",20)(50,"a",26),M(51,"Admission"),A(),C(52,"a",27),M(53,"Results"),A(),C(54,"a",27),M(55,"Apply For CC/LC"),A(),C(56,"a",27),M(57,"ID Card"),A()()()(),C(58,"li",15)(59,"a",28),M(60,"Contact US"),A()(),C(61,"li",15)(62,"a",29),M(63,"Our Team"),A()(),C(64,"li",15)(65,"a",30),M(66,"Our Blogs"),A()()()()()())},dependencies:[ka],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;font-family:Arial,sans-serif}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:5px;background-color:#f4f4f4;flex-wrap:wrap}.headline1[_ngcontent-%COMP%]{text-align:center;color:#00f;font-size:30px;font-weight:1000}.headline2[_ngcontent-%COMP%], .headline3[_ngcontent-%COMP%]{font-family:cursive;font-size:22px}.header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:90px;height:auto}.header[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:right}.header[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#000}.navbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;background-color:#0056b3;padding:3px}.navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;padding:7px 12px;text-decoration:none;font-size:18px;font-family:Times New Roman}.navbar-brand[_ngcontent-%COMP%]{display:none}.navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#0ff;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif;font-size:16px}@media screen and (max-width: 768px){.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background-color:#f4f4f4;flex-wrap:wrap;line-height:16px;margin:0;padding:0}.headline1[_ngcontent-%COMP%]{text-align:center;color:#00f;font-size:12.5px;font-weight:1000}.headline2[_ngcontent-%COMP%]{font-family:cursive;font-size:15px}.headline3[_ngcontent-%COMP%]{font-family:cursive;font-size:12px}.header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px}.navbar[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:4px;text-align:left;width:100%;font-size:small}.navbar-brand[_ngcontent-%COMP%]{display:inline;margin-right:65%}}.dropdown[_ngcontent-%COMP%]{position:relative}.dropdown-content[_ngcontent-%COMP%]{display:none;position:absolute;background-color:#333;min-width:160px;z-index:1;flex-direction:column;text-align:left}.dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;padding:10px;text-decoration:none;display:block}.dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#575757}.dropdown[_ngcontent-%COMP%]:hover   .dropdown-content[_ngcontent-%COMP%]{display:block}"]})}}return n})(),Js=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=sn({type:n,selectors:[["app-app-footer"]],decls:46,vars:0,consts:[[1,"footer"],[1,"footer-container"],[1,"footer-section","logo-desc"],["src","assets/schoollogo.png","alt","School Logo",1,"footer-logo"],[1,"footer-section","quick-links"],["routerLink","/"],["href","/about-us"],["href","/notices"],["href","#"],[1,"footer-section","social-media"],[1,"social-icons"],["href","https://www.facebook.com/rajeshwarnidhi","aria-label","Facebook"],[1,"fab","fa-facebook-f"],["href","#","aria-label","Instagram"],[1,"fab","fa-instagram"],["href","#","aria-label","Twitter"],[1,"fab","fa-twitter"],["href","#","aria-label","LinkedIn"],[1,"fab","fa-linkedin-in"],["href","https://www.youtube.com/@shreerajeshwarnidhiseconda5966","aria-label","Youtube"],[1,"fab","fa-youtube"],["href","mailto:srnss2005@gmail.com","aria-label","Email"],[1,"fas","fa-envelope"],[1,"footer-bottom"]],template:function(i,r){1&i&&(C(0,"footer",0)(1,"div",1)(2,"div",2),H(3,"img",3),C(4,"p"),M(5," Shree Rajeshwar Nidhi Secondary School "),H(6,"br"),M(7," Quality education fostering growth and success for all students. "),A()(),C(8,"div",4)(9,"h4"),M(10,"Quick Links"),A(),C(11,"ul")(12,"li")(13,"a",5),M(14,"Home"),A()(),C(15,"li")(16,"a",6),M(17,"About Us"),A()(),C(18,"li")(19,"a",7),M(20,"Notices"),A()(),C(21,"li")(22,"a",8),M(23,"News$Events"),A()(),C(24,"li")(25,"a",8),M(26,"Notices"),A()()()(),C(27,"div",9)(28,"h4"),M(29,"Connect with Us"),A(),C(30,"div",10)(31,"a",11),H(32,"i",12),A(),C(33,"a",13),H(34,"i",14),A(),C(35,"a",15),H(36,"i",16),A(),C(37,"a",17),H(38,"i",18),A(),C(39,"a",19),H(40,"i",20),A(),C(41,"a",21),H(42,"i",22),A()()()(),C(43,"div",23)(44,"p"),M(45,"\xa9 2024 Shree Rajeshwar Nidhi Secondary School. All rights reserved."),A()()())},dependencies:[ka],styles:[".footer[_ngcontent-%COMP%]{background-color:#2c3e50;color:#fff;padding:25px 25px 10px;font-family:Roboto,sans-serif}.footer-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;display:flex;flex-wrap:wrap;justify-content:space-between}.footer-section[_ngcontent-%COMP%]{flex-basis:30%;margin-bottom:10px}.footer-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#f1c40f;margin-bottom:15px;font-size:18px}.logo-desc[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;line-height:1.6;color:#dcdcdc}.footer-logo[_ngcontent-%COMP%]{max-width:100px;margin-bottom:10px}.quick-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;padding:0}.quick-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:12px}.quick-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:14px}.quick-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.social-icons[_ngcontent-%COMP%]{display:flex;gap:15px}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:20px;color:#fff;padding:10px;background-color:#34495e;border-radius:50%;transition:background-color .3s ease}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#f1c40f;color:#2c3e50}.footer-bottom[_ngcontent-%COMP%]{text-align:center;padding-top:10px;border-top:1px solid #34495e}.footer-bottom[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#ddd}@media (max-width: 768px){.footer-section[_ngcontent-%COMP%]{flex-basis:100%;text-align:center}.social-icons[_ngcontent-%COMP%]{display:inline;align-items:center}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:5px}}"]})}}return n})();function _H(n,e){if(1&n&&(C(0,"div",15)(1,"div",16),H(2,"img",17),C(3,"h5",18),M(4),A(),C(5,"p",18),M(6),A()()()),2&n){const t=e.$implicit;j(2),ta("alt",t.name),de("src",t.image,En),j(2),ft(t.name),j(2),ft(t.position)}}let wH=(()=>{class n{constructor(){this.teamMembers=[{name:"Premendra Kumar Nidhi",position:"Principal",image:"assets/headsir.jpg"},{name:"Ashok Kumar Labh",position:"Vice Principal",image:"assets/headsir.jpg"},{name:"Suresh Kumar Yadav",position:"Vice Principal",image:"assets/headsir.jpg"},{name:"Suresh Kumar Thakur",position:"Administrative",image:"assets/headsir.jpg"}]}ngOnInit(){this.checkScroll()}checkScroll(){const t=document.querySelectorAll(".animate-section"),i=.8*window.innerHeight;t.forEach(r=>{r.getBoundingClientRect().top<i&&r.classList.add("active")})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=sn({type:n,selectors:[["app-about-us"]],hostBindings:function(i,r){1&i&&Ne("scroll",function(o){return r.checkScroll(o)},0,c_)},decls:63,vars:1,consts:[[1,"about-us"],[1,"hero-section"],["src","assets/images/teaching.gif","alt","school pic"],[1,"container"],[1,"row","mb-5","animate-section"],[1,"col-md-6"],["src","assets/images/schoolbuilding.jpg","alt","School Building",1,"img-fluid","rounded"],[1,"row","text-center","mb-5","animate-section"],[1,"col-12","text-center"],[1,"row","text-center","mb-5"],[1,"col-12","mb-4","animate-section"],["class","col-md-3 animate-section",4,"ngFor","ngForOf"],[1,"row","text-center","animate-section"],[1,"col-12"],[1,"cta-button"],[1,"col-md-3","animate-section"],[1,"team-card"],[1,"team-photo",3,"src","alt"],[2,"background-color","azure"]],template:function(i,r){1&i&&(H(0,"app-app-header"),C(1,"div",0)(2,"div",1)(3,"div")(4,"h1"),M(5,"About Us"),A(),C(6,"p"),M(7,"We nurture curiosity, foster creativity, and empower students to excel. Our school is a dynamic learning environment that champions both academic excellence and personal growth."),A()(),C(8,"div"),H(9,"img",2),A()(),C(10,"div",3)(11,"div",4)(12,"div",5)(13,"h2"),M(14,"Welcome to Our School"),A(),C(15,"p"),M(16," At "),C(17,"i")(18,"b"),M(19,"Shree Rajeshwar Nidhi Secondary School"),A()(),M(20,", we are committed to creating a space where young minds can flourish, grow, and prepare for a bright future. Our school is not just an academic institution; it\u2019s a vibrant community where students are encouraged to explore their talents, foster their creativity, and develop into responsible global citizens. We aim to provide an enriching and inspiring environment where every student feels valued and supported, enabling them to excel in their studies and personal development. "),A(),C(21,"p"),M(22,"Whether you are a new student or a returning one, we warmly welcome you to join us in a journey of discovery, growth, and success. Together, we can build a strong foundation for a lifetime of learning and achievement."),A()(),C(23,"div",5),H(24,"img",6),A()(),C(25,"div",7)(26,"div",5)(27,"h3"),M(28,"Our Mission"),A(),C(29,"p"),M(30," Our mission at "),C(31,"b"),M(32,"SRNSS"),A(),M(33," is to provide a world-class education that empowers students to become critical thinkers, compassionate individuals, and innovative leaders. We strive to inspire a lifelong love of learning while nurturing the skills necessary to succeed in a rapidly changing world. By focusing on academic excellence, character development, and community engagement, we prepare our students not just for exams, but for life."),A(),C(34,"p"),M(35,"Through a dynamic and inclusive curriculum, we aim to cultivate curiosity, encourage collaboration, and foster a deep sense of integrity and responsibility. Our mission is to guide each student to achieve their highest potential, both inside and outside the classroom."),A()(),C(36,"div",5)(37,"h3"),M(38,"Our Vision"),A(),C(39,"p"),M(40," Our vision is to shape the leaders of tomorrow by providing a comprehensive and forward-thinking education. We envision a school where students are equipped with the knowledge, skills, and moral compass to navigate and excel in a global society. At [School Name], we believe in fostering a community of learners who are not only academically accomplished but also socially conscious and environmentally responsible."),A(),C(41,"p"),M(42,"We aim to create a learning environment that embraces innovation, celebrates diversity, and encourages each student to explore their unique strengths and passions. Our vision is to be a beacon of educational excellence, where every student is prepared to thrive in the future."),A()()(),C(43,"div",4)(44,"div",8)(45,"h3"),M(46,"Our History"),A(),C(47,"p"),M(48," Founded in 2005 B.S., SRNSS has a long-standing tradition of academic achievement and community involvement. What began as a small institution with a handful of students has grown into a thriving educational community known for its dedication to excellence and innovation. Over the years, we have continually evolved to meet the changing needs of our students and society, while remaining true to our core values of integrity, respect, and inclusivity."),A()()(),C(49,"div",9)(50,"div",10)(51,"h3"),M(52,"Meet Our Team"),A()(),Vn(53,_H,7,4,"div",11),A(),C(54,"div",12)(55,"div",13)(56,"h3"),M(57,"Join Us Today!"),A(),C(58,"p"),M(59,"Discover the opportunities awaiting your child at our school. Enroll now!"),A(),C(60,"button",14),M(61,"Apply Now"),A()()()()(),H(62,"app-app-footer")),2&i&&(j(53),de("ngForOf",r.teamMembers))},dependencies:[xr,Zs,Js],styles:["*[_ngcontent-%COMP%]{background-color:#e1eee7;background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='111' height='111' viewBox='0 0 200 200'%3E%3Cdefs%3E%3ClinearGradient id='a' gradientUnits='userSpaceOnUse' x1='100' y1='33' x2='100' y2='-3'%3E%3Cstop offset='0' stop-color='%23000' stop-opacity='0'/%3E%3Cstop offset='1' stop-color='%23000' stop-opacity='1'/%3E%3C/linearGradient%3E%3ClinearGradient id='b' gradientUnits='userSpaceOnUse' x1='100' y1='135' x2='100' y2='97'%3E%3Cstop offset='0' stop-color='%23000' stop-opacity='0'/%3E%3Cstop offset='1' stop-color='%23000' stop-opacity='1'/%3E%3C/linearGradient%3E%3C/defs%3E%3Cg fill='%23bac7c0' fill-opacity='0.05'%3E%3Crect x='100' width='100' height='100'/%3E%3Crect y='100' width='100' height='100'/%3E%3C/g%3E%3Cg fill-opacity='0.05'%3E%3Cpolygon fill='url(%23a)' points='100 30 0 0 200 0'/%3E%3Cpolygon fill='url(%23b)' points='100 100 0 130 0 100 200 100 200 130'/%3E%3C/g%3E%3C/svg%3E\")}.about-us[_ngcontent-%COMP%]{font-family:Arial,sans-serif}.hero-section[_ngcontent-%COMP%]{color:#080441;text-align:center;display:flex;flex-wrap:wrap;justify-content:center;align-items:center;padding:10px 8%}.hero-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem}.hero-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.25rem;margin-top:10px}.hero-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding-left:10px;padding-top:10px;max-width:100%;height:auto}@media (max-width: 768px){.hero-section[_ngcontent-%COMP%]{flex-direction:column;padding-left:0}.hero-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;margin-top:20px}.hero-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.hero-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding-left:0;padding-top:15px;width:80%}}.container[_ngcontent-%COMP%]{padding:50px 15px}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{color:#333}p[_ngcontent-%COMP%]{font-size:1.1rem;color:#666}.img-fluid[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:10px}.team-card[_ngcontent-%COMP%]{text-align:center;padding:15px;box-shadow:0 4px 8px #0000001a;border-radius:10px;transition:transform .3s ease-in-out;background-color:#f0f8ff;margin:5px}.team-card[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.team-photo[_ngcontent-%COMP%]{width:200px;height:250px;border-radius:10%;margin-bottom:10px}.cta-button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:10px 20px;cursor:pointer;border-radius:5px;transition:background-color .3s ease}.cta-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.animate-section[_ngcontent-%COMP%]{opacity:0;transform:translateY(20px);transition:all .6s ease}.animate-section.active[_ngcontent-%COMP%]{opacity:1;transform:translateY(0)}"]})}}return n})(),cD=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(i){return new(i||n)(O(bi),O(Xt))}}static{this.\u0275dir=q({type:n})}}return n})(),Or=(()=>{class n extends cD{static{this.\u0275fac=function(){let t;return function(r){return(t||(t=bt(n)))(r||n)}}()}static{this.\u0275dir=q({type:n,features:[Ee]})}}return n})();const ai=new V("NgValueAccessor"),AH={provide:ai,useExisting:Ie(()=>bu),multi:!0},SH=new V("CompositionEventMode");let bu=(()=>{class n extends cD{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function DH(){const n=Ji()?Ji().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(i){return new(i||n)(O(bi),O(Xt),O(SH,8))}}static{this.\u0275dir=q({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&Ne("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[Le([AH]),Ee]})}}return n})();function ir(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}const St=new V("NgValidators"),rr=new V("NgAsyncValidators");function _u(n){return null}function _D(n){return null!=n}function wD(n){return ea(n)?Je(n):n}function CD(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function ED(n,e){return e.map(t=>t(n))}function AD(n){return n.map(e=>function xH(n){return!n.validate}(e)?e:t=>e.validate(t))}function xg(n){return null!=n?function DD(n){if(!n)return null;const e=n.filter(_D);return 0==e.length?null:function(t){return CD(ED(t,e))}}(AD(n)):null}function Ig(n){return null!=n?function SD(n){if(!n)return null;const e=n.filter(_D);return 0==e.length?null:function(t){return function CH(...n){const e=hv(n),{args:t,keys:i}=tA(n),r=new We(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let d=!1;zt(t[u]).subscribe(qe(s,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(i?nA(i,a):a),s.complete())}))}});return e?r.pipe(tg(e)):r}(ED(t,e).map(wD)).pipe(Se(CD))}}(AD(n)):null}function MD(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Tg(n){return n?Array.isArray(n)?n:[n]:[]}function wu(n,e){return Array.isArray(n)?n.includes(e):n===e}function TD(n,e){const t=Tg(e);return Tg(n).forEach(r=>{wu(t,r)||t.push(r)}),t}function PD(n,e){return Tg(e).filter(t=>!wu(n,t))}class RD{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=xg(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Ig(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Bt extends RD{get formDirective(){return null}get path(){return null}}class sr extends RD{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class OD{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Pg=(()=>{class n extends OD{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||n)(O(sr,2))}}static{this.\u0275dir=q({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&na("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Ee]})}}return n})(),ND=(()=>{class n extends OD{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||n)(O(Bt,10))}}static{this.\u0275dir=q({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&na("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Ee]})}}return n})();const La="VALID",Eu="INVALID",eo="PENDING",Fa="DISABLED";function Ng(n){return(Au(n)?n.validators:n)||null}function kg(n,e){return(Au(e)?e.asyncValidators:n)||null}function Au(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Lg{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===La}get invalid(){return this.status===Eu}get pending(){return this.status==eo}get disabled(){return this.status===Fa}get enabled(){return this.status!==Fa}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(TD(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(TD(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(PD(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(PD(e,this._rawAsyncValidators))}hasValidator(e){return wu(this._rawValidators,e)}hasAsyncValidator(e){return wu(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=eo,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Fa,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=La,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===La||this.status===eo)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Fa:La}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=eo,this._hasOwnPendingAsyncValidator=!0;const t=wD(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ce,this.statusChanges=new Ce}_calculateStatus(){return this._allControlsDisabled()?Fa:this.errors?Eu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(eo)?eo:this._anyControlsHaveStatus(Eu)?Eu:La}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Au(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function RH(n){return Array.isArray(n)?xg(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function OH(n){return Array.isArray(n)?Ig(n):n||null}(this._rawAsyncValidators)}}class Fg extends Lg{constructor(e,t,i){super(Ng(t),kg(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function FD(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new P(1002,"")})})(this,0,e),Object.keys(e).forEach(i=>{(function LD(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new P(1e3,"");if(!i[t])throw new P(1001,"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const to=new V("CallSetDisabledState",{providedIn:"root",factory:()=>Du}),Du="always";function Va(n,e,t=Du){Vg(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function LH(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&VD(n,e)})}(n,e),function VH(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function FH(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&VD(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function kH(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function xu(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Vg(n,e){const t=function xD(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(MD(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=function ID(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(MD(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();xu(e._rawValidators,r),xu(e._rawAsyncValidators,r)}function VD(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const $H={provide:Bt,useExisting:Ie(()=>Tu)},ja=(()=>Promise.resolve())();let Tu=(()=>{class n extends Bt{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Ce,this.form=new Fg({},xg(t),Ig(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){ja.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),Va(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){ja.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){ja.then(()=>{const i=this._findContainer(t.path),r=new Fg({});(function jD(n,e){Vg(n,e)})(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){ja.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){ja.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function BD(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(i){return new(i||n)(O(St,10),O(rr,10),O(to,8))}}static{this.\u0275dir=q({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&Ne("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Le([$H]),Ee]})}}return n})();function HD(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function UD(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const $D=class extends Lg{constructor(e=null,t,i){super(Ng(t),kg(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Au(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=UD(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){HD(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){HD(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){UD(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},WH={provide:sr,useExisting:Ie(()=>Pu)},WD=(()=>Promise.resolve())();let Pu=(()=>{class n extends sr{constructor(t,i,r,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new $D,this._registered=!1,this.name="",this.update=new Ce,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function Hg(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===bu?t=s:function HH(n){return Object.getPrototypeOf(n.constructor)===Or}(s)?i=s:r=s}),r||i||t||null}(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function Bg(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Va(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){WD.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&Bs(i);WD.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function Su(n,e){return[...e.path,n]}(t,this._parent):[t]}static{this.\u0275fac=function(i){return new(i||n)(O(Bt,9),O(St,10),O(rr,10),O(ai,10),O(Fc,8),O(to,8))}}static{this.\u0275dir=q({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Le([WH]),Ee,an]})}}return n})(),qD=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=q({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})();const qH={provide:ai,useExisting:Ie(()=>Ug),multi:!0};let Ug=(()=>{class n extends Or{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=i=>{t(""==i?null:parseFloat(i))}}static{this.\u0275fac=function(){let t;return function(r){return(t||(t=bt(n)))(r||n)}}()}static{this.\u0275dir=q({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){1&i&&Ne("input",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},features:[Le([qH]),Ee]})}}return n})(),YD=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=kn({type:n})}static{this.\u0275inj=_n({})}}return n})();const nU={provide:ai,useExisting:Ie(()=>Ru),multi:!0};function tS(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Ru=(()=>{class n extends Or{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const r=tS(this._getOptionId(t),t);this.setProperty("value",r)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){const i=function iU(n){return n.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i):t}static{this.\u0275fac=function(){let t;return function(r){return(t||(t=bt(n)))(r||n)}}()}static{this.\u0275dir=q({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){1&i&&Ne("change",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Le([nU]),Ee]})}}return n})(),nS=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(tS(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(O(Xt),O(bi),O(Ru,9))}}static{this.\u0275dir=q({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();const rU={provide:ai,useExisting:Ie(()=>Wg),multi:!0};function iS(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Wg=(()=>{class n extends Or{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let i;if(this.value=t,Array.isArray(t)){const r=t.map(s=>this._getOptionId(s));i=(s,o)=>{s._setSelected(r.indexOf(o.toString())>-1)}}else i=(r,s)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{const r=[],s=i.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const c=this._getOptionValue(o[a].value);r.push(c)}}else{const o=i.options;for(let a=0;a<o.length;a++){const l=o[a];if(l.selected){const c=this._getOptionValue(l.value);r.push(c)}}}this.value=r,t(r)}}_registerOption(t){const i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){const i=function sU(n){return n.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}static{this.\u0275fac=function(){let t;return function(r){return(t||(t=bt(n)))(r||n)}}()}static{this.\u0275dir=q({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){1&i&&Ne("change",function(o){return r.onChange(o.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Le([rU]),Ee]})}}return n})(),rS=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(iS(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(iS(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(O(Xt),O(bi),O(Wg,9))}}static{this.\u0275dir=q({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();let Nr=(()=>{class n{constructor(){this._validator=_u}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):_u,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=q({type:n,features:[an]})}}return n})();const aU={provide:St,useExisting:Ie(()=>qg),multi:!0};let qg=(()=>{class n extends Nr{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>function oS(n){return"number"==typeof n?n:parseFloat(n)}(t),this.createValidator=t=>function hD(n){return e=>{if(ir(e.value)||ir(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(t)}static{this.\u0275fac=function(){let t;return function(r){return(t||(t=bt(n)))(r||n)}}()}static{this.\u0275dir=q({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,r){2&i&&Qt("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[Le([aU]),Ee]})}}return n})(),pU=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=kn({type:n})}static{this.\u0275inj=_n({imports:[YD]})}}return n})(),mU=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:to,useValue:t.callSetDisabledState??Du}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=kn({type:n})}static{this.\u0275inj=_n({imports:[pU]})}}return n})();const vU=function(n){return{"background-image":n}};function yU(n,e){if(1&n&&H(0,"div",9),2&n){const t=e.$implicit;na("active",e.index===Cr().activeIndex),de("ngStyle",Xf(3,vU,"url("+t.image+")"))}}let bU=(()=>{class n{constructor(){this.items=[{image:"https://i.ibb.co/qCkd9jS/img1.jpg"},{image:"https://i.ibb.co/jrRb11q/img2.jpg"},{image:"https://i.ibb.co/NSwVv8D/img3.jpg"},{image:"https://i.ibb.co/Bq4Q0M8/img4.jpg"}],this.activeIndex=0}ngOnInit(){this.autoSlide()}ngOnDestroy(){this.clearAutoSlide()}nextSlide(){this.activeIndex=(this.activeIndex+1)%this.items.length}prevSlide(){this.activeIndex=(this.activeIndex-1+this.items.length)%this.items.length}autoSlide(){this.clearAutoSlide(),this.intervalId=setInterval(()=>{this.nextSlide()},2e3)}clearAutoSlide(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}onMouseEnter(){this.clearAutoSlide()}onMouseLeave(){this.autoSlide()}onTouchStart(){this.clearAutoSlide()}onTouchEnd(){this.autoSlide()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=sn({type:n,selectors:[["app-slider"]],decls:12,vars:1,consts:[[2,"text-align","center"],[1,"container",3,"mouseenter","mouseleave","touchstart","touchend"],[1,"slide"],["class","item",3,"ngStyle","active",4,"ngFor","ngForOf"],[1,"button"],[1,"prev",3,"click"],[1,"fa-solid","fa-arrow-left"],[1,"next",3,"click"],[1,"fa-solid","fa-arrow-right"],[1,"item",3,"ngStyle"]],template:function(i,r){1&i&&(C(0,"h2",0)(1,"u")(2,"b"),M(3,"Gellary"),A()()(),C(4,"div",1),Ne("mouseenter",function(){return r.onMouseEnter()})("mouseleave",function(){return r.onMouseLeave()})("touchstart",function(){return r.onTouchStart()})("touchend",function(){return r.onTouchEnd()}),C(5,"div",2),Vn(6,yU,1,5,"div",3),A(),C(7,"div",4)(8,"button",5),Ne("click",function(){return r.prevSlide()}),H(9,"i",6),A(),C(10,"button",7),Ne("click",function(){return r.nextSlide()}),H(11,"i",8),A()()()),2&i&&(j(6),de("ngForOf",r.items))},dependencies:[xr,TE],styles:[".container[_ngcontent-%COMP%]{position:relative;width:100%;height:600px;display:flex;justify-content:center;align-items:center;background:#f5f5f5;overflow:hidden;box-shadow:0 30px 50px #dbdbdb}.slide[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:relative;width:100%;height:100%;transform:translate(0);transition:transform .5s ease-in-out}.item[_ngcontent-%COMP%]{width:400px;height:450px;border-radius:20px;background-position:center;background-size:cover;transition:transform .5s ease-in-out,opacity .5s ease-in-out;position:relative;margin:0 20px;opacity:.5;transform:scale(.8)}.item.active[_ngcontent-%COMP%]{opacity:1;transform:scale(1.2);z-index:2}.button[_ngcontent-%COMP%]{position:absolute;bottom:20px;display:flex;justify-content:center;width:100%}.button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fff;border:none;cursor:pointer;padding:10px;border-radius:50%;margin:0 10px;transition:background-color .3s;box-shadow:0 2px 5px #0000004d}.button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}@media (max-width: 768px){.container[_ngcontent-%COMP%]{height:300px}.item[_ngcontent-%COMP%]{width:90%;height:200px;margin:0 auto}.button[_ngcontent-%COMP%]{bottom:10px}.button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px}}@media (max-width: 480px){.item[_ngcontent-%COMP%]{height:150px}}"]})}}return n})();function _U(n,e){if(1&n&&(C(0,"div",44)(1,"div",45),H(2,"img",46),C(3,"div",47)(4,"h5",48),M(5),A(),C(6,"p",49),M(7),A()(),C(8,"div",50)(9,"small",51),M(10),A()()()()),2&n){const t=e.$implicit;j(2),de("src",t.image,En)("alt",t.title),j(3),ft(t.title),j(2),ft(t.description),j(3),ft(t.date)}}let wU=(()=>{class n{constructor(){this.events=[{title:"Happy Dashain from SRNSS",description:"Wishing our entire Lincoln community and all families across Nepal a joyous and prosperous Dashain...",image:"https://www.adventurehimalayacircuit.com/blog/wp-content/uploads/2019/10/Dashain-Festival.jpg",date:"04 October, 2024"},{title:"Happy Dashain from SRNSS",description:"Wishing our entire Lincoln community and all families across Nepal a joyous and prosperous Dashain...",image:"https://www.adventurehimalayacircuit.com/blog/wp-content/uploads/2019/10/Dashain-Festival.jpg",date:"04 October, 2024"},{title:"Happy Dashain from SRNSS",description:"Wishing our entire Lincoln community and all families across Nepal a joyous and prosperous Dashain...",image:"https://www.adventurehimalayacircuit.com/blog/wp-content/uploads/2019/10/Dashain-Festival.jpg",date:"04 October, 2024"},{title:"Happy Dashain from SRNSS",description:"Wishing our entire Lincoln community and all families across Nepal a joyous and prosperous Dashain...",image:"https://www.adventurehimalayacircuit.com/blog/wp-content/uploads/2019/10/Dashain-Festival.jpg",date:"04 October, 2024"}],this.studentsCount=0,this.teachersCount=0,this.excellenceCount=0,this.programsCount=0,this.targetCounts={students:1250,teachers:42,excellence:76,programs:4}}ngOnInit(){this.startCountUp("studentsCount",this.targetCounts.students),this.startCountUp("teachersCount",this.targetCounts.teachers),this.startCountUp("excellenceCount",this.targetCounts.excellence),this.startCountUp("programsCount",this.targetCounts.programs)}startCountUp(t,i){let r=0;const s=i/100,o=()=>{r<i?(r+=s,this[t]=Math.ceil(r),setTimeout(o,20)):this[t]=i};o()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=sn({type:n,selectors:[["app-home"]],decls:102,vars:9,consts:[[1,"sec-discription"],[1,"content"],[2,"font-size","larger"],[2,"text-align","center"],[1,"lportal-btn"],[1,"image-container"],["src","assets/school.jpg","alt","school pic"],[1,"latest-notice"],[1,"notice-card"],[1,"notice",2,"background-color","rgb(211, 21, 21)"],[1,"notice"],["href",""],[1,"principal-message"],[1,"container"],[1,"message-card"],[1,"principal-image"],["src","assets/headsir.jpg","alt","Principal's Photo"],[1,"message-content"],[1,"section-title"],[1,"message-text"],[1,"principal-name"],[1,"container","my-5"],[1,"text-center","text-danger","mb-4"],[1,"row"],["class","col-lg-3 col-md-6 col-sm-12 card-out",4,"ngFor","ngForOf"],[1,"stats-section"],[1,"col-md-3","col-sm-6","stat-box"],[1,"stat-icon"],[1,"fas","fa-user-graduate"],[1,"stat-content"],[1,"count"],[1,"fas","fa-school"],[1,"fas","fa-award"],[1,"fas","fa-book-reader"],[1,"contact-container"],[1,"contact-image"],["src","assets/images/contactus.jpg","alt","Contact"],[1,"contact-form"],["href","mailto:srnss2005@gmail.com"],["action","#","method","post"],["type","text","name","name","placeholder","Your Name","required",""],["type","email","name","email","placeholder","Your Email","required",""],["name","message","placeholder","Your Message","rows","4","required",""],["type","submit"],[1,"col-lg-3","col-md-6","col-sm-12","card-out"],[1,"card","shadow-sm","h-100"],[1,"card-img-top",3,"src","alt"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"card-footer","bg-white"],[1,"text-muted"]],template:function(i,r){1&i&&(H(0,"app-app-header"),C(1,"section",0)(2,"div",1)(3,"h2")(4,"i")(5,"b",2),M(6,'"Welcome to Shree Rajeshwar Nidhi Secondary School." '),A(),M(7,'We are dedicated to nurturing educational excellence, creativity, and moral values, empowering students to excel in knowledge, discipline, and leadership skills. Education here is the path to a bright future. Together, we cultivate a supportive environment that inspires students to reach their full potential."'),A()(),C(8,"div",3)(9,"button",4),M(10,"Our Learning Portal"),A()()(),C(11,"div",5),H(12,"img",6),A()(),C(13,"section",7)(14,"div",8)(15,"h4",9),M(16,"Latest Notice"),A(),C(17,"p",10)(18,"a",11),M(19,"\u0915\u0915\u094d\u0937\u093e \u0967\u0967 \u0915\u094b Ragistration Form \u0938\u0902\u092c\u0928\u094d\u0927\u093f \u0938\u0941\u091a\u0928\u093e\u0964"),A()()()(),C(20,"section",12)(21,"div",13)(22,"div",14)(23,"div",15),H(24,"img",16),A(),C(25,"div",17)(26,"h2",18),M(27,"Principal's Message"),A(),C(28,"p",19),M(29," Welcome to Shree Rajeshwar Nidhi Secondary School. Our school is dedicated to nurturing young minds, fostering growth, and ensuring the holistic development of every student. Through innovation and tradition, we aim to provide a platform where students can thrive academically, socially, and morally. "),A(),C(30,"blockquote"),M(31,' "Education is the most powerful weapon you can use to change the world." \u2013 Nelson Mandela '),A(),C(32,"p",20),M(33,"\u2013 Premendra Kumar Nidhi, Principal"),A()()()()(),H(34,"section"),C(35,"div",21)(36,"h2",22),M(37,"Latest News & Events"),A(),C(38,"div",23),Vn(39,_U,11,5,"div",24),A()(),C(40,"div",25)(41,"div",13)(42,"div",23)(43,"div",26)(44,"div",27),H(45,"i",28),A(),C(46,"div",29)(47,"h2",30),M(48),C(49,"b"),M(50,"+"),A()(),C(51,"p"),M(52,"Students"),A()()(),C(53,"div",26)(54,"div",27),H(55,"i",31),A(),C(56,"div",29)(57,"h2",30),M(58),C(59,"b"),M(60,"+"),A()(),C(61,"p"),M(62,"Teachers"),A()()(),C(63,"div",26)(64,"div",27),H(65,"i",32),A(),C(66,"div",29)(67,"h2",30),M(68),C(69,"b"),M(70,"+"),A()(),C(71,"p"),M(72,"Years of Excellence"),A()()(),C(73,"div",26)(74,"div",27),H(75,"i",33),A(),C(76,"div",29)(77,"h2",30),M(78),C(79,"b"),M(80,"+"),A()(),C(81,"p"),M(82,"Programs"),A()()()()()(),H(83,"app-slider"),C(84,"section")(85,"div",34)(86,"div",35),H(87,"img",36),A(),C(88,"div",37)(89,"h2"),M(90,"Contact"),A(),C(91,"p"),M(92,"Feel free to reach out to Us at "),C(93,"a",38),M(94,"srnss2005@gmail.com"),A()(),C(95,"form",39),H(96,"input",40)(97,"input",41)(98,"textarea",42),C(99,"button",43),M(100,"Send Message"),A()()()()(),H(101,"app-app-footer")),2&i&&(j(39),de("ngForOf",r.events),j(8),Qt("data-target",759),j(1),ft(r.studentsCount),j(9),Qt("data-target",60),j(1),ft(r.teachersCount),j(9),Qt("data-target",6),j(1),ft(r.excellenceCount),j(9),Qt("data-target",8),j(1),ft(r.programsCount))},dependencies:[xr,qD,ND,Tu,Zs,Js,bU],styles:[".sec-discription[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:25px;background-color:#fff;background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100%25'%3E%3Cdefs%3E%3ClinearGradient id='a' gradientUnits='userSpaceOnUse' x1='0' x2='0' y1='0' y2='100%25' gradientTransform='rotate(109,683,322)'%3E%3Cstop offset='0' stop-color='%23ffffff'/%3E%3Cstop offset='1' stop-color='%239CEDFF'/%3E%3C/linearGradient%3E%3Cpattern patternUnits='userSpaceOnUse' id='b' width='407' height='339.2' x='0' y='0' viewBox='0 0 1080 900'%3E%3Cg fill-opacity='0.08'%3E%3Cpolygon fill='%23444' points='90 150 0 300 180 300'/%3E%3Cpolygon points='90 150 180 0 0 0'/%3E%3Cpolygon fill='%23AAA' points='270 150 360 0 180 0'/%3E%3Cpolygon fill='%23DDD' points='450 150 360 300 540 300'/%3E%3Cpolygon fill='%23999' points='450 150 540 0 360 0'/%3E%3Cpolygon points='630 150 540 300 720 300'/%3E%3Cpolygon fill='%23DDD' points='630 150 720 0 540 0'/%3E%3Cpolygon fill='%23444' points='810 150 720 300 900 300'/%3E%3Cpolygon fill='%23FFF' points='810 150 900 0 720 0'/%3E%3Cpolygon fill='%23DDD' points='990 150 900 300 1080 300'/%3E%3Cpolygon fill='%23444' points='990 150 1080 0 900 0'/%3E%3Cpolygon fill='%23DDD' points='90 450 0 600 180 600'/%3E%3Cpolygon points='90 450 180 300 0 300'/%3E%3Cpolygon fill='%23666' points='270 450 180 600 360 600'/%3E%3Cpolygon fill='%23AAA' points='270 450 360 300 180 300'/%3E%3Cpolygon fill='%23DDD' points='450 450 360 600 540 600'/%3E%3Cpolygon fill='%23999' points='450 450 540 300 360 300'/%3E%3Cpolygon fill='%23999' points='630 450 540 600 720 600'/%3E%3Cpolygon fill='%23FFF' points='630 450 720 300 540 300'/%3E%3Cpolygon points='810 450 720 600 900 600'/%3E%3Cpolygon fill='%23DDD' points='810 450 900 300 720 300'/%3E%3Cpolygon fill='%23AAA' points='990 450 900 600 1080 600'/%3E%3Cpolygon fill='%23444' points='990 450 1080 300 900 300'/%3E%3Cpolygon fill='%23222' points='90 750 0 900 180 900'/%3E%3Cpolygon points='270 750 180 900 360 900'/%3E%3Cpolygon fill='%23DDD' points='270 750 360 600 180 600'/%3E%3Cpolygon points='450 750 540 600 360 600'/%3E%3Cpolygon points='630 750 540 900 720 900'/%3E%3Cpolygon fill='%23444' points='630 750 720 600 540 600'/%3E%3Cpolygon fill='%23AAA' points='810 750 720 900 900 900'/%3E%3Cpolygon fill='%23666' points='810 750 900 600 720 600'/%3E%3Cpolygon fill='%23999' points='990 750 900 900 1080 900'/%3E%3Cpolygon fill='%23999' points='180 0 90 150 270 150'/%3E%3Cpolygon fill='%23444' points='360 0 270 150 450 150'/%3E%3Cpolygon fill='%23FFF' points='540 0 450 150 630 150'/%3E%3Cpolygon points='900 0 810 150 990 150'/%3E%3Cpolygon fill='%23222' points='0 300 -90 450 90 450'/%3E%3Cpolygon fill='%23FFF' points='0 300 90 150 -90 150'/%3E%3Cpolygon fill='%23FFF' points='180 300 90 450 270 450'/%3E%3Cpolygon fill='%23666' points='180 300 270 150 90 150'/%3E%3Cpolygon fill='%23222' points='360 300 270 450 450 450'/%3E%3Cpolygon fill='%23FFF' points='360 300 450 150 270 150'/%3E%3Cpolygon fill='%23444' points='540 300 450 450 630 450'/%3E%3Cpolygon fill='%23222' points='540 300 630 150 450 150'/%3E%3Cpolygon fill='%23AAA' points='720 300 630 450 810 450'/%3E%3Cpolygon fill='%23666' points='720 300 810 150 630 150'/%3E%3Cpolygon fill='%23FFF' points='900 300 810 450 990 450'/%3E%3Cpolygon fill='%23999' points='900 300 990 150 810 150'/%3E%3Cpolygon points='0 600 -90 750 90 750'/%3E%3Cpolygon fill='%23666' points='0 600 90 450 -90 450'/%3E%3Cpolygon fill='%23AAA' points='180 600 90 750 270 750'/%3E%3Cpolygon fill='%23444' points='180 600 270 450 90 450'/%3E%3Cpolygon fill='%23444' points='360 600 270 750 450 750'/%3E%3Cpolygon fill='%23999' points='360 600 450 450 270 450'/%3E%3Cpolygon fill='%23666' points='540 600 630 450 450 450'/%3E%3Cpolygon fill='%23222' points='720 600 630 750 810 750'/%3E%3Cpolygon fill='%23FFF' points='900 600 810 750 990 750'/%3E%3Cpolygon fill='%23222' points='900 600 990 450 810 450'/%3E%3Cpolygon fill='%23DDD' points='0 900 90 750 -90 750'/%3E%3Cpolygon fill='%23444' points='180 900 270 750 90 750'/%3E%3Cpolygon fill='%23FFF' points='360 900 450 750 270 750'/%3E%3Cpolygon fill='%23AAA' points='540 900 630 750 450 750'/%3E%3Cpolygon fill='%23FFF' points='720 900 810 750 630 750'/%3E%3Cpolygon fill='%23222' points='900 900 990 750 810 750'/%3E%3Cpolygon fill='%23222' points='1080 300 990 450 1170 450'/%3E%3Cpolygon fill='%23FFF' points='1080 300 1170 150 990 150'/%3E%3Cpolygon points='1080 600 990 750 1170 750'/%3E%3Cpolygon fill='%23666' points='1080 600 1170 450 990 450'/%3E%3Cpolygon fill='%23DDD' points='1080 900 1170 750 990 750'/%3E%3C/g%3E%3C/pattern%3E%3C/defs%3E%3Crect x='0' y='0' fill='url(%23a)' width='100%25' height='100%25'/%3E%3Crect x='0' y='0' fill='url(%23b)' width='100%25' height='100%25'/%3E%3C/svg%3E\");background-attachment:fixed;background-size:cover}.sec-discription[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{max-width:47%;line-height:30px;font-family:sans-serif}.sec-discription[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:25px;color:#333;margin-bottom:10px;padding-right:15px;text-align:justify}.sec-discription[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;border-radius:15px;height:400px;margin-left:3%}.lportal-btn[_ngcontent-%COMP%]{background-color:#0f344d;color:#fff;border:none;padding:12px 25px;font-size:16px;border-radius:5px;cursor:pointer;transition:background-color .3s ease,transform .3s ease;text-transform:uppercase;letter-spacing:1px;text-align:center;margin-top:10px}.lportal-btn[_ngcontent-%COMP%]:hover{background-color:#3f0eb1;transform:scale(1.05)}.lportal-btn[_ngcontent-%COMP%]:active{background-color:#1805c7;transform:scale(1)}.lportal-btn[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 10px #0000004d}@media (max-width: 768px){.sec-discription[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.sec-discription[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%], .tsec-discription[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{max-width:100%}.sec-discription[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px}.sec-discription[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;border-radius:15px;height:250px;margin-left:0%}.lportal-btn[_ngcontent-%COMP%]{padding:10px 15px;font-size:14px;margin-bottom:20px}}.principal-message[_ngcontent-%COMP%]{padding:60px 0;background-color:#f4f4f4}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 20px}.message-card[_ngcontent-%COMP%]{display:flex;background-color:#fff;border-radius:10px;box-shadow:0 4px 15px #0000001a;overflow:hidden;transition:transform .3s ease}.message-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.principal-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:300px;height:auto;object-fit:cover;border-top-left-radius:10px;border-bottom-left-radius:10px}.message-content[_ngcontent-%COMP%]{padding:30px;display:flex;flex-direction:column;justify-content:center}.section-title[_ngcontent-%COMP%]{font-size:28px;margin-bottom:15px;color:#2c3e50;font-weight:600}.message-text[_ngcontent-%COMP%]{font-size:16px;line-height:1.7;color:#34495e;margin-bottom:20px}blockquote[_ngcontent-%COMP%]{font-style:italic;font-size:18px;color:#7f8c8d;margin-bottom:20px;border-left:5px solid #f1c40f;padding-left:15px}.principal-name[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:#2c3e50}@media (max-width: 768px){.message-card[_ngcontent-%COMP%]{flex-direction:column}.principal-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:10px 10px 0 0}.message-content[_ngcontent-%COMP%]{padding:20px}.section-title[_ngcontent-%COMP%]{font-size:24px}.message-text[_ngcontent-%COMP%], .principal-name[_ngcontent-%COMP%]{font-size:15px}}.card[_ngcontent-%COMP%]{border:none;border-radius:10px;overflow:hidden}.card-img-top[_ngcontent-%COMP%]{height:200px;object-fit:cover;border-bottom:1px solid #ddd}.card-title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700}.card-text[_ngcontent-%COMP%]{font-size:.9rem;color:#555}.card-footer[_ngcontent-%COMP%]{text-align:right;font-size:.85rem}@media (max-width: 768px){.card-out[_ngcontent-%COMP%]{margin-bottom:20px}}.stats-section[_ngcontent-%COMP%]{background-color:#fff;background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1600 900'%3E%3Cdefs%3E%3ClinearGradient id='a' x1='0' x2='0' y1='1' y2='0'%3E%3Cstop offset='0' stop-color='%230FF'/%3E%3Cstop offset='1' stop-color='%23CF6'/%3E%3C/linearGradient%3E%3ClinearGradient id='b' x1='0' x2='0' y1='0' y2='1'%3E%3Cstop offset='0' stop-color='%23F00'/%3E%3Cstop offset='1' stop-color='%23FC0'/%3E%3C/linearGradient%3E%3C/defs%3E%3Cg fill='%23FFF' fill-opacity='0' stroke-miterlimit='10'%3E%3Cg stroke='url(%23a)' stroke-width='2'%3E%3Cpath transform='translate(0 0)' d='M1409 581 1450.35 511 1490 581z'/%3E%3Ccircle stroke-width='4' transform='rotate(0 800 450)' cx='500' cy='100' r='40'/%3E%3Cpath transform='translate(0 0)' d='M400.86 735.5h-83.73c0-23.12 18.74-41.87 41.87-41.87S400.86 712.38 400.86 735.5z'/%3E%3C/g%3E%3Cg stroke='url(%23b)' stroke-width='4'%3E%3Cpath transform='translate(0 0)' d='M149.8 345.2 118.4 389.8 149.8 434.4 181.2 389.8z'/%3E%3Crect stroke-width='8' transform='rotate(0 1089 759)' x='1039' y='709' width='100' height='100'/%3E%3Cpath transform='rotate(0 1400 132)' d='M1426.8 132.4 1405.7 168.8 1363.7 168.8 1342.7 132.4 1363.7 96 1405.7 96z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");background-attachment:fixed;background-size:cover;padding:50px 0}.stat-box[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.stat-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:50px;color:#fff;background-color:#0e0534;border-radius:50%;padding:20px}.stat-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:40px;margin:20px 0 10px;color:#1b0303}.stat-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px;color:#095283}.stat-box[_ngcontent-%COMP%]:before{content:\"\";display:block;height:2px;width:50%;margin:0 auto 20px;background-color:#9e9393}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}@media (max-width: 768px){.stat-box[_ngcontent-%COMP%]{margin-bottom:50px}}.notice-card[_ngcontent-%COMP%]{display:flex}.notice[_ngcontent-%COMP%]{width:max-content;padding:2px 8px;margin:10px;border-radius:5px}.contact-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:20px;background-color:#fff;margin:50px auto;width:85%;border-radius:10px;box-shadow:0 0 20px #0000001a}.contact-image[_ngcontent-%COMP%]{flex:1}.contact-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:10px}.contact-form[_ngcontent-%COMP%]{flex:1;padding:20px}.contact-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#e91e63;margin-bottom:10px}.contact-form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;margin-bottom:20px}.contact-form[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#1e10e2;text-decoration:none}.contact-form[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.contact-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .contact-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;margin-bottom:15px;border:1px solid #ddd;border-radius:5px}.contact-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#e91e63;color:#fff;padding:10px 20px;border:none;border-radius:5px;cursor:pointer;font-size:16px}.contact-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#b43564}@media (max-width: 768px){.contact-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:none}.contact-form[_ngcontent-%COMP%]{flex:1000;padding:20px}}"]})}}return n})();function CU(n,e){if(1&n&&(C(0,"div",9)(1,"p"),M(2),A()()),2&n){const t=Cr().$implicit;j(2),ft(t.extraInfo)}}function EU(n,e){if(1&n){const t=Nf();C(0,"div",4),H(1,"img",5),C(2,"div",6)(3,"h2"),M(4),A(),C(5,"p"),M(6),A(),C(7,"button",7),Ne("click",function(){const s=th(t).$implicit;return nh(Cr().toggleDetails(s))}),M(8,"More Details"),A(),Vn(9,CU,3,1,"div",8),A()()}if(2&n){const t=e.$implicit;j(1),de("src",t.image,En)("alt",t.name),j(3),ft(t.name),j(2),ft(t.description),j(3),de("ngIf",t.showDetails)}}let AU=(()=>{class n{constructor(){this.faculties=[{name:"Computer Engineering (Grade 9-12)",description:"Provides advanced courses in programming, networking, and hardware.",extraInfo:"Courses offered include AI, Cybersecurity, and more. Labs are equipped with the latest technology.",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcScYBtJdUlD5rAXBJwDfbxonjNqqHbLXwc1mw&s",showDetails:!1},{name:"Science",description:"Offers subjects such as physics, chemistry, biology, and mathematics.",extraInfo:"Our labs are fully equipped, and students participate in national-level science fairs.",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcScYBtJdUlD5rAXBJwDfbxonjNqqHbLXwc1mw&s",showDetails:!1},{name:"Commerce",description:"Focuses on economics, business management, and accounting.",extraInfo:"Students are involved in real-world business case studies and market analysis.",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcScYBtJdUlD5rAXBJwDfbxonjNqqHbLXwc1mw&s",showDetails:!1},{name:"Education",description:"Offers teacher training programs and educational psychology courses.",extraInfo:"Our education program prepares students for leadership roles in schools.",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcScYBtJdUlD5rAXBJwDfbxonjNqqHbLXwc1mw&s",showDetails:!1}]}toggleDetails(t){t.showDetails=!t.showDetails}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=sn({type:n,selectors:[["app-faculties"]],decls:8,vars:1,consts:[[1,"faculties-container"],[1,"page-title"],[1,"page-description"],["class","faculty-card",4,"ngFor","ngForOf"],[1,"faculty-card"],[1,"faculty-image",3,"src","alt"],[1,"faculty-details"],[1,"details-btn",3,"click"],["class","extra-details",4,"ngIf"],[1,"extra-details"]],template:function(i,r){1&i&&(H(0,"app-app-header"),C(1,"div",0)(2,"h1",1),M(3,"Explore Our Faculties"),A(),C(4,"p",2),M(5,"Discover the programs and opportunities in our faculties."),A(),Vn(6,EU,10,5,"div",3),A(),H(7,"app-app-footer")),2&i&&(j(6),de("ngForOf",r.faculties))},dependencies:[xr,Bp,Zs,Js],styles:[".faculties-container[_ngcontent-%COMP%]{text-align:center;padding:20px;margin:30px}.page-title[_ngcontent-%COMP%]{font-size:36px;margin-bottom:10px;color:#333}.page-description[_ngcontent-%COMP%]{font-size:18px;margin-bottom:40px;color:#555}.faculty-card[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:left;margin:20px 0;padding:20px;border:1px solid #ddd;border-radius:10px;transition:transform .3s ease}.faculty-card[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.faculty-image[_ngcontent-%COMP%]{width:450px;height:300px;border-radius:10px;margin-right:20px}.faculty-details[_ngcontent-%COMP%]{text-align:left}.faculty-details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;margin:10px 0}.faculty-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;margin:5px 0}.details-btn[_ngcontent-%COMP%]{margin-top:10px;padding:10px 15px;background-color:#4caf50;color:#fff;border:none;border-radius:5px;cursor:pointer}.details-btn[_ngcontent-%COMP%]:hover{background-color:#45a049}.extra-details[_ngcontent-%COMP%]{margin-top:15px;font-size:14px;color:#666;animation:_ngcontent-%COMP%_fadeIn .5s ease}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@media (max-width: 1024px){.faculty-card[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.faculty-image[_ngcontent-%COMP%]{margin-right:0;margin-bottom:20px;width:80%;height:auto}.faculty-details[_ngcontent-%COMP%]{text-align:center}.faculty-details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px}.faculty-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.details-btn[_ngcontent-%COMP%]{font-size:14px;padding:8px 12px}}@media (max-width: 768px){.faculties-container[_ngcontent-%COMP%]{text-align:center;padding:20px;margin:5px}.page-title[_ngcontent-%COMP%]{font-size:28px}.page-description[_ngcontent-%COMP%]{font-size:16px}.faculty-image[_ngcontent-%COMP%]{width:100%;height:170px}.faculty-details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px}.faculty-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}.details-btn[_ngcontent-%COMP%]{font-size:12px;padding:6px 10px}}"]})}}return n})();const DU=["addListener","removeListener"],SU=["addEventListener","removeEventListener"],MU=["on","off"];function $e(n,e,t,i){if(pe(t)&&(i=t,t=void 0),i)return $e(n,e,t).pipe(tg(i));const[r,s]=function TU(n){return pe(n.addEventListener)&&pe(n.removeEventListener)}(n)?SU.map(o=>a=>n[o](e,a,t)):function xU(n){return pe(n.addListener)&&pe(n.removeListener)}(n)?DU.map(fS(n,e)):function IU(n){return pe(n.on)&&pe(n.off)}(n)?MU.map(fS(n,e)):[];if(!r&&Md(n))return ht(o=>$e(o,e,t))(zt(n));if(!r)throw new TypeError("Invalid event target");return new We(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return r(a),()=>s(a)})}function fS(n,e){return t=>i=>n[t](e,i)}class PU extends $t{constructor(e,t){super()}schedule(e,t=0){return this}}const Ou={setInterval(n,e,...t){const{delegate:i}=Ou;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Ou;return(e?.clearInterval||clearInterval)(n)},delegate:void 0},pS={now:()=>(pS.delegate||Date).now(),delegate:void 0};class Ba{constructor(e,t=Ba.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}Ba.now=pS.now;const NU=new class OU extends Ba{constructor(e,t=Ba.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}(class RU extends PU{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,i=0){return Ou.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&Ou.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,cl(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}});function gS(n,e,t,i,r,s,o){try{var a=n[s](o),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(i,r)}function N(n){return function(){var e=this,t=arguments;return new Promise(function(i,r){var s=n.apply(e,t);function o(l){gS(s,i,r,o,a,"next",l)}function a(l){gS(s,i,r,o,a,"throw",l)}o(void 0)})}}var Ha={d:(n,e)=>{for(var t in e)Ha.o(e,t)&&!Ha.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})},o:(n,e)=>Object.prototype.hasOwnProperty.call(n,e)},ee=globalThis.pdfjsLib={};Ha.d(ee,{AbortException:()=>Lr,AnnotationEditorLayer:()=>Fz,AnnotationEditorParamsType:()=>Z,AnnotationEditorType:()=>le,AnnotationEditorUIManager:()=>Ya,AnnotationLayer:()=>kz,AnnotationMode:()=>or,CMapCompressionType:()=>Xg,ColorPicker:()=>ci,DOMSVGFactory:()=>im,DrawLayer:()=>It,FeatureTest:()=>en,GlobalWorkerOptions:()=>Xa,ImageKind:()=>ku,InvalidPDFException:()=>vS,MissingPDFException:()=>kr,OPS:()=>Gn,PDFDataRangeTransport:()=>tM,PDFDateString:()=>IS,PDFWorker:()=>pt,PasswordResponses:()=>jU,PermissionFlag:()=>VU,PixelsPerInch:()=>no,RenderingCancelledException:()=>rm,TextLayer:()=>gn,UnexpectedResponseException:()=>ju,Util:()=>B,VerbosityLevel:()=>Lu,XfaLayer:()=>sM,build:()=>gz,createValidAbsoluteUrl:()=>$U,fetchData:()=>Bu,getDocument:()=>oz,getFilenameFromUrl:()=>t$,getPdfFilenameFromUrl:()=>n$,getXfaPageViewport:()=>i$,isDataScheme:()=>Hu,isPdfFile:()=>sm,noContextMenu:()=>Pn,normalizeUnicode:()=>XU,setLayerDimensions:()=>Fr,shadow:()=>he,version:()=>pz});const Mt=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type),mS=[1,0,0,1,0,0],Kg=[.001,0,0,.001,0,0],or={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},le={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Z={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},VU={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},ku={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Lu={ERRORS:0,WARNINGS:1,INFOS:5},Xg={NONE:0,BINARY:1},Gn={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},jU={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Fu=Lu.WARNINGS;function HU(){return Fu}function Vu(n){Fu>=Lu.INFOS&&console.log(`Info: ${n}`)}function se(n){Fu>=Lu.WARNINGS&&console.log(`Warning: ${n}`)}function tt(n){throw new Error(n)}function ct(n,e){n||tt(e)}function $U(n,e=null,t=null){if(!n)return null;try{if(t&&"string"==typeof n&&(t.addDefaultProtocol&&n.startsWith("www.")&&n.match(/\./g)?.length>=2&&(n=`http://${n}`),t.tryConvertEncoding))try{n=function KU(n){return decodeURIComponent(escape(n))}(n)}catch{}const i=e?new URL(n,e):new URL(n);if(function UU(n){switch(n?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(i))return i}catch{}return null}function he(n,e,t,i=!1){return Object.defineProperty(n,e,{value:t,enumerable:!i,configurable:!0,writable:!1}),t}const ar=function(){function e(t,i){this.message=t,this.name=i}return e.prototype=new Error,e.constructor=e,e}();class Qg extends ar{constructor(e,t){super(e,"PasswordException"),this.code=t}}class Zg extends ar{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class vS extends ar{constructor(e){super(e,"InvalidPDFException")}}class kr extends ar{constructor(e){super(e,"MissingPDFException")}}class ju extends ar{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class zU extends ar{constructor(e){super(e,"FormatError")}}class Lr extends ar{constructor(e){super(e,"AbortException")}}function yS(n){("object"!=typeof n||void 0===n?.length)&&tt("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const i=[];for(let r=0;r<e;r+=t){const s=Math.min(r+t,e),o=n.subarray(r,s);i.push(String.fromCharCode.apply(null,o))}return i.join("")}function $a(n){"string"!=typeof n&&tt("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let i=0;i<e;++i)t[i]=255&n.charCodeAt(i);return t}function Jg(n){const e=Object.create(null);for(const[t,i]of n)e[t]=i;return e}class en{static get isLittleEndian(){return he(this,"isLittleEndian",function WU(){const n=new Uint8Array(4);return n[0]=1,1===new Uint32Array(n.buffer,0,1)[0]}())}static get isEvalSupported(){return he(this,"isEvalSupported",function qU(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return he(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&"string"==typeof navigator?.platform?he(this,"platform",{isMac:navigator.platform.includes("Mac")}):he(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){return he(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const em=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));class B{static makeHexColor(e,t,i){return`#${em[e]}${em[t]}${em[i]}`}static scaleMinMax(e,t){let i;e[0]?(e[0]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[3],t[3]*=e[3]):(i=t[0],t[0]=t[1],t[1]=i,i=t[2],t[2]=t[3],t[3]=i,e[1]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){return[e[0]*t[0]+e[1]*t[2]+t[4],e[0]*t[1]+e[1]*t[3]+t[5]]}static applyInverseTransform(e,t){const i=t[0]*t[3]-t[1]*t[2];return[(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/i,(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/i]}static getAxialAlignedBoundingBox(e,t){const i=this.applyTransform(e,t),r=this.applyTransform(e.slice(2,4),t),s=this.applyTransform([e[0],e[3]],t),o=this.applyTransform([e[2],e[1]],t);return[Math.min(i[0],r[0],s[0],o[0]),Math.min(i[1],r[1],s[1],o[1]),Math.max(i[0],r[0],s[0],o[0]),Math.max(i[1],r[1],s[1],o[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],i=e[0]*t[0]+e[1]*t[2],o=e[2]*t[1]+e[3]*t[3],a=(i+o)/2,l=Math.sqrt((i+o)**2-4*(i*o-(e[2]*t[0]+e[3]*t[2])*(e[0]*t[1]+e[1]*t[3])))/2,u=a-l||1;return[Math.sqrt(a+l||1),Math.sqrt(u)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const i=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(i>r)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>o?null:[i,s,r,o]}static#e(e,t,i,r,s,o,a,l,c,u){if(c<=0||c>=1)return;const d=1-c,h=c*c,f=h*c,p=d*(d*(d*e+3*c*t)+3*h*i)+f*r,g=d*(d*(d*s+3*c*o)+3*h*a)+f*l;u[0]=Math.min(u[0],p),u[1]=Math.min(u[1],g),u[2]=Math.max(u[2],p),u[3]=Math.max(u[3],g)}static#t(e,t,i,r,s,o,a,l,c,u,d,h){if(Math.abs(c)<1e-12)return void(Math.abs(u)>=1e-12&&this.#e(e,t,i,r,s,o,a,l,-d/u,h));const f=u**2-4*d*c;if(f<0)return;const p=Math.sqrt(f),g=2*c;this.#e(e,t,i,r,s,o,a,l,(-u+p)/g,h),this.#e(e,t,i,r,s,o,a,l,(-u-p)/g,h)}static bezierBoundingBox(e,t,i,r,s,o,a,l,c){return c?(c[0]=Math.min(c[0],e,a),c[1]=Math.min(c[1],t,l),c[2]=Math.max(c[2],e,a),c[3]=Math.max(c[3],t,l)):c=[Math.min(e,a),Math.min(t,l),Math.max(e,a),Math.max(t,l)],this.#t(e,i,s,a,t,r,o,l,3*(3*(i-s)-e+a),6*(e-2*i+s),3*(i-e),c),this.#t(e,i,s,a,t,r,o,l,3*(3*(r-o)-t+l),6*(t-2*r+o),3*(r-t),c),c}}let tm=null,bS=null;function XU(n){return tm||(tm=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,bS=new Map([["\ufb05","\u017ft"]])),n.replaceAll(tm,(e,t,i)=>t?t.normalize("NFKC"):bS.get(i))}const _S="pdfjs_internal_id_";class wS{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,i,r,s){return"none"}destroy(e=!1){}}class CS{#e=!1;constructor({enableHWA:e=!1}={}){this.#e=e}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(e,t);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!this.#e})}}reset(e,t,i){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||i<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=i}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){tt("Abstract method `_createCanvas` called.")}}class ES{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}fetch({name:e}){var t=this;return N(function*(){if(!t.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const i=t.baseUrl+e+(t.isCompressed?".bcmap":"");return t._fetchData(i,t.isCompressed?Xg.BINARY:Xg.NONE).catch(s=>{throw new Error(`Unable to load ${t.isCompressed?"binary ":""}CMap at: ${i}`)})})()}_fetchData(e,t){tt("Abstract method `_fetchData` called.")}}class AS{constructor({baseUrl:e=null}){this.baseUrl=e}fetch({filename:e}){var t=this;return N(function*(){if(!t.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const i=`${t.baseUrl}${e}`;return t._fetchData(i).catch(r=>{throw new Error(`Unable to load font data at: ${i}`)})})()}_fetchData(e){tt("Abstract method `_fetchData` called.")}}class ZU{create(e,t,i=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),i||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${t}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${t}`),r}createElement(e){if("string"!=typeof e)throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){tt("Abstract method `_createSVG` called.")}}const Ri="http://www.w3.org/2000/svg";class no{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}function Bu(n){return nm.apply(this,arguments)}function nm(){return(nm=N(function*(n,e="text"){if(Ga(n,document.baseURI)){const t=yield fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,i)=>{const r=new XMLHttpRequest;r.open("GET",n,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(200===r.status||0===r.status){switch(e){case"arraybuffer":case"blob":case"json":return void t(r.response)}return void t(r.responseText)}i(new Error(r.statusText))}},r.send(null)})})).apply(this,arguments)}class DS extends ES{_fetchData(e,t){return Bu(e,this.isCompressed?"arraybuffer":"text").then(i=>({cMapData:i instanceof ArrayBuffer?new Uint8Array(i):$a(i),compressionType:t}))}}class SS extends AS{_fetchData(e){return Bu(e,"arraybuffer").then(t=>new Uint8Array(t))}}class im extends ZU{_createSVG(e){return document.createElementNS(Ri,e)}}class za{constructor({viewBox:e,scale:t,rotation:i,offsetX:r=0,offsetY:s=0,dontFlip:o=!1}){this.viewBox=e,this.scale=t,this.rotation=i,this.offsetX=r,this.offsetY=s;const a=(e[2]+e[0])/2,l=(e[3]+e[1])/2;let c,u,d,h,f,p,g,v;switch((i%=360)<0&&(i+=360),i){case 180:c=-1,u=0,d=0,h=1;break;case 90:c=0,u=1,d=1,h=0;break;case 270:c=0,u=-1,d=-1,h=0;break;case 0:c=1,u=0,d=0,h=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(d=-d,h=-h),0===c?(f=Math.abs(l-e[1])*t+r,p=Math.abs(a-e[0])*t+s,g=(e[3]-e[1])*t,v=(e[2]-e[0])*t):(f=Math.abs(a-e[0])*t+r,p=Math.abs(l-e[1])*t+s,g=(e[2]-e[0])*t,v=(e[3]-e[1])*t),this.transform=[c*t,u*t,d*t,h*t,f-c*t*a-d*t*l,p-u*t*a-h*t*l],this.width=g,this.height=v}get rawDims(){const{viewBox:e}=this;return he(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:i=this.offsetX,offsetY:r=this.offsetY,dontFlip:s=!1}={}){return new za({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:i,offsetY:r,dontFlip:s})}convertToViewportPoint(e,t){return B.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=B.applyTransform([e[0],e[1]],this.transform),i=B.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],i[0],i[1]]}convertToPdfPoint(e,t){return B.applyInverseTransform([e,t],this.transform)}}class rm extends ar{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function Hu(n){const e=n.length;let t=0;for(;t<e&&""===n[t].trim();)t++;return"data:"===n.substring(t,t+5).toLowerCase()}function sm(n){return"string"==typeof n&&/\.pdf$/i.test(n)}function t$(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function n$(n,e="document.pdf"){if("string"!=typeof n)return e;if(Hu(n))return se('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const i=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(n);let s=i.exec(r[1])||i.exec(r[2])||i.exec(r[3]);if(s&&(s=s[0],s.includes("%")))try{s=i.exec(decodeURIComponent(s))[0]}catch{}return s||e}class MS{started=Object.create(null);times=[];time(e){e in this.started&&se(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||se(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:i}of this.times)t=Math.max(i.length,t);for(const{name:i,start:r,end:s}of this.times)e.push(`${i.padEnd(t)} ${s-r}ms\n`);return e.join("")}}function Ga(n,e){try{const{protocol:t}=e?new URL(n,e):new URL(n);return"http:"===t||"https:"===t}catch{return!1}}function Pn(n){n.preventDefault()}let xS;class IS{static toDateObject(e){if(!e||"string"!=typeof e)return null;xS||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const t=xS.exec(e);if(!t)return null;const i=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;let a=parseInt(t[5],10);a=a>=0&&a<=59?a:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const c=t[7]||"Z";let u=parseInt(t[8],10);u=u>=0&&u<=23?u:0;let d=parseInt(t[9],10)||0;return d=d>=0&&d<=59?d:0,"-"===c?(o+=u,a+=d):"+"===c&&(o-=u,a-=d),new Date(Date.UTC(i,r,s,o,a,l))}}function i$(n,{scale:e=1,rotation:t=0}){const{width:i,height:r}=n.attributes.style,s=[0,0,parseInt(i),parseInt(r)];return new za({viewBox:s,scale:e,rotation:t})}function om(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(16711680&e)>>16,(65280&e)>>8,255&e]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(se(`Not a valid color format: "${n}"`),[0,0,0])}function je(n){const{a:e,b:t,c:i,d:r,e:s,f:o}=n.getTransform();return[e,t,i,r,s,o]}function Oi(n){const{a:e,b:t,c:i,d:r,e:s,f:o}=n.getTransform().invertSelf();return[e,t,i,r,s,o]}function Fr(n,e,t=!1,i=!0){if(e instanceof za){const{pageWidth:r,pageHeight:s}=e.rawDims,{style:o}=n,a=en.isCSSRoundSupported,l=`var(--scale-factor) * ${r}px`,c=`var(--scale-factor) * ${s}px`,u=a?`round(${l}, 1px)`:`calc(${l})`,d=a?`round(${c}, 1px)`:`calc(${c})`;t&&e.rotation%180!=0?(o.width=d,o.height=u):(o.width=u,o.height=d)}i&&n.setAttribute("data-main-rotation",e.rotation)}class Wa{#e=null;#t=null;#n;#i=null;#r=null;static#s=null;constructor(e){this.#n=e,Wa.#s||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"})}render(){const e=this.#e=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar");const t=this.#n._uiManager._signal;e.addEventListener("contextmenu",Pn,{signal:t}),e.addEventListener("pointerdown",Wa.#a,{signal:t});const i=this.#i=document.createElement("div");i.className="buttons",e.append(i);const r=this.#n.toolbarPosition;if(r){const{style:s}=e,o="ltr"===this.#n._uiManager.direction?1-r[0]:r[0];s.insetInlineEnd=100*o+"%",s.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return this.#u(),e}static#a(e){e.stopPropagation()}#l(e){this.#n._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()}#d(e){this.#n._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()}#c(e){const t=this.#n._uiManager._signal;e.addEventListener("focusin",this.#l.bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",this.#d.bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Pn,{signal:t})}hide(){this.#e.classList.add("hidden"),this.#t?.hideDropdown()}show(){this.#e.classList.remove("hidden"),this.#r?.shown()}#u(){const{editorType:e,_uiManager:t}=this.#n,i=document.createElement("button");i.className="delete",i.tabIndex=0,i.setAttribute("data-l10n-id",Wa.#s[e]),this.#c(i),i.addEventListener("click",r=>{t.delete()},{signal:t._signal}),this.#i.append(i)}get#o(){const e=document.createElement("div");return e.className="divider",e}addAltText(e){var t=this;return N(function*(){const i=yield e.render();t.#c(i),t.#i.prepend(i,t.#o),t.#r=e})()}addColorPicker(e){this.#t=e;const t=e.renderButton();this.#c(t),this.#i.prepend(t,this.#o)}remove(){this.#e.remove(),this.#t?.destroy(),this.#t=null}}class s${#e=null;#t=null;#n;constructor(e){this.#n=e}#i(){const e=this.#t=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Pn,{signal:this.#n._signal});const t=this.#e=document.createElement("div");return t.className="buttons",e.append(t),this.#s(),e}#r(e,t){let i=0,r=0;for(const s of e){const o=s.y+s.height;if(o<i)continue;const a=s.x+(t?s.width:0);o>i?(r=a,i=o):t?a>r&&(r=a):a<r&&(r=a)}return[t?1-r:r,i]}show(e,t,i){const[r,s]=this.#r(t,i),{style:o}=this.#t||=this.#i();e.append(this.#t),o.insetInlineEnd=100*r+"%",o.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){this.#t.remove()}#s(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const i=this.#n._signal;e.addEventListener("contextmenu",Pn,{signal:i}),e.addEventListener("click",()=>{this.#n.highlightSelection("floating_button")},{signal:i}),this.#e.append(e)}}function Uu(n,e,t){for(const i of t)e.addEventListener(i,n[i].bind(n))}class a${#e=0;get id(){return"pdfjs_internal_editor_"+this.#e++}}class am{#e=function QU(){if(typeof crypto<"u"&&"function"==typeof crypto?.randomUUID)return crypto.randomUUID();const n=new Uint8Array(32);if(typeof crypto<"u"&&"function"==typeof crypto?.getRandomValues)crypto.getRandomValues(n);else for(let e=0;e<32;e++)n[e]=Math.floor(255*Math.random());return yS(n)}();#t=0;#n=null;static get _isSVGFittingCanvas(){const i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;return r.src='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',he(this,"_isSVGFittingCanvas",r.decode().then(()=>(i.drawImage(r,0,0,1,1,0,0,1,3),0===new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0])))}#i(e,t){var i=this;return N(function*(){i.#n||=new Map;let r=i.#n.get(e);if(null===r)return null;if(r?.bitmap)return r.refCounter+=1,r;try{let s;if(r||={bitmap:null,id:`image_${i.#e}_${i.#t++}`,refCounter:0,isSvg:!1},"string"==typeof t?(r.url=t,s=yield Bu(t,"blob")):s=r.file=t,"image/svg+xml"===s.type){const o=am._isSVGFittingCanvas,a=new FileReader,l=new Image,c=new Promise((u,d)=>{l.onload=()=>{r.bitmap=l,r.isSvg=!0,u()},a.onload=N(function*(){const h=r.svgUrl=a.result;l.src=(yield o)?`${h}#svgView(preserveAspectRatio(none))`:h}),l.onerror=a.onerror=d});a.readAsDataURL(s),yield c}else r.bitmap=yield createImageBitmap(s);r.refCounter=1}catch(s){console.error(s),r=null}return i.#n.set(e,r),r&&i.#n.set(r.id,r),r})()}getFromFile(e){var t=this;return N(function*(){const{lastModified:i,name:r,size:s,type:o}=e;return t.#i(`${i}_${r}_${s}_${o}`,e)})()}getFromUrl(e){var t=this;return N(function*(){return t.#i(e,e)})()}getFromId(e){var t=this;return N(function*(){t.#n||=new Map;const i=t.#n.get(e);return i?i.bitmap?(i.refCounter+=1,i):i.file?t.getFromFile(i.file):t.getFromUrl(i.url):null})()}getSvgUrl(e){const t=this.#n.get(e);return t?.isSvg?t.svgUrl:null}deleteId(e){this.#n||=new Map;const t=this.#n.get(e);t&&(t.refCounter-=1,0===t.refCounter&&(t.bitmap=null))}isValidId(e){return e.startsWith(`image_${this.#e}_`)}}class l${#e=[];#t=!1;#n;#i=-1;constructor(e=128){this.#n=e}add({cmd:e,undo:t,post:i,mustExec:r,type:s=NaN,overwriteIfSameType:o=!1,keepUndo:a=!1}){if(r&&e(),this.#t)return;const l={cmd:e,undo:t,post:i,type:s};if(-1===this.#i)return this.#e.length>0&&(this.#e.length=0),this.#i=0,void this.#e.push(l);if(o&&this.#e[this.#i].type===s)return a&&(l.undo=this.#e[this.#i].undo),void(this.#e[this.#i]=l);const c=this.#i+1;c===this.#n?this.#e.splice(0,1):(this.#i=c,c<this.#e.length&&this.#e.splice(c)),this.#e.push(l)}undo(){if(-1===this.#i)return;this.#t=!0;const{undo:e,post:t}=this.#e[this.#i];e(),t?.(),this.#t=!1,this.#i-=1}redo(){if(this.#i<this.#e.length-1){this.#i+=1,this.#t=!0;const{cmd:e,post:t}=this.#e[this.#i];e(),t?.(),this.#t=!1}}hasSomethingToUndo(){return-1!==this.#i}hasSomethingToRedo(){return this.#i<this.#e.length-1}destroy(){this.#e=null}}class qa{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=en.platform;for(const[i,r,s={}]of e)for(const o of i){const a=o.startsWith("mac+");t&&a?(this.callbacks.set(o.slice(4),{callback:r,options:s}),this.allKeys.add(o.split("+").at(-1))):!t&&!a&&(this.callbacks.set(o,{callback:r,options:s}),this.allKeys.add(o.split("+").at(-1)))}}#e(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t}exec(e,t){if(!this.allKeys.has(t.key))return;const i=this.callbacks.get(this.#e(t));if(!i)return;const{callback:r,options:{bubbles:s=!1,args:o=[],checker:a=null}}=i;a&&!a(e,t)||(r.bind(e,...o,t)(),s||(t.stopPropagation(),t.preventDefault()))}}class lm{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return function r$(n){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of n.keys()){e.style.color=t;const i=window.getComputedStyle(e).color;n.set(t,om(i))}e.remove()}(e),he(this,"_colors",e)}convert(e){const t=om(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[i,r]of this._colors)if(r.every((s,o)=>s===t[o]))return lm._colorsMapping.get(i);return t}getHexCode(e){const t=this._colors.get(e);return t?B.makeHexColor(...t):e}}let Ya=(()=>{class n{#e=new AbortController;#t=null;#n=new Map;#i=new Map;#r=null;#s=null;#a=null;#l=new l$;#d=null;#c=0;#u=new Set;#o=null;#h=null;#p=new Set;#f=!1;#g=!1;#v=!1;#m=null;#y=null;#_=null;#C=null;#w=!1;#A=null;#T=new a$;#M=!1;#E=!1;#x=null;#S=null;#P=null;#N=null;#D=le.NONE;#b=new Set;#I=null;#R=null;#L=null;#H={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#j=[0,0];#k=null;#F=null;#V=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const t=n.prototype,i=a=>a.#F.contains(document.activeElement)&&"BUTTON"!==document.activeElement.tagName&&a.hasSomethingToControl(),r=(a,{target:l})=>{if(l instanceof HTMLInputElement){const{type:c}=l;return"text"!==c&&"number"!==c}return!0},s=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return he(this,"_keyboardManager",new qa([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],t.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:r}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(a,{target:l})=>!(l instanceof HTMLButtonElement)&&a.#F.contains(l)&&!a.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(a,{target:l})=>!(l instanceof HTMLButtonElement)&&a.#F.contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-s,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-o,0],checker:i}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[s,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[o,0],checker:i}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-s],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-o],checker:i}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,s],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,o],checker:i}]]))}constructor(t,i,r,s,o,a,l,c,u,d,h){const f=this._signal=this.#e.signal;this.#F=t,this.#V=i,this.#r=r,this._eventBus=s,s._on("editingaction",this.onEditingAction.bind(this),{signal:f}),s._on("pagechanging",this.onPageChanging.bind(this),{signal:f}),s._on("scalechanging",this.onScaleChanging.bind(this),{signal:f}),s._on("rotationchanging",this.onRotationChanging.bind(this),{signal:f}),s._on("setpreference",this.onSetPreference.bind(this),{signal:f}),s._on("switchannotationeditorparams",p=>this.updateParams(p.type,p.value),{signal:f}),this.#J(),this.#ie(),this.#W(),this.#s=o.annotationStorage,this.#m=o.filterFactory,this.#R=a,this.#C=l||null,this.#f=c,this.#g=u,this.#v=d,this.#N=h||null,this.viewParameters={realScale:no.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}destroy(){this.#e?.abort(),this.#e=null,this._signal=null;for(const t of this.#i.values())t.destroy();this.#i.clear(),this.#n.clear(),this.#p.clear(),this.#t=null,this.#b.clear(),this.#l.destroy(),this.#r?.destroy(),this.#A?.hide(),this.#A=null,this.#y&&(clearTimeout(this.#y),this.#y=null),this.#k&&(clearTimeout(this.#k),this.#k=null)}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return this.#N}get useNewAltTextFlow(){return this.#g}get useNewAltTextWhenAddingImage(){return this.#v}get hcmFilter(){return he(this,"hcmFilter",this.#R?this.#m.addHCMFilter(this.#R.foreground,this.#R.background):"none")}get direction(){return he(this,"direction",getComputedStyle(this.#F).direction)}get highlightColors(){return he(this,"highlightColors",this.#C?new Map(this.#C.split(",").map(t=>t.split("=").map(i=>i.trim()))):null)}get highlightColorNames(){return he(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setMainHighlightColorPicker(t){this.#P=t}editAltText(t,i=!1){this.#r?.editAltText(this,t,i)}switchToMode(t,i){this._eventBus.on("annotationeditormodechanged",i,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,i){this._eventBus.dispatch("setpreference",{source:this,name:t,value:i})}onSetPreference({name:t,value:i}){"enableNewAltTextWhenAddingImage"===t&&(this.#v=i)}onPageChanging({pageNumber:t}){this.#c=t-1}focusMainContainer(){this.#F.focus()}findParent(t,i){for(const r of this.#i.values()){const{x:s,y:o,width:a,height:l}=r.div.getBoundingClientRect();if(t>=s&&t<=s+a&&i>=o&&i<=o+l)return r}return null}disableUserSelect(t=!1){this.#V.classList.toggle("noUserSelect",t)}addShouldRescale(t){this.#p.add(t)}removeShouldRescale(t){this.#p.delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*no.PDF_TO_CSS_UNITS;for(const i of this.#p)i.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}#B({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t}#G(t){const{currentLayer:i}=this;if(i.hasTextLayer(t))return i;for(const r of this.#i.values())if(r.hasTextLayer(t))return r;return null}highlightSelection(t=""){const i=document.getSelection();if(!i||i.isCollapsed)return;const{anchorNode:r,anchorOffset:s,focusNode:o,focusOffset:a}=i,l=i.toString(),u=this.#B(i).closest(".textLayer"),d=this.getSelectionBoxes(u);if(!d)return;i.empty();const h=this.#G(u),f=this.#D===le.NONE,p=()=>{h?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:d,anchorNode:r,anchorOffset:s,focusNode:o,focusOffset:a,text:l}),f&&this.showAllEditors("highlight",!0,!0)};f?this.switchToMode(le.HIGHLIGHT,p):p()}#Q(){const t=document.getSelection();if(!t||t.isCollapsed)return;const r=this.#B(t).closest(".textLayer"),s=this.getSelectionBoxes(r);s&&(this.#A||=new s$(this),this.#A.show(r,s,"ltr"===this.direction))}addToAnnotationStorage(t){!t.isEmpty()&&this.#s&&!this.#s.has(t.id)&&this.#s.setValue(t.id,t)}#Z(){const t=document.getSelection();if(!t||t.isCollapsed)return void(this.#I&&(this.#A?.hide(),this.#I=null,this.#O({hasSelectedText:!1})));const{anchorNode:i}=t;if(i===this.#I)return;const s=this.#B(t).closest(".textLayer");if(s){if(this.#A?.hide(),this.#I=i,this.#O({hasSelectedText:!0}),(this.#D===le.HIGHLIGHT||this.#D===le.NONE)&&(this.#D===le.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#w=this.isShiftKeyDown,!this.isShiftKeyDown)){const o=this.#D===le.HIGHLIGHT?this.#G(s):null;o?.toggleDrawing();const a=new AbortController,l=this.combinedSignal(a),c=u=>{"pointerup"===u.type&&0!==u.button||(a.abort(),o?.toggleDrawing(!0),"pointerup"===u.type&&this.#z("main_toolbar"))};window.addEventListener("pointerup",c,{signal:l}),window.addEventListener("blur",c,{signal:l})}}else this.#I&&(this.#A?.hide(),this.#I=null,this.#O({hasSelectedText:!1}))}#z(t=""){this.#D===le.HIGHLIGHT?this.highlightSelection(t):this.#f&&this.#Q()}#J(){document.addEventListener("selectionchange",this.#Z.bind(this),{signal:this._signal})}#ee(){if(this.#_)return;this.#_=new AbortController;const t=this.combinedSignal(this.#_);window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})}#te(){this.#_?.abort(),this.#_=null}blur(){if(this.isShiftKeyDown=!1,this.#w&&(this.#w=!1,this.#z("main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const i of this.#b)if(i.div.contains(t)){this.#S=[i,t],i._focusEventsAllowed=!1;break}}focus(){if(!this.#S)return;const[t,i]=this.#S;this.#S=null,i.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),i.focus()}#W(){if(this.#x)return;this.#x=new AbortController;const t=this.combinedSignal(this.#x);window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})}#ne(){this.#x?.abort(),this.#x=null}#q(){if(this.#d)return;this.#d=new AbortController;const t=this.combinedSignal(this.#d);document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})}#Y(){this.#d?.abort(),this.#d=null}#ie(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}addEditListeners(){this.#W(),this.#q()}removeEditListeners(){this.#ne(),this.#Y()}dragOver(t){for(const{type:i}of t.dataTransfer.items)for(const r of this.#h)if(r.isHandlingMimeForPasting(i))return t.dataTransfer.dropEffect="copy",void t.preventDefault()}drop(t){for(const i of t.dataTransfer.items)for(const r of this.#h)if(r.isHandlingMimeForPasting(i.type))return r.paste(i,this.currentLayer),void t.preventDefault()}copy(t){if(t.preventDefault(),this.#t?.commitOrRemove(),!this.hasSelection)return;const i=[];for(const r of this.#b){const s=r.serialize(!0);s&&i.push(s)}0!==i.length&&t.clipboardData.setData("application/pdfjs",JSON.stringify(i))}cut(t){this.copy(t),this.delete()}paste(t){t.preventDefault();const{clipboardData:i}=t;for(const o of i.items)for(const a of this.#h)if(a.isHandlingMimeForPasting(o.type))return void a.paste(o,this.currentLayer);let r=i.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(o){return void se(`paste: "${o.message}".`)}if(!Array.isArray(r))return;this.unselectAll();const s=this.currentLayer;try{const o=[];for(const c of r){const u=s.deserialize(c);if(!u)return;o.push(u)}this.addCommands({cmd:()=>{for(const c of o)this.#K(c);this.#X(o)},undo:()=>{for(const c of o)c.remove()},mustExec:!0})}catch(o){se(`paste: "${o.message}".`)}}keydown(t){!this.isShiftKeyDown&&"Shift"===t.key&&(this.isShiftKeyDown=!0),this.#D!==le.NONE&&!this.isEditorHandlingKeyboard&&n._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&"Shift"===t.key&&(this.isShiftKeyDown=!1,this.#w&&(this.#w=!1,this.#z("main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu")}}#O(t){Object.entries(t).some(([r,s])=>this.#H[r]!==s)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#H,t)}),this.#D===le.HIGHLIGHT&&!1===t.hasSelectedEditor&&this.#U([[Z.HIGHLIGHT_FREE,!0]]))}#U(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}setEditingState(t){t?(this.#ee(),this.#q(),this.#O({isEditing:this.#D!==le.NONE,isEmpty:this.#$(),hasSomethingToUndo:this.#l.hasSomethingToUndo(),hasSomethingToRedo:this.#l.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#te(),this.#Y(),this.#O({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!this.#h){this.#h=t;for(const i of this.#h)this.#U(i.defaultPropertiesToUpdate)}}getId(){return this.#T.id}get currentLayer(){return this.#i.get(this.#c)}getLayer(t){return this.#i.get(t)}get currentPageIndex(){return this.#c}addLayer(t){this.#i.set(t.pageIndex,t),this.#M?t.enable():t.disable()}removeLayer(t){this.#i.delete(t.pageIndex)}updateMode(t,i=null,r=!1){if(this.#D!==t){if(this.#D=t,t===le.NONE)return this.setEditingState(!1),void this.#se();this.setEditingState(!0),this.#re(),this.unselectAll();for(const s of this.#i.values())s.updateMode(t);if(!i&&r)return void this.addNewEditorFromKeyboard();if(i)for(const s of this.#n.values())if(s.annotationElementId===i){this.setSelected(s),s.enterInEditMode();break}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==this.#D&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,i){if(this.#h){switch(t){case Z.CREATE:return void this.currentLayer.addNewEditor();case Z.HIGHLIGHT_DEFAULT_COLOR:this.#P?.updateColor(i);break;case Z.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#L||=new Map).set(t,i),this.showAllEditors("highlight",i)}for(const r of this.#b)r.updateParams(t,i);for(const r of this.#h)r.updateDefaultParams(t,i)}}showAllEditors(t,i,r=!1){for(const o of this.#n.values())o.editorType===t&&o.show(i);(this.#L?.get(Z.HIGHLIGHT_SHOW_ALL)??!0)!==i&&this.#U([[Z.HIGHLIGHT_SHOW_ALL,i]])}enableWaiting(t=!1){if(this.#E!==t){this.#E=t;for(const i of this.#i.values())t?i.disableClick():i.enableClick(),i.div.classList.toggle("waiting",t)}}#re(){if(!this.#M){this.#M=!0;for(const t of this.#i.values())t.enable();for(const t of this.#n.values())t.enable()}}#se(){if(this.unselectAll(),this.#M){this.#M=!1;for(const t of this.#i.values())t.disable();for(const t of this.#n.values())t.disable()}}getEditors(t){const i=[];for(const r of this.#n.values())r.pageIndex===t&&i.push(r);return i}getEditor(t){return this.#n.get(t)}addEditor(t){this.#n.set(t.id,t)}removeEditor(t){t.div.contains(document.activeElement)&&(this.#y&&clearTimeout(this.#y),this.#y=setTimeout(()=>{this.focusMainContainer(),this.#y=null},0)),this.#n.delete(t.id),this.unselect(t),(!t.annotationElementId||!this.#u.has(t.annotationElementId))&&this.#s?.remove(t.id)}addDeletedAnnotationElement(t){this.#u.add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return this.#u.has(t)}removeDeletedAnnotationElement(t){this.#u.delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}#K(t){const i=this.#i.get(t.pageIndex);i?i.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}setActiveEditor(t){this.#t!==t&&(this.#t=t,t&&this.#U(t.propertiesToUpdate))}get#oe(){let t=null;for(t of this.#b);return t}updateUI(t){this.#oe===t&&this.#U(t.propertiesToUpdate)}toggleSelected(t){if(this.#b.has(t))return this.#b.delete(t),t.unselect(),void this.#O({hasSelectedEditor:this.hasSelection});this.#b.add(t),t.select(),this.#U(t.propertiesToUpdate),this.#O({hasSelectedEditor:!0})}setSelected(t){for(const i of this.#b)i!==t&&i.unselect();this.#b.clear(),this.#b.add(t),t.select(),this.#U(t.propertiesToUpdate),this.#O({hasSelectedEditor:!0})}isSelected(t){return this.#b.has(t)}get firstSelectedEditor(){return this.#b.values().next().value}unselect(t){t.unselect(),this.#b.delete(t),this.#O({hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==this.#b.size}get isEnterHandled(){return 1===this.#b.size&&this.firstSelectedEditor.isEnterHandled}undo(){this.#l.undo(),this.#O({hasSomethingToUndo:this.#l.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#$()})}redo(){this.#l.redo(),this.#O({hasSomethingToUndo:!0,hasSomethingToRedo:this.#l.hasSomethingToRedo(),isEmpty:this.#$()})}addCommands(t){this.#l.add(t),this.#O({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#$()})}#$(){if(0===this.#n.size)return!0;if(1===this.#n.size)for(const t of this.#n.values())return t.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const t=[...this.#b];this.addCommands({cmd:()=>{for(const s of t)s.remove()},undo:()=>{for(const s of t)this.#K(s)},mustExec:!0})}commitOrRemove(){this.#t?.commitOrRemove()}hasSomethingToControl(){return this.#t||this.hasSelection}#X(t){for(const i of this.#b)i.unselect();this.#b.clear();for(const i of t)i.isEmpty()||(this.#b.add(i),i.select());this.#O({hasSelectedEditor:this.hasSelection})}selectAll(){for(const t of this.#b)t.commit();this.#X(this.#n.values())}unselectAll(){if((!this.#t||(this.#t.commitOrRemove(),this.#D===le.NONE))&&this.hasSelection){for(const t of this.#b)t.unselect();this.#b.clear(),this.#O({hasSelectedEditor:!1})}}translateSelectedEditors(t,i,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;this.#j[0]+=t,this.#j[1]+=i;const[s,o]=this.#j,a=[...this.#b];this.#k&&clearTimeout(this.#k),this.#k=setTimeout(()=>{this.#k=null,this.#j[0]=this.#j[1]=0,this.addCommands({cmd:()=>{for(const c of a)this.#n.has(c.id)&&c.translateInPage(s,o)},undo:()=>{for(const c of a)this.#n.has(c.id)&&c.translateInPage(-s,-o)},mustExec:!1})},1e3);for(const c of a)c.translateInPage(t,i)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#o=new Map;for(const t of this.#b)this.#o.set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#o)return!1;this.disableUserSelect(!1);const t=this.#o;this.#o=null;let i=!1;for(const[{x:s,y:o,pageIndex:a},l]of t)l.newX=s,l.newY=o,l.newPageIndex=a,i||=s!==l.savedX||o!==l.savedY||a!==l.savedPageIndex;if(!i)return!1;const r=(s,o,a,l)=>{if(this.#n.has(s.id)){const c=this.#i.get(l);c?s._setParentAndPosition(c,o,a):(s.pageIndex=l,s.x=o,s.y=a)}};return this.addCommands({cmd:()=>{for(const[s,{newX:o,newY:a,newPageIndex:l}]of t)r(s,o,a,l)},undo:()=>{for(const[s,{savedX:o,savedY:a,savedPageIndex:l}]of t)r(s,o,a,l)},mustExec:!0}),!0}dragSelectedEditors(t,i){if(this.#o)for(const r of this.#o.keys())r.drag(t,i)}rebuild(t){if(null===t.parent){const i=this.getLayer(t.pageIndex);i?(i.changeParent(t),i.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||1===this.#b.size&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return this.#t===t}getActive(){return this.#t}getMode(){return this.#D}get imageManager(){return he(this,"imageManager",new am)}getSelectionBoxes(t){if(!t)return null;const i=document.getSelection();for(let u=0,d=i.rangeCount;u<d;u++)if(!t.contains(i.getRangeAt(u).commonAncestorContainer))return null;const{x:r,y:s,width:o,height:a}=t.getBoundingClientRect();let l;switch(t.getAttribute("data-main-rotation")){case"90":l=(u,d,h,f)=>({x:(d-s)/a,y:1-(u+h-r)/o,width:f/a,height:h/o});break;case"180":l=(u,d,h,f)=>({x:1-(u+h-r)/o,y:1-(d+f-s)/a,width:h/o,height:f/a});break;case"270":l=(u,d,h,f)=>({x:1-(d+f-s)/a,y:(u-r)/o,width:f/a,height:h/o});break;default:l=(u,d,h,f)=>({x:(u-r)/o,y:(d-s)/a,width:h/o,height:f/a})}const c=[];for(let u=0,d=i.rangeCount;u<d;u++){const h=i.getRangeAt(u);if(!h.collapsed)for(const{x:f,y:p,width:g,height:v}of h.getClientRects())0===g||0===v||c.push(l(f,p,g,v))}return 0===c.length?null:c}addChangedExistingAnnotation({annotationElementId:t,id:i}){(this.#a||=new Map).set(t,i)}removeChangedExistingAnnotation({annotationElementId:t}){this.#a?.delete(t)}renderAnnotationElement(t){const i=this.#a?.get(t.data.id);if(!i)return;const r=this.#s.getRawValue(i);r&&(this.#D===le.NONE&&!r.hasBeenModified||r.renderAnnotationElement(t))}}return n})(),TS=(()=>{class n{#e=null;#t=!1;#n=null;#i=null;#r=null;#s=!1;#a=null;#l=null;#d=null;#c=null;#u=!1;static _l10nPromise=null;constructor(t){this.#l=t,this.#u=t._uiManager.useNewAltTextFlow}static initialize(t){n._l10nPromise||=t}render(){var t=this;return N(function*(){const i=t.#n=document.createElement("button");let r;i.className="altText",t.#u?(i.classList.add("new"),r=yield n._l10nPromise.get("pdfjs-editor-new-alt-text-missing-button-label")):r=yield n._l10nPromise.get("pdfjs-editor-alt-text-button-label"),i.textContent=r,i.setAttribute("aria-label",r),i.tabIndex="0";const s=t.#l._uiManager._signal;i.addEventListener("contextmenu",Pn,{signal:s}),i.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:s});const o=a=>{a.preventDefault(),t.#l._uiManager.editAltText(t.#l),t.#u&&t.#l._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:t.#o}})};return i.addEventListener("click",o,{capture:!0,signal:s}),i.addEventListener("keydown",a=>{a.target===i&&"Enter"===a.key&&(t.#s=!0,o(a))},{signal:s}),yield t.#h(),i})()}get#o(){return(this.#e?"added":null===this.#e&&this.guessedText&&"review")||"missing"}finish(){this.#n&&(this.#n.focus({focusVisible:this.#s}),this.#s=!1)}isEmpty(){return this.#u?null===this.#e:!this.#e&&!this.#t}hasData(){return this.#u?null!==this.#e||!!this.#d:this.isEmpty()}get guessedText(){return this.#d}setGuessedText(t){var i=this;return N(function*(){null===i.#e&&(i.#d=t,i.#c=yield n._l10nPromise.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer")({generatedAltText:t}),i.#h())})()}toggleAltTextBadge(t=!1){if(!this.#u||this.#e)return this.#a?.remove(),void(this.#a=null);if(!this.#a){const i=this.#a=document.createElement("div");i.className="noAltTextBadge",this.#l.div.append(i)}this.#a.classList.toggle("hidden",!t)}serialize(t){let i=this.#e;return!t&&this.#d===i&&(i=this.#c),{altText:i,decorative:this.#t,guessedText:this.#d,textWithDisclaimer:this.#c}}get data(){return{altText:this.#e,decorative:this.#t}}set data({altText:t,decorative:i,guessedText:r,textWithDisclaimer:s,cancel:o=!1}){r&&(this.#d=r,this.#c=s),(this.#e!==t||this.#t!==i)&&(o||(this.#e=t,this.#t=i),this.#h())}toggle(t=!1){this.#n&&(!t&&this.#r&&(clearTimeout(this.#r),this.#r=null),this.#n.disabled=!t)}shown(){this.#l._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#o}})}destroy(){this.#n?.remove(),this.#n=null,this.#i=null,this.#a?.remove(),this.#a=null}#h(){var t=this;return N(function*(){const i=t.#n;if(!i)return;if(t.#u){const o=t.#o,a="review"===o?"to-review":o;if(i.classList.toggle("done",!!t.#e),n._l10nPromise.get(`pdfjs-editor-new-alt-text-${a}-button-label`).then(l=>{i.setAttribute("aria-label",l);for(const c of i.childNodes)if(c.nodeType===Node.TEXT_NODE){c.textContent=l;break}}),!t.#e)return void t.#i?.remove()}else{if(!t.#e&&!t.#t)return i.classList.remove("done"),void t.#i?.remove();i.classList.add("done"),n._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(o=>{i.setAttribute("aria-label",o)})}let r=t.#i;if(!r){t.#i=r=document.createElement("span"),r.className="tooltip",r.setAttribute("role","tooltip");const o=r.id=`alt-text-tooltip-${t.#l.id}`;i.setAttribute("aria-describedby",o);const a=100,l=t.#l._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(t.#r),t.#r=null},{once:!0}),i.addEventListener("mouseenter",()=>{t.#r=setTimeout(()=>{t.#r=null,t.#i.classList.add("show"),t.#l._reportTelemetry({action:"alt_text_tooltip"})},a)},{signal:l}),i.addEventListener("mouseleave",()=>{t.#r&&(clearTimeout(t.#r),t.#r=null),t.#i?.classList.remove("show")},{signal:l})}r.innerText=t.#t?yield n._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):t.#e,r.parentNode||i.append(r),t.#l.getImageForAltText()?.setAttribute("aria-describedby",r.id)})()}}return n})();class Y{#e=null;#t=null;#n=null;#i=!1;#r=!1;#s=null;#a=null;#l=null;#d="";#c=!1;#u=null;#o=!1;#h=!1;#p=!1;#f=null;#g=0;#v=0;#m=null;_editToolbar=null;_initialOptions=Object.create(null);_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10nPromise=null;static _l10nResizer=null;#y=!1;#_=Y._zIndex++;static _borderLineWidth=-1;static _colorManager=new lm;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const e=Y.prototype._resizeWithKeyboard,t=Ya.TRANSLATE_SMALL,i=Ya.TRANSLATE_BIG;return he(this,"_resizerKeyboardManager",new qa([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,i]}],[["Escape","mac+Escape"],Y.prototype._stopResizingWithKeyboard]]))}constructor(e){this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:i,pageHeight:r,pageX:s,pageY:o}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,r],this.pageTranslation=[s,o];const[a,l]=this.parentDimensions;this.x=e.x/a,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return he(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new c$({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t,i){if(Y._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),Y._l10nPromise||=new Map([...["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-new-alt-text-added-button-label","pdfjs-editor-new-alt-text-missing-button-label","pdfjs-editor-new-alt-text-to-review-button-label"].map(s=>[s,e.get(s)]),...["pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer"].map(s=>[s,e.get.bind(e,s)])]),i?.strings)for(const s of i.strings)Y._l10nPromise.set(s,e.get(s));if(-1!==Y._borderLineWidth)return;const r=getComputedStyle(document.documentElement);Y._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){tt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#y}set _isDraggable(e){this.#y=e,this.div?.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(2*e),this.y+=this.width*e/(2*t);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(2*e),this.y-=this.width*e/(2*t);break;default:this.x-=this.width/2,this.y-=this.height/2}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#_}setParent(e){null!==e?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):this.#L(),this.parent=e}focusin(e){this._focusEventsAllowed&&(this.#c?this.#c=!1:this.parent.setSelected(this))}focusout(e){!this._focusEventsAllowed||!this.isAttachedToDOM||e.relatedTarget?.closest(`#${this.id}`)||(e.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,i,r){const[s,o]=this.parentDimensions;[i,r]=this.screenToPageTranslation(i,r),this.x=(e+i)/s,this.y=(t+r)/o,this.fixAndSetPosition()}#C([e,t],i,r){[i,r]=this.screenToPageTranslation(i,r),this.x+=i/e,this.y+=r/t,this.fixAndSetPosition()}translate(e,t){this.#C(this.parentDimensions,e,t)}translateInPage(e,t){this.#u||=[this.x,this.y],this.#C(this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){this.#u||=[this.x,this.y];const[i,r]=this.parentDimensions;if(this.x+=e/i,this.y+=t/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:c,y:u}=this.div.getBoundingClientRect();this.parent.findNewParent(this,c,u)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:o}=this;const[a,l]=this.getBaseTranslation();s+=a,o+=l,this.div.style.left=`${(100*s).toFixed(2)}%`,this.div.style.top=`${(100*o).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!this.#u&&(this.#u[0]!==this.x||this.#u[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:i}=Y,r=i/e,s=i/t;switch(this.rotation){case 90:return[-r,s];case 180:return[r,s];case 270:return[r,-s];default:return[-r,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[t,i]=this.pageDimensions;let{x:r,y:s,width:o,height:a}=this;if(o*=t,a*=i,r*=t,s*=i,this._mustFixPosition)switch(e){case 0:r=Math.max(0,Math.min(t-o,r)),s=Math.max(0,Math.min(i-a,s));break;case 90:r=Math.max(0,Math.min(t-a,r)),s=Math.min(i,Math.max(o,s));break;case 180:r=Math.min(t,Math.max(o,r)),s=Math.min(i,Math.max(a,s));break;case 270:r=Math.min(t,Math.max(a,r)),s=Math.max(0,Math.min(i-o,s))}this.x=r/=t,this.y=s/=i;const[l,c]=this.getBaseTranslation();r+=l,s+=c;const{style:u}=this.div;u.left=`${(100*r).toFixed(2)}%`,u.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}static#w(e,t,i){switch(i){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}screenToPageTranslation(e,t){return Y.#w(e,t,this.parentRotation)}pageTranslationToScreen(e,t){return Y.#w(e,t,360-this.parentRotation)}#A(e){switch(e){case 90:{const[t,i]=this.pageDimensions;return[0,-t/i,i/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,i]=this.pageDimensions;return[0,t/i,-i/t,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,i]}=this,r=t*e,s=i*e;return en.isCSSRoundSupported?[Math.round(r),Math.round(s)]:[r,s]}setDims(e,t){const[i,r]=this.parentDimensions;this.div.style.width=`${(100*e/i).toFixed(2)}%`,this.#r||(this.div.style.height=`${(100*t/r).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:i}=e,r=i.endsWith("%"),s=!this.#r&&t.endsWith("%");if(r&&s)return;const[o,a]=this.parentDimensions;r||(e.width=`${(100*parseFloat(i)/o).toFixed(2)}%`),!this.#r&&!s&&(e.height=`${(100*parseFloat(t)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#T(){if(this.#s)return;this.#s=document.createElement("div"),this.#s.classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const i of e){const r=document.createElement("div");this.#s.append(r),r.classList.add("resizer",i),r.setAttribute("data-resizer-name",i),r.addEventListener("pointerdown",this.#M.bind(this,i),{signal:t}),r.addEventListener("contextmenu",Pn,{signal:t}),r.tabIndex=-1}this.div.prepend(this.#s)}#M(e,t){t.preventDefault();const{isMac:i}=en.platform;if(0!==t.button||t.ctrlKey&&i)return;this.#n?.toggle(!1);const r=this._isDraggable;this._isDraggable=!1;const s=new AbortController,o=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#x.bind(this,e),{passive:!0,capture:!0,signal:o}),window.addEventListener("contextmenu",Pn,{signal:o});const a=this.x,l=this.y,c=this.width,u=this.height,d=this.parent.div.style.cursor,h=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const f=()=>{s.abort(),this.parent.togglePointerEvents(!0),this.#n?.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=d,this.div.style.cursor=h,this.#E(a,l,c,u)};window.addEventListener("pointerup",f,{signal:o}),window.addEventListener("blur",f,{signal:o})}#E(e,t,i,r){const s=this.x,o=this.y,a=this.width,l=this.height;s===e&&o===t&&a===i&&l===r||this.addCommands({cmd:()=>{this.width=a,this.height=l,this.x=s,this.y=o;const[c,u]=this.parentDimensions;this.setDims(c*a,u*l),this.fixAndSetPosition()},undo:()=>{this.width=i,this.height=r,this.x=e,this.y=t;const[c,u]=this.parentDimensions;this.setDims(c*i,u*r),this.fixAndSetPosition()},mustExec:!0})}#x(e,t){const[i,r]=this.parentDimensions,s=this.x,o=this.y,a=this.width,l=this.height,c=Y.MIN_SIZE/i,u=Y.MIN_SIZE/r,d=te=>Math.round(1e4*te)/1e4,h=this.#A(this.rotation),f=(te,re)=>[h[0]*te+h[2]*re,h[1]*te+h[3]*re],p=this.#A(360-this.rotation);let v,m,y=!1,b=!1;switch(e){case"topLeft":y=!0,v=(te,re)=>[0,0],m=(te,re)=>[te,re];break;case"topMiddle":v=(te,re)=>[te/2,0],m=(te,re)=>[te/2,re];break;case"topRight":y=!0,v=(te,re)=>[te,0],m=(te,re)=>[0,re];break;case"middleRight":b=!0,v=(te,re)=>[te,re/2],m=(te,re)=>[0,re/2];break;case"bottomRight":y=!0,v=(te,re)=>[te,re],m=(te,re)=>[0,0];break;case"bottomMiddle":v=(te,re)=>[te/2,re],m=(te,re)=>[te/2,0];break;case"bottomLeft":y=!0,v=(te,re)=>[0,re],m=(te,re)=>[te,0];break;case"middleLeft":b=!0,v=(te,re)=>[0,re/2],m=(te,re)=>[te,re/2]}const _=v(a,l),w=m(a,l);let D=f(...w);const S=d(s+D[0]),T=d(o+D[1]);let E=1,R=1,[L,ye]=this.screenToPageTranslation(t.movementX,t.movementY);if([L,ye]=[p[0]*(te=L/i)+p[2]*(re=ye/r),p[1]*te+p[3]*re],y){const te=Math.hypot(a,l);E=R=Math.max(Math.min(Math.hypot(w[0]-_[0]-L,w[1]-_[1]-ye)/te,1/a,1/l),c/a,u/l)}else b?E=Math.max(c,Math.min(1,Math.abs(w[0]-_[0]-L)))/a:R=Math.max(u,Math.min(1,Math.abs(w[1]-_[1]-ye)))/l;var te,re;const De=d(a*E),_e=d(l*R);D=f(...m(De,_e));const Ge=S-D[0],Pt=T-D[1];this.width=De,this.height=_e,this.x=Ge,this.y=Pt,this.setDims(i*De,r*_e),this.fixAndSetPosition()}altTextFinish(){this.#n?.finish()}addEditToolbar(){var e=this;return N(function*(){return e._editToolbar||e.#h||(e._editToolbar=new Wa(e),e.div.append(e._editToolbar.render()),e.#n&&(yield e._editToolbar.addAltText(e.#n))),e._editToolbar})()}removeEditToolbar(){this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,this.#n?.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}addAltTextButton(){var e=this;return N(function*(){e.#n||(TS.initialize(Y._l10nPromise),e.#n=new TS(e),e.#e&&(e.#n.data=e.#e,e.#e=null),yield e.addEditToolbar())})()}get altTextData(){return this.#n?.data}set altTextData(e){this.#n&&(this.#n.data=e)}get guessedAltText(){return this.#n?.guessedText}setGuessedAltText(e){var t=this;return N(function*(){yield t.#n?.setGuessedText(e)})()}serializeAltText(e){return this.#n?.serialize(e)}hasAltText(){return!!this.#n&&!this.#n.isEmpty()}hasAltTextData(){return this.#n?.hasData()??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=this.#i?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),this.#N();const[e,t]=this.parentDimensions;this.parentRotation%180!=0&&(this.div.style.maxWidth=`${(100*t/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/t).toFixed(2)}%`);const[i,r]=this.getInitialTranslation();return this.translate(i,r),Uu(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=en.platform;0!==e.button||e.ctrlKey&&t?e.preventDefault():(this.#c=!0,this._isDraggable?this.#P(e):this.#S(e))}#S(e){const{isMac:t}=en.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)}#P(e){const t=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();const i=new AbortController,r=this._uiManager.combinedSignal(i);t&&(this.div.classList.add("moving"),this.#g=e.clientX,this.#v=e.clientY,window.addEventListener("pointermove",a=>{const{clientX:l,clientY:c}=a,[u,d]=this.screenToPageTranslation(l-this.#g,c-this.#v);this.#g=l,this.#v=c,this._uiManager.dragSelectedEditors(u,d)},{passive:!0,capture:!0,signal:r}));const s=()=>{i.abort(),t&&this.div.classList.remove("moving"),this.#c=!1,this._uiManager.endDragSession()||this.#S(e)};window.addEventListener("pointerup",s,{signal:r}),window.addEventListener("blur",s,{signal:r})}moveInDOM(){this.#f&&clearTimeout(this.#f),this.#f=setTimeout(()=>{this.#f=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(e,t,i){e.changeParent(this),this.x=t,this.y=i,this.fixAndSetPosition()}getRect(e,t,i=this.rotation){const r=this.parentScale,[s,o]=this.pageDimensions,[a,l]=this.pageTranslation,c=e/r,u=t/r,d=this.x*s,h=this.y*o,f=this.width*s,p=this.height*o;switch(i){case 0:return[d+c+a,o-h-u-p+l,d+c+f+a,o-h-u+l];case 90:return[d+u+a,o-h+c+l,d+u+p+a,o-h+c+f+l];case 180:return[d-c-f+a,o-h+u+l,d-c+a,o-h+u+p+l];case 270:return[d-u-p+a,o-h-c-f+l,d-u+a,o-h-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[i,r,s,o]=e,a=s-i,l=o-r;switch(this.rotation){case 0:return[i,t-o,a,l];case 90:return[i,t-r,l,a];case 180:return[s,t-r,a,l];case 270:return[s,t-o,l,a];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#h=!0}disableEditMode(){this.#h=!1}isInEditMode(){return this.#h}shouldGetKeyboardEvents(){return this.#p}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}#N(){if(this.#l||!this.div)return;this.#l=new AbortController;const e=this._uiManager.combinedSignal(this.#l);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})}rebuild(){this.#N()}rotate(e){}serialize(e=!1,t=null){tt("An editor must be serializable")}static deserialize(e,t,i){const r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:i});r.rotation=e.rotation,r.#e=e.accessibilityData;const[s,o]=r.pageDimensions,[a,l,c,u]=r.getRectInCurrentCoords(e.rect,o);return r.x=a/s,r.y=l/o,r.width=c/s,r.height=u/o,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||null!==this.serialize())}remove(){if(this.#l?.abort(),this.#l=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#f&&(clearTimeout(this.#f),this.#f=null),this.#L(),this.removeEditToolbar(),this.#m){for(const e of this.#m.values())clearTimeout(e);this.#m=null}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#T(),this.#s.classList.remove("hidden"),Uu(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||"Enter"!==e.key)return;this._uiManager.setSelected(this),this.#a={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const t=this.#s.children;if(!this.#t){this.#t=Array.from(t);const o=this.#D.bind(this),a=this.#b.bind(this),l=this._uiManager._signal;for(const c of this.#t){const u=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",o,{signal:l}),c.addEventListener("blur",a,{signal:l}),c.addEventListener("focus",this.#I.bind(this,u),{signal:l}),c.setAttribute("data-l10n-id",Y._l10nResizer[u])}}const i=this.#t[0];let r=0;for(const o of t){if(o===i)break;r++}const s=(360-this.rotation+this.parentRotation)%360/90*(this.#t.length/4);if(s!==r){if(s<r)for(let a=0;a<r-s;a++)this.#s.append(this.#s.firstChild);else if(s>r)for(let a=0;a<s-r;a++)this.#s.firstChild.before(this.#s.lastChild);let o=0;for(const a of t){const c=this.#t[o++].getAttribute("data-resizer-name");a.setAttribute("data-l10n-id",Y._l10nResizer[c])}}this.#R(0),this.#p=!0,this.#s.firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}#D(e){Y._resizerKeyboardManager.exec(this,e)}#b(e){this.#p&&e.relatedTarget?.parentNode!==this.#s&&this.#L()}#I(e){this.#d=this.#p?e:""}#R(e){if(this.#t)for(const t of this.#t)t.tabIndex=e}_resizeWithKeyboard(e,t){this.#p&&this.#x(this.#d,{movementX:e,movementY:t})}#L(){if(this.#p=!1,this.#R(-1),this.#a){const{savedX:e,savedY:t,savedWidth:i,savedHeight:r}=this.#a;this.#E(e,t,i,r),this.#a=null}}_stopResizingWithKeyboard(){this.#L(),this.div.focus()}select(){this.makeResizable(),this.div?.classList.add("selectedEditor"),this._editToolbar?(this._editToolbar?.show(),this.#n?.toggleAltTextBadge(!1)):this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()})}unselect(){this.#s?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#n?.toggleAltTextBadge(!0)}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return this.#o}set isEditing(e){this.#o=e,this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){this.#r=!0;const i=e/t,{style:r}=this.div;r.aspectRatio=i,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){this.#m||=new Map;const{action:i}=e;let r=this.#m.get(i);return r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(e),this.#m.delete(i),0===this.#m.size&&(this.#m=null)},Y._telemetryTimeout),void this.#m.set(i,r)}e.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),this.#i=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#i=!0}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(t){if("CANVAS"===t.nodeName){const i=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),i.before(t)}}else t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);return t}resetAnnotationElement(e){const{firstChild:t}=e.container;"DIV"===t.nodeName&&t.classList.contains("annotationContent")&&t.remove()}}class c$ extends Y{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const PS=3285377520,Rn=4294901760,li=65535;class RS{constructor(e){this.h1=e?4294967295&e:PS,this.h2=e?4294967295&e:PS}update(e){let t,i;if("string"==typeof e){t=new Uint8Array(2*e.length),i=0;for(let g=0,v=e.length;g<v;g++){const m=e.charCodeAt(g);m<=255?t[i++]=m:(t[i++]=m>>>8,t[i++]=255&m)}}else{if(!ArrayBuffer.isView(e))throw new Error("Invalid data format, must be a string or TypedArray.");t=e.slice(),i=t.byteLength}const r=i>>2,s=i-4*r,o=new Uint32Array(t.buffer,0,r);let a=0,l=0,c=this.h1,u=this.h2;const d=3432918353,h=461845907,f=d&li,p=h&li;for(let g=0;g<r;g++)1&g?(a=o[g],a=a*d&Rn|a*f&li,a=a<<15|a>>>17,a=a*h&Rn|a*p&li,c^=a,c=c<<13|c>>>19,c=5*c+3864292196):(l=o[g],l=l*d&Rn|l*f&li,l=l<<15|l>>>17,l=l*h&Rn|l*p&li,u^=l,u=u<<13|u>>>19,u=5*u+3864292196);switch(a=0,s){case 3:a^=t[4*r+2]<<16;case 2:a^=t[4*r+1]<<8;case 1:a^=t[4*r],a=a*d&Rn|a*f&li,a=a<<15|a>>>17,a=a*h&Rn|a*p&li,1&r?c^=a:u^=a}this.h1=c,this.h2=u}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=3981806797*e&Rn|36045*e&li,t=4283543511*t&Rn|(2950163797*(t<<16|e>>>16)&Rn)>>>16,e^=t>>>1,e=444984403*e&Rn|60499*e&li,t=3301882366*t&Rn|(3120437893*(t<<16|e>>>16)&Rn)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const cm=Object.freeze({map:null,hash:"",transfer:void 0});class um{#e=!1;#t=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const i=this.#n.get(e);return void 0===i?t:Object.assign(t,i)}getRawValue(e){return this.#n.get(e)}remove(e){if(this.#n.delete(e),0===this.#n.size&&this.resetModified(),"function"==typeof this.onAnnotationEditor){for(const t of this.#n.values())if(t instanceof Y)return;this.onAnnotationEditor(null)}}setValue(e,t){const i=this.#n.get(e);let r=!1;if(void 0!==i)for(const[s,o]of Object.entries(t))i[s]!==o&&(r=!0,i[s]=o);else r=!0,this.#n.set(e,t);r&&this.#i(),t instanceof Y&&"function"==typeof this.onAnnotationEditor&&this.onAnnotationEditor(t.constructor._type)}has(e){return this.#n.has(e)}getAll(){return this.#n.size>0?Jg(this.#n):null}setAll(e){for(const[t,i]of Object.entries(e))this.setValue(t,i)}get size(){return this.#n.size}#i(){this.#e||(this.#e=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get print(){return new OS(this)}get serializable(){if(0===this.#n.size)return cm;const e=new Map,t=new RS,i=[],r=Object.create(null);let s=!1;for(const[o,a]of this.#n){const l=a instanceof Y?a.serialize(!1,r):a;l&&(e.set(o,l),t.update(`${o}:${JSON.stringify(l)}`),s||=!!l.bitmap)}if(s)for(const o of e.values())o.bitmap&&i.push(o.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:i}:cm}get editorStats(){let e=null;const t=new Map;for(const i of this.#n.values()){if(!(i instanceof Y))continue;const r=i.telemetryFinalData;if(!r)continue;const{type:s}=r;t.has(s)||t.set(s,Object.getPrototypeOf(i).constructor),e||=Object.create(null);const o=e[s]||=new Map;for(const[a,l]of Object.entries(r)){if("type"===a)continue;let c=o.get(a);c||(c=new Map,o.set(a,c));const u=c.get(l)??0;c.set(l,u+1)}}for(const[i,r]of t)e[i]=r.computeTelemetryFinalData(e[i]);return e}resetModifiedIds(){this.#t=null}get modifiedIds(){if(this.#t)return this.#t;const e=[];for(const t of this.#n.values())!(t instanceof Y)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return this.#t={ids:new Set(e),hash:e.join(",")}}}class OS extends um{#e;constructor(e){super();const{map:t,hash:i,transfer:r}=e.serializable,s=structuredClone(t,r?{transfer:r}:null);this.#e={map:s,hash:i,transfer:r}}get print(){tt("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}get modifiedIds(){return he(this,"modifiedIds",{ids:new Set,hash:""})}}class u${#e=new Set;constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}loadSystemFont({systemFontInfo:e,_inspectFont:t}){var i=this;return N(function*(){if(e&&!i.#e.has(e.loadedName)){if(ct(!i.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),i.isFontLoadingAPISupported){const{loadedName:r,src:s,style:o}=e,a=new FontFace(r,s,o);i.addNativeFontFace(a);try{yield a.load(),i.#e.add(r),t?.(e)}catch{se(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),i.removeNativeFontFace(a)}return}tt("Not implemented: loadSystemFont without the Font Loading API.")}})()}bind(e){var t=this;return N(function*(){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo)return void(yield t.loadSystemFont(e));if(t.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){t.addNativeFontFace(r);try{yield r.loaded}catch(s){throw se(`Failed to load font '${r.family}': '${s}'.`),e.disableFontFace=!0,s}}return}const i=e.createFontFaceRule();if(i){if(t.insertRule(i),t.isSyncFontLoadingSupported)return;yield new Promise(r=>{const s=t._queueLoadingCallback(r);t._prepareFontLoadEvent(e,s)})}})()}get isFontLoadingAPISupported(){return he(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){let e=!1;return(Mt||typeof navigator<"u"&&"string"==typeof navigator?.userAgent&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),he(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){const{loadingRequests:i}=this,r={done:!1,complete:function t(){for(ct(!r.done,"completeRequest() cannot be called twice."),r.done=!0;i.length>0&&i[0].done;){const s=i.shift();setTimeout(s.callback,0)}},callback:e};return i.push(r),r}get _loadTestFont(){return he(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(e,t){function i(_,w){return _.charCodeAt(w)<<24|_.charCodeAt(w+1)<<16|_.charCodeAt(w+2)<<8|255&_.charCodeAt(w+3)}function r(_,w,D,S){return _.substring(0,w)+S+_.substring(w+D)}let s,o;const a=this._document.createElement("canvas");a.width=1,a.height=1;const l=a.getContext("2d");let c=0;const d=`lt${Date.now()}${this.loadTestFontId++}`;let h=this._loadTestFont;h=r(h,976,d.length,d);const g=1482184792;let v=i(h,16);for(s=0,o=d.length-3;s<o;s+=4)v=v-g+i(d,s)|0;s<d.length&&(v=v-g+i(d+"XXX",s)|0),h=r(h,16,4,function GU(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,255&n)}(v));const m=`url(data:font/opentype;base64,${btoa(h)});`;this.insertRule(`@font-face {font-family:"${d}";src:${m}}`);const b=this._document.createElement("div");b.style.visibility="hidden",b.style.width=b.style.height="10px",b.style.position="absolute",b.style.top=b.style.left="0px";for(const _ of[e.loadedName,d]){const w=this._document.createElement("span");w.textContent="Hi",w.style.fontFamily=_,b.append(w)}this._document.body.append(b),function u(_,w){if(++c>30)return se("Load test font never loaded."),void w();l.font="30px "+_,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0?w():setTimeout(u.bind(null,_,w))}(d,()=>{b.remove(),t.complete()})}}class d${constructor(e,{disableFontFace:t=!1,inspectFont:i=null}){this.compiledGlyphs=Object.create(null);for(const r in e)this[r]=e[r];this.disableFontFace=!0===t,this._inspectFont=i}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(this.cssFontInfo){const t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}else e=new FontFace(this.loadedName,this.data,{});return this._inspectFont?.(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=yS(this.data),t=`url(data:${this.mimetype};base64,${btoa(e)});`;let i;if(this.cssFontInfo){let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),i=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${t}}`}else i=`@font-face {font-family:"${this.loadedName}";src:${t}}`;return this._inspectFont?.(this,t),i}getPathGenerator(e,t){if(void 0!==this.compiledGlyphs[t])return this.compiledGlyphs[t];let i;try{i=e.get(this.loadedName+"_path_"+t)}catch(s){se(`getPathGenerator - ignoring character: "${s}".`)}if(!Array.isArray(i)||0===i.length)return this.compiledGlyphs[t]=function(s,o){};const r=[];for(let s=0,o=i.length;s<o;)switch(i[s++]){case 0:{const[a,l,c,u,d,h]=i.slice(s,s+6);r.push(f=>f.bezierCurveTo(a,l,c,u,d,h)),s+=6}break;case 1:{const[a,l]=i.slice(s,s+2);r.push(c=>c.moveTo(a,l)),s+=2}break;case 2:{const[a,l]=i.slice(s,s+2);r.push(c=>c.lineTo(a,l)),s+=2}break;case 3:{const[a,l,c,u]=i.slice(s,s+4);r.push(d=>d.quadraticCurveTo(a,l,c,u)),s+=4}break;case 4:r.push(a=>a.restore());break;case 5:r.push(a=>a.save());break;case 6:ct(2===r.length,"Scale command is only valid at the third position.");break;case 7:{const[a,l,c,u,d,h]=i.slice(s,s+6);r.push(f=>f.transform(a,l,c,u,d,h)),s+=6}break;case 8:{const[a,l]=i.slice(s,s+2);r.push(c=>c.translate(a,l)),s+=2}}return this.compiledGlyphs[t]=function(o,a){r[0](o),r[1](o),o.scale(a,-a);for(let l=2,c=r.length;l<c;l++)r[l](o)}}}if(Mt){var dm=Promise.withResolvers(),hm=null;(function(){var e=N(function*(){const t=yield import("fs"),i=yield import("http"),r=yield import("https"),s=yield import("url");return new Map(Object.entries({fs:t,http:i,https:r,url:s,canvas:void 0,path2d:void 0}))});return function(){return e.apply(this,arguments)}})()().then(e=>{hm=e,dm.resolve()},e=>{se(`loadPackages: ${e}`),hm=new Map,dm.resolve()})}class lr{static get promise(){return dm.promise}static get(e){return hm?.get(e)}}const NS=function(n){return lr.get("fs").promises.readFile(n).then(t=>new Uint8Array(t))};function fm(n,e){if(!e)return;const t=e[2]-e[0],i=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],t,i),n.clip(r)}class pm{getPattern(){tt("Abstract method `getPattern` called.")}}class m$ extends pm{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;"axial"===this._type?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)t.addColorStop(i[0],i[1]);return t}getPattern(e,t,i,r){let s;if("Stroke"===r||"Fill"===r){const o=t.current.getClippedPathBoundingBox(r,je(e))||[0,0,0,0],a=Math.ceil(o[2]-o[0])||1,l=Math.ceil(o[3]-o[1])||1,c=t.cachedCanvases.getCanvas("pattern",a,l,!0),u=c.context;u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),u.rect(0,0,u.canvas.width,u.canvas.height),u.translate(-o[0],-o[1]),i=B.transform(i,[1,0,0,1,o[0],o[1]]),u.transform(...t.baseTransform),this.matrix&&u.transform(...this.matrix),fm(u,this._bbox),u.fillStyle=this._createGradient(u),u.fill(),s=e.createPattern(c.canvas,"no-repeat");const d=new DOMMatrix(i);s.setTransform(d)}else fm(e,this._bbox),s=this._createGradient(e);return s}}function gm(n,e,t,i,r,s,o,a){const l=e.coords,c=e.colors,u=n.data,d=4*n.width;let h;l[t+1]>l[i+1]&&(h=t,t=i,i=h,h=s,s=o,o=h),l[i+1]>l[r+1]&&(h=i,i=r,r=h,h=o,o=a,a=h),l[t+1]>l[i+1]&&(h=t,t=i,i=h,h=s,s=o,o=h);const f=(l[t]+e.offsetX)*e.scaleX,p=(l[t+1]+e.offsetY)*e.scaleY,g=(l[i]+e.offsetX)*e.scaleX,v=(l[i+1]+e.offsetY)*e.scaleY,m=(l[r]+e.offsetX)*e.scaleX,y=(l[r+1]+e.offsetY)*e.scaleY;if(p>=y)return;const b=c[s],_=c[s+1],w=c[s+2],D=c[o],S=c[o+1],T=c[o+2],E=c[a],R=c[a+1],L=c[a+2],ye=Math.round(p),De=Math.round(y);let _e,Ge,Pt,te,re,cd,ud,dd;for(let Ut=ye;Ut<=De;Ut++){if(Ut<v){const dt=Ut<p?0:(p-Ut)/(p-v);_e=f-(f-g)*dt,Ge=b-(b-D)*dt,Pt=_-(_-S)*dt,te=w-(w-T)*dt}else{let dt;dt=Ut>y?1:v===y?0:(v-Ut)/(v-y),_e=g-(g-m)*dt,Ge=D-(D-E)*dt,Pt=S-(S-R)*dt,te=T-(T-L)*dt}let wt;wt=Ut<p?0:Ut>y?1:(p-Ut)/(p-y),re=f-(f-m)*wt,cd=b-(b-E)*wt,ud=_-(_-R)*wt,dd=w-(w-L)*wt;const hd=Math.round(Math.min(_e,re)),$r=Math.round(Math.max(_e,re));let dr=d*Ut+4*hd;for(let dt=hd;dt<=$r;dt++)wt=(_e-dt)/(_e-re),wt<0?wt=0:wt>1&&(wt=1),u[dr++]=Ge-(Ge-cd)*wt|0,u[dr++]=Pt-(Pt-ud)*wt|0,u[dr++]=te-(te-dd)*wt|0,u[dr++]=255}}function v$(n,e,t){const i=e.coords,r=e.colors;let s,o;switch(e.type){case"lattice":const a=e.verticesPerRow,l=Math.floor(i.length/a)-1,c=a-1;for(s=0;s<l;s++){let u=s*a;for(let d=0;d<c;d++,u++)gm(n,t,i[u],i[u+1],i[u+a],r[u],r[u+1],r[u+a]),gm(n,t,i[u+a+1],i[u+1],i[u+a],r[u+a+1],r[u+1],r[u+a])}break;case"triangles":for(s=0,o=i.length;s<o;s+=3)gm(n,t,i[s],i[s+1],i[s+2],r[s],r[s+1],r[s+2]);break;default:throw new Error("illegal figure")}}class y$ extends pm{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,i){const a=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-a,u=Math.ceil(this._bounds[3])-l,d=Math.min(Math.ceil(Math.abs(c*e[0]*1.1)),3e3),h=Math.min(Math.ceil(Math.abs(u*e[1]*1.1)),3e3),f=c/d,p=u/h,g={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-l,scaleX:1/f,scaleY:1/p},y=i.getCanvas("mesh",d+4,h+4,!1),b=y.context,_=b.createImageData(d,h);if(t){const D=_.data;for(let S=0,T=D.length;S<T;S+=4)D[S]=t[0],D[S+1]=t[1],D[S+2]=t[2],D[S+3]=255}for(const D of this._figures)v$(_,D,g);return b.putImageData(_,2,2),{canvas:y.canvas,offsetX:a-2*f,offsetY:l-2*p,scaleX:f,scaleY:p}}getPattern(e,t,i,r){let s;if(fm(e,this._bbox),"Shading"===r)s=B.singularValueDecompose2dScale(je(e));else if(s=B.singularValueDecompose2dScale(t.baseTransform),this.matrix){const a=B.singularValueDecompose2dScale(this.matrix);s=[s[0]*a[0],s[1]*a[1]]}const o=this._createMeshCanvas(s,"Shading"===r?null:this._background,t.cachedCanvases);return"Shading"!==r&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class b$ extends pm{getPattern(){return"hotpink"}}let w$=(()=>{class n{static MAX_PATTERN_SIZE=3e3;constructor(t,i,r,s,o){this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=i,this.ctx=r,this.canvasGraphicsFactory=s,this.baseTransform=o}createPatternCanvas(t){const i=this.operatorList,r=this.bbox,s=this.xstep,o=this.ystep,a=this.paintType,c=this.color,u=this.canvasGraphicsFactory;Vu("TilingType: "+this.tilingType);const d=r[0],h=r[1],f=r[2],p=r[3],g=B.singularValueDecompose2dScale(this.matrix),v=B.singularValueDecompose2dScale(this.baseTransform),m=[g[0]*v[0],g[1]*v[1]],y=this.getSizeAndScale(s,this.ctx.canvas.width,m[0]),b=this.getSizeAndScale(o,this.ctx.canvas.height,m[1]),_=t.cachedCanvases.getCanvas("pattern",y.size,b.size,!0),w=_.context,D=u.createCanvasGraphics(w);D.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(D,a,c);let S=d,T=h,E=f,R=p;return d<0&&(S=0,E+=Math.abs(d)),h<0&&(T=0,R+=Math.abs(h)),w.translate(-y.scale*S,-b.scale*T),D.transform(y.scale,0,0,b.scale,0,0),w.save(),this.clipBbox(D,S,T,E,R),D.baseTransform=je(D.ctx),D.executeOperatorList(i),D.endDrawing(),{canvas:_.canvas,scaleX:y.scale,scaleY:b.scale,offsetX:S,offsetY:T}}getSizeAndScale(t,i,r){t=Math.abs(t);const s=Math.max(n.MAX_PATTERN_SIZE,i);let o=Math.ceil(t*r);return o>=s?o=s:r=o/t,{scale:r,size:o}}clipBbox(t,i,r,s,o){t.ctx.rect(i,r,s-i,o-r),t.current.updateRectMinMax(je(t.ctx),[i,r,s,o]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,i,r){const s=t.ctx,o=t.current;switch(i){case 1:const a=this.ctx;s.fillStyle=a.fillStyle,s.strokeStyle=a.strokeStyle,o.fillColor=a.fillStyle,o.strokeColor=a.strokeStyle;break;case 2:const l=B.makeHexColor(r[0],r[1],r[2]);s.fillStyle=l,s.strokeStyle=l,o.fillColor=l,o.strokeColor=l;break;default:throw new zU(`Unsupported paint type: ${i}`)}}getPattern(t,i,r,s){let o=r;"Shading"!==s&&(o=B.transform(o,i.baseTransform),this.matrix&&(o=B.transform(o,this.matrix)));const a=this.createPatternCanvas(i);let l=new DOMMatrix(o);l=l.translate(a.offsetX,a.offsetY),l=l.scale(1/a.scaleX,1/a.scaleY);const c=t.createPattern(a.canvas,"repeat");return c.setTransform(l),c}}return n})();function LS({src:n,srcPos:e=0,dest:t,width:i,height:r,nonBlackColor:s=4294967295,inverseDecode:o=!1}){const a=en.isLittleEndian?4278190080:255,[l,c]=o?[s,a]:[a,s],u=i>>3,d=7&i,h=n.length;t=new Uint32Array(t.buffer);let f=0;for(let p=0;p<r;p++){for(const v=e+u;e<v;e++){const m=e<h?n[e]:255;t[f++]=128&m?c:l,t[f++]=64&m?c:l,t[f++]=32&m?c:l,t[f++]=16&m?c:l,t[f++]=8&m?c:l,t[f++]=4&m?c:l,t[f++]=2&m?c:l,t[f++]=1&m?c:l}if(0===d)continue;const g=e<h?n[e++]:255;for(let v=0;v<d;v++)t[f++]=g&1<<7-v?c:l}return{srcPos:e,destPos:f}}class D${constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,i){let r;return void 0!==this.cache[e]?(r=this.cache[e],this.canvasFactory.reset(r,t,i)):(r=this.canvasFactory.create(t,i),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache)this.canvasFactory.destroy(this.cache[e]),delete this.cache[e]}}function $u(n,e,t,i,r,s,o,a,l,c){const[u,d,h,f,p,g]=je(n);if(0===d&&0===h){const b=Math.round(o*u+p),w=Math.round(a*f+g),S=Math.abs(Math.round((o+l)*u+p)-b)||1,E=Math.abs(Math.round((a+c)*f+g)-w)||1;return n.setTransform(Math.sign(u),0,0,Math.sign(f),b,w),n.drawImage(e,t,i,r,s,0,0,S,E),n.setTransform(u,d,h,f,p,g),[S,E]}if(0===u&&0===f){const b=Math.round(a*h+p),w=Math.round(o*d+g),S=Math.abs(Math.round((a+c)*h+p)-b)||1,E=Math.abs(Math.round((o+l)*d+g)-w)||1;return n.setTransform(0,Math.sign(d),Math.sign(h),0,b,w),n.drawImage(e,t,i,r,s,0,0,E,S),n.setTransform(u,d,h,f,p,g),[E,S]}return n.drawImage(e,t,i,r,s,o,a,l,c),[Math.hypot(u,d)*l,Math.hypot(h,f)*c]}class HS{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=mS,this.textMatrixScale=1,this.fontMatrix=Kg,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=0,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,i){[t,i]=B.applyTransform([t,i],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,i),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,i)}updateRectMinMax(e,t){const i=B.applyTransform(t,e),r=B.applyTransform(t.slice(2),e),s=B.applyTransform([t[0],t[3]],e),o=B.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,i[0],r[0],s[0],o[0]),this.minY=Math.min(this.minY,i[1],r[1],s[1],o[1]),this.maxX=Math.max(this.maxX,i[0],r[0],s[0],o[0]),this.maxY=Math.max(this.maxY,i[1],r[1],s[1],o[1])}updateScalingPathMinMax(e,t){B.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,i,r,s,o,a,l,c,u){const d=B.bezierBoundingBox(t,i,r,s,o,a,l,c,u);u||this.updateRectMinMax(e,d)}getPathBoundingBox(e="Fill",t=null){const i=[this.minX,this.minY,this.maxX,this.maxY];if("Stroke"===e){t||tt("Stroke bounding box must include transform.");const r=B.singularValueDecompose2dScale(t),s=r[0]*this.lineWidth/2,o=r[1]*this.lineWidth/2;i[0]-=s,i[1]-=o,i[2]+=s,i[3]+=o}return i}updateClipFromPath(){const e=B.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e="Fill",t=null){return B.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function US(n,e){if(typeof ImageData<"u"&&e instanceof ImageData)return void n.putImageData(e,0,0);const t=e.height,i=e.width,r=t%16,s=(t-r)/16,o=0===r?s:s+1,a=n.createImageData(i,16);let c,l=0;const u=e.data,d=a.data;let h,f,p,g;if(e.kind===ku.GRAYSCALE_1BPP){const v=u.byteLength,m=new Uint32Array(d.buffer,0,d.byteLength>>2),y=m.length,b=i+7>>3,_=4294967295,w=en.isLittleEndian?4278190080:255;for(h=0;h<o;h++){for(p=h<s?16:r,c=0,f=0;f<p;f++){const D=v-l;let S=0;const T=D>b?i:8*D-7,E=-8&T;let R=0,L=0;for(;S<E;S+=8)L=u[l++],m[c++]=128&L?_:w,m[c++]=64&L?_:w,m[c++]=32&L?_:w,m[c++]=16&L?_:w,m[c++]=8&L?_:w,m[c++]=4&L?_:w,m[c++]=2&L?_:w,m[c++]=1&L?_:w;for(;S<T;S++)0===R&&(L=u[l++],R=128),m[c++]=L&R?_:w,R>>=1}for(;c<y;)m[c++]=0;n.putImageData(a,0,16*h)}}else if(e.kind===ku.RGBA_32BPP){for(f=0,g=16*i*4,h=0;h<s;h++)d.set(u.subarray(l,l+g)),l+=g,n.putImageData(a,0,f),f+=16;h<o&&(g=i*r*4,d.set(u.subarray(l,l+g)),n.putImageData(a,0,f))}else{if(e.kind!==ku.RGB_24BPP)throw new Error(`bad image kind: ${e.kind}`);for(p=16,g=i*p,h=0;h<o;h++){for(h>=s&&(p=r,g=i*p),c=0,f=g;f--;)d[c++]=u[l++],d[c++]=u[l++],d[c++]=u[l++],d[c++]=255;n.putImageData(a,0,16*h)}}}function $S(n,e){if(e.bitmap)return void n.drawImage(e.bitmap,0,0);const t=e.height,i=e.width,r=t%16,s=(t-r)/16,o=0===r?s:s+1,a=n.createImageData(i,16);let l=0;const c=e.data,u=a.data;for(let d=0;d<o;d++){const h=d<s?16:r;({srcPos:l}=LS({src:c,srcPos:l,dest:u,width:i,height:h,nonBlackColor:0})),n.putImageData(a,0,16*d)}}function Ka(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of t)void 0!==n[i]&&(e[i]=n[i]);void 0!==n.setLineDash&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function zu(n){if(n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",void 0!==n.setLineDash&&(n.setLineDash([]),n.lineDashOffset=0),!Mt){const{filter:e}=n;"none"!==e&&""!==e&&(n.filter="none")}}function zS(n,e){if(e)return!0;const t=B.singularValueDecompose2dScale(n);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const i=Math.fround((globalThis.devicePixelRatio||1)*no.PDF_TO_CSS_UNITS);return t[0]<=i&&t[1]<=i}const M$=["butt","round","square"],x$=["miter","round","bevel"],I$={},GS={};class io{constructor(e,t,i,r,s,{optionalContentConfig:o,markedContentStack:a=null},l,c){this.ctx=e,this.current=new HS(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=i,this.canvasFactory=r,this.filterFactory=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=o,this.cachedCanvases=new D$(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return"string"==typeof e?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:i=!1,background:r=null}){const s=this.ctx.canvas.width,o=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,s,o),this.ctx.fillStyle=a,i){const l=this.cachedCanvases.getCanvas("transparent",s,o);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...je(this.compositeCtx))}this.ctx.save(),zu(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=je(this.ctx)}executeOperatorList(e,t,i,r){const s=e.argsArray,o=e.fnArray;let a=t||0;const l=s.length;if(l===a)return a;const c=l-a>10&&"function"==typeof i,u=c?Date.now()+15:0;let d=0;const h=this.commonObjs,f=this.objs;let p;for(;;){if(void 0!==r&&a===r.nextBreakPoint)return r.breakIt(a,i),a;if(p=o[a],p!==Gn.dependency)this[p].apply(this,s[a]);else for(const g of s[a]){const v=g.startsWith("g_")?h:f;if(!v.has(g))return v.get(g,i),a}if(a++,a===l)return a;if(c&&++d>10){if(Date.now()>u)return i(),a;d=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if("none"!==e){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}}_scaleImage(e,t){const i=e.width,r=e.height;let u,d,s=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),a=i,l=r,c="prescale1";for(;s>2&&a>1||o>2&&l>1;){let h=a,f=l;s>2&&a>1&&(h=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),s/=a/h),o>2&&l>1&&(f=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,o/=l/f),u=this.cachedCanvases.getCanvas(c,h,f),d=u.context,d.clearRect(0,0,h,f),d.drawImage(e,0,0,a,l,0,0,h,f),e=u.canvas,a=h,l=f,c="prescale1"===c?"prescale2":"prescale1"}return{img:e,paintWidth:a,paintHeight:l}}_createMaskCanvas(e){const t=this.ctx,{width:i,height:r}=e,s=this.current.fillColor,o=this.current.patternFill,a=je(t);let l,c,u,d;if((e.bitmap||e.data)&&e.count>1){const T=e.bitmap||e.data.buffer;c=JSON.stringify(o?a:[a.slice(0,4),s]),l=this._cachedBitmapsMap.get(T),l||(l=new Map,this._cachedBitmapsMap.set(T,l));const E=l.get(c);if(E&&!o)return{canvas:E,offsetX:Math.round(Math.min(a[0],a[2])+a[4]),offsetY:Math.round(Math.min(a[1],a[3])+a[5])};u=E}u||(d=this.cachedCanvases.getCanvas("maskCanvas",i,r),$S(d.context,e));let h=B.transform(a,[1/i,0,0,-1/r,0,0]);h=B.transform(h,[1,0,0,1,0,-r]);const[f,p,g,v]=B.getAxialAlignedBoundingBox([0,0,i,r],h),m=Math.round(g-f)||1,y=Math.round(v-p)||1,b=this.cachedCanvases.getCanvas("fillCanvas",m,y),_=b.context,w=f,D=p;_.translate(-w,-D),_.transform(...h),u||(u=this._scaleImage(d.canvas,Oi(_)),u=u.img,l&&o&&l.set(c,u)),_.imageSmoothingEnabled=zS(je(_),e.interpolate),$u(_,u,0,0,u.width,u.height,0,0,i,r),_.globalCompositeOperation="source-in";const S=B.transform(Oi(_),[1,0,0,1,-w,-D]);return _.fillStyle=o?s.getPattern(t,this,S,"Fill"):s,_.fillRect(0,0,i,r),l&&!o&&(this.cachedCanvases.delete("fillCanvas"),l.set(c,b.canvas)),{canvas:b.canvas,offsetX:Math.round(w),offsetY:Math.round(D)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=M$[e]}setLineJoin(e){this.ctx.lineJoin=x$[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const i=this.ctx;void 0!==i.setLineDash&&(i.setLineDash(e),i.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,i]of e)switch(t){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=i;break;case"ca":this.current.fillAlpha=i,this.ctx.globalAlpha=i;break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i)}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const r=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height);this.suspendedCtx=this.ctx,this.ctx=r.context;const s=this.ctx;s.setTransform(...je(this.suspendedCtx)),Ka(this.suspendedCtx,s),function A$(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(i,r){e.translate(i,r),this.__originalTranslate(i,r)},n.scale=function(i,r){e.scale(i,r),this.__originalScale(i,r)},n.transform=function(i,r,s,o,a,l){e.transform(i,r,s,o,a,l),this.__originalTransform(i,r,s,o,a,l)},n.setTransform=function(i,r,s,o,a,l){e.setTransform(i,r,s,o,a,l),this.__originalSetTransform(i,r,s,o,a,l)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(i){e.rotate(i),this.__originalRotate(i)},n.clip=function(i){e.clip(i),this.__originalClip(i)},n.moveTo=function(t,i){e.moveTo(t,i),this.__originalMoveTo(t,i)},n.lineTo=function(t,i){e.lineTo(t,i),this.__originalLineTo(t,i)},n.bezierCurveTo=function(t,i,r,s,o,a){e.bezierCurveTo(t,i,r,s,o,a),this.__originalBezierCurveTo(t,i,r,s,o,a)},n.rect=function(t,i,r,s){e.rect(t,i,r,s),this.__originalRect(t,i,r,s)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Ka(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){this.current.activeSMask&&(e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],this.composeSMask(this.suspendedCtx,this.current.activeSMask,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}composeSMask(e,t,i,r){const s=r[0],o=r[1],a=r[2]-s,l=r[3]-o;0===a||0===l||(this.genericComposeSMask(t.context,i,a,l,t.subtype,t.backdrop,t.transferMap,s,o,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(i.canvas,0,0),e.restore())}genericComposeSMask(e,t,i,r,s,o,a,l,c,u,d){let h=e.canvas,f=l-u,p=c-d;if(o)if(f<0||p<0||f+i>h.width||p+r>h.height){const v=this.cachedCanvases.getCanvas("maskExtension",i,r),m=v.context;m.drawImage(h,-f,-p),o.some(y=>0!==y)&&(m.globalCompositeOperation="destination-atop",m.fillStyle=B.makeHexColor(...o),m.fillRect(0,0,i,r),m.globalCompositeOperation="source-over"),h=v.canvas,f=p=0}else if(o.some(v=>0!==v)){e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const v=new Path2D;v.rect(f,p,i,r),e.clip(v),e.globalCompositeOperation="destination-atop",e.fillStyle=B.makeHexColor(...o),e.fillRect(f,p,i,r),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),"Alpha"===s&&a?t.filter=this.filterFactory.addAlphaFilter(a):"Luminosity"===s&&(t.filter=this.filterFactory.addLuminosityFilter(a));const g=new Path2D;g.rect(l,c,i,r),t.clip(g),t.globalCompositeOperation="destination-in",t.drawImage(h,f,p,i,r,l,c,i,r),t.restore()}save(){this.inSMaskMode?(Ka(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Ka(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,i,r,s,o){this.ctx.transform(e,t,i,r,s,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,i){const r=this.ctx,s=this.current;let l,c,o=s.x,a=s.y;const u=je(r),d=0===u[0]&&0===u[3]||0===u[1]&&0===u[2],h=d?i.slice(0):null;for(let f=0,p=0,g=e.length;f<g;f++)switch(0|e[f]){case Gn.rectangle:o=t[p++],a=t[p++];const v=t[p++],m=t[p++],y=o+v,b=a+m;r.moveTo(o,a),0===v||0===m?r.lineTo(y,b):(r.lineTo(y,a),r.lineTo(y,b),r.lineTo(o,b)),d||s.updateRectMinMax(u,[o,a,y,b]),r.closePath();break;case Gn.moveTo:o=t[p++],a=t[p++],r.moveTo(o,a),d||s.updatePathMinMax(u,o,a);break;case Gn.lineTo:o=t[p++],a=t[p++],r.lineTo(o,a),d||s.updatePathMinMax(u,o,a);break;case Gn.curveTo:l=o,c=a,o=t[p+4],a=t[p+5],r.bezierCurveTo(t[p],t[p+1],t[p+2],t[p+3],o,a),s.updateCurvePathMinMax(u,l,c,t[p],t[p+1],t[p+2],t[p+3],o,a,h),p+=6;break;case Gn.curveTo2:l=o,c=a,r.bezierCurveTo(o,a,t[p],t[p+1],t[p+2],t[p+3]),s.updateCurvePathMinMax(u,l,c,o,a,t[p],t[p+1],t[p+2],t[p+3],h),o=t[p+2],a=t[p+3],p+=4;break;case Gn.curveTo3:l=o,c=a,o=t[p+2],a=t[p+3],r.bezierCurveTo(t[p],t[p+1],o,a,o,a),s.updateCurvePathMinMax(u,l,c,t[p],t[p+1],o,a,o,a,h),p+=4;break;case Gn.closePath:r.closePath()}d&&s.updateScalingPathMinMax(u,h),s.setCurrentPoint(o,a)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,i=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof i&&i?.getPattern?(t.save(),t.strokeStyle=i.getPattern(t,this,Oi(t),"Stroke"),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,i=this.current.fillColor;let s=!1;this.current.patternFill&&(t.save(),t.fillStyle=i.getPattern(t,this,Oi(t),"Fill"),s=!0);const o=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==o&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),s&&t.restore(),e&&this.consumePath(o)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=I$}eoClip(){this.pendingClip=GS}beginText(){this.current.textMatrix=mS,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(void 0!==e){t.save(),t.beginPath();for(const i of e)t.setTransform(...i.transform),t.translate(i.x,i.y),i.addToPath(t,i.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}else t.beginPath()}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){const i=this.commonObjs.get(e),r=this.current;if(!i)throw new Error(`Can't find font for ${e}`);if(r.fontMatrix=i.fontMatrix||Kg,(0===r.fontMatrix[0]||0===r.fontMatrix[3])&&se("Invalid font matrix for font "+e),t<0?(t=-t,r.fontDirection=-1):r.fontDirection=1,this.current.font=i,this.current.fontSize=t,i.isType3Font)return;const s=i.loadedName||"sans-serif",o=i.systemFontInfo?.css||`"${s}", ${i.fallbackName}`;let a="normal";i.black?a="900":i.bold&&(a="bold");const l=i.italic?"italic":"normal";let c=t;t<16?c=16:t>100&&(c=100),this.current.fontSizeScale=t/c,this.ctx.font=`${l} ${a} ${c}px ${o}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,i,r,s,o){this.current.textMatrix=[e,t,i,r,s,o],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,i,r){const s=this.ctx,o=this.current,a=o.font,l=o.textRenderingMode,c=o.fontSize/o.fontSizeScale,u=3&l,d=!!(4&l),h=o.patternFill&&!a.missingFile;let f;(a.disableFontFace||d||h)&&(f=a.getPathGenerator(this.commonObjs,e)),a.disableFontFace||h?(s.save(),s.translate(t,i),s.beginPath(),f(s,c),r&&s.setTransform(...r),(0===u||2===u)&&s.fill(),(1===u||2===u)&&s.stroke(),s.restore()):((0===u||2===u)&&s.fillText(e,t,i),(1===u||2===u)&&s.strokeText(e,t,i)),d&&(this.pendingTextPaths||=[]).push({transform:je(s),x:t,y:i,fontSize:c,addToPath:f})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let i=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){i=!0;break}return he(this,"isFontSubpixelAAEnabled",i)}showText(e){const t=this.current,i=t.font;if(i.isType3Font)return this.showType3Text(e);const r=t.fontSize;if(0===r)return;const s=this.ctx,o=t.fontSizeScale,a=t.charSpacing,l=t.wordSpacing,c=t.fontDirection,u=t.textHScale*c,d=e.length,h=i.vertical,f=h?1:-1,p=i.defaultVMetrics,g=r*t.fontMatrix[0],v=0===t.textRenderingMode&&!i.disableFontFace&&!t.patternFill;let m;if(s.save(),s.transform(...t.textMatrix),s.translate(t.x,t.y+t.textRise),s.scale(u,c>0?-1:1),t.patternFill){s.save();const D=t.fillColor.getPattern(s,this,Oi(s),"Fill");m=je(s),s.restore(),s.fillStyle=D}let y=t.lineWidth;const b=t.textMatrixScale;if(0===b||0===y){const D=3&t.textRenderingMode;(1===D||2===D)&&(y=this.getSinglePixelWidth())}else y/=b;if(1!==o&&(s.scale(o,o),y/=o),s.lineWidth=y,i.isInvalidPDFjsFont){const D=[];let S=0;for(const T of e)D.push(T.unicode),S+=T.width;return s.fillText(D.join(""),0,0),t.x+=S*g*u,s.restore(),void this.compose()}let w,_=0;for(w=0;w<d;++w){const D=e[w];if("number"==typeof D){_+=f*D*r/1e3;continue}let S=!1;const T=(D.isSpace?l:0)+a,E=D.fontChar,R=D.accent;let L,ye,De=D.width;if(h){const Ge=D.vmetric||p,Pt=-(D.vmetric?Ge[1]:.5*De)*g;De=Ge?-Ge[0]:De,L=Pt/o,ye=(_+Ge[2]*g)/o}else L=_/o,ye=0;if(i.remeasure&&De>0){const Ge=1e3*s.measureText(E).width/r*o;if(De<Ge&&this.isFontSubpixelAAEnabled){const Pt=De/Ge;S=!0,s.save(),s.scale(Pt,1),L/=Pt}else De!==Ge&&(L+=(De-Ge)/2e3*r/o)}this.contentVisible&&(D.isInFont||i.missingFile)&&(v&&!R?s.fillText(E,L,ye):(this.paintChar(E,L,ye,m),R&&this.paintChar(R.fontChar,L+r*R.offset.x/o,ye-r*R.offset.y/o,m))),_+=h?De*g-T*c:De*g+T*c,S&&s.restore()}h?t.y-=_:t.x+=_*u,s.restore(),this.compose()}showType3Text(e){const t=this.ctx,i=this.current,r=i.font,s=i.fontSize,o=i.fontDirection,a=r.vertical?1:-1,l=i.charSpacing,c=i.wordSpacing,u=i.textHScale*o,d=i.fontMatrix||Kg,h=e.length;let p,g,v,m;if(3!==i.textRenderingMode&&0!==s){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...i.textMatrix),t.translate(i.x,i.y),t.scale(u,o),p=0;p<h;++p){if(g=e[p],"number"==typeof g){m=a*g*s/1e3,this.ctx.translate(m,0),i.x+=m*u;continue}const y=(g.isSpace?c:0)+l,b=r.charProcOperatorList[g.operatorListId];b?(this.contentVisible&&(this.processingType3=g,this.save(),t.scale(s,s),t.transform(...d),this.executeOperatorList(b),this.restore()),v=B.applyTransform([g.width,0],d)[0]*s+y,t.translate(v,0),i.x+=v*u):se(`Type3 character "${g.operatorListId}" is not available.`)}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,i,r,s,o){this.ctx.rect(i,r,s-i,o-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if("TilingPattern"===e[0]){const i=e[1],r=this.baseTransform||je(this.ctx);t=new w$(e,i,this.ctx,{createCanvasGraphics:o=>new io(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})},r)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,i){this.ctx.strokeStyle=this.current.strokeColor=B.makeHexColor(e,t,i)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(e,t,i){this.ctx.fillStyle=this.current.fillColor=B.makeHexColor(e,t,i),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let i;return this.cachedPatterns.has(e)?i=this.cachedPatterns.get(e):(i=function _$(n){switch(n[0]){case"RadialAxial":return new m$(n);case"Mesh":return new y$(n);case"Dummy":return new b$}throw new Error(`Unknown IR type: ${n[0]}`)}(this.getObject(e)),this.cachedPatterns.set(e,i)),t&&(i.matrix=t),i}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const i=this._getPattern(e);t.fillStyle=i.getPattern(t,this,Oi(t),"Shading");const r=Oi(t);if(r){const{width:s,height:o}=t.canvas,[a,l,c,u]=B.getAxialAlignedBoundingBox([0,0,s,o],r);this.ctx.fillRect(a,l,c-a,u-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){tt("Should not call beginInlineImage")}beginImageData(){tt("Should not call beginImageData")}paintFormXObjectBegin(e,t){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=je(this.ctx),t)&&(this.ctx.rect(t[0],t[1],t[2]-t[0],t[3]-t[1]),this.current.updateRectMinMax(je(this.ctx),t),this.clip(),this.endPath())}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||Vu("TODO: Support non-isolated groups."),e.knockout&&se("Knockout groups not supported.");const i=je(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let r=B.getAxialAlignedBoundingBox(e.bbox,je(t));r=B.intersect(r,[0,0,t.canvas.width,t.canvas.height])||[0,0,0,0];const o=Math.floor(r[0]),a=Math.floor(r[1]),l=Math.max(Math.ceil(r[2])-o,1),c=Math.max(Math.ceil(r[3])-a,1);this.current.startNewPathAndClipBox([0,0,l,c]);let u="groupAt"+this.groupLevel;e.smask&&(u+="_smask_"+this.smaskCounter++%2);const d=this.cachedCanvases.getCanvas(u,l,c),h=d.context;h.translate(-o,-a),h.transform(...i),e.smask?this.smaskStack.push({canvas:d.canvas,context:h,offsetX:o,offsetY:a,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(o,a),t.save()),Ka(t,h),this.ctx=h,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=je(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const s=B.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],r);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,t,i,r,s){if(this.#e(),zu(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const o=t[2]-t[0],a=t[3]-t[1];if(s&&this.annotationCanvasMap){(i=i.slice())[4]-=t[0],i[5]-=t[1],(t=t.slice())[0]=t[1]=0,t[2]=o,t[3]=a;const[l,c]=B.singularValueDecompose2dScale(je(this.ctx)),{viewportScale:u}=this,d=Math.ceil(o*this.outputScaleX*u),h=Math.ceil(a*this.outputScaleY*u);this.annotationCanvas=this.canvasFactory.create(d,h);const{canvas:f,context:p}=this.annotationCanvas;this.annotationCanvasMap.set(e,f),this.annotationCanvas.savedCtx=this.ctx,this.ctx=p,this.ctx.save(),this.ctx.setTransform(l,0,0,-c,0,a*c),zu(this.ctx)}else zu(this.ctx),this.ctx.rect(t[0],t[1],o,a),this.ctx.clip(),this.endPath()}this.current=new HS(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...i),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;(e=this.getObject(e.data,e)).count=t;const i=this.ctx,r=this.processingType3;if(r&&(void 0===r.compiled&&(r.compiled=function S$(n){const{width:e,height:t}=n;if(e>1e3||t>1e3)return null;const r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=e+1;let a,l,c,o=new Uint8Array(s*(t+1));const u=e+7&-8;let d=new Uint8Array(u*t),h=0;for(const m of n.data){let y=128;for(;y>0;)d[h++]=m&y?0:255,y>>=1}let f=0;for(h=0,0!==d[h]&&(o[0]=1,++f),l=1;l<e;l++)d[h]!==d[h+1]&&(o[l]=d[h]?2:1,++f),h++;for(0!==d[h]&&(o[l]=2,++f),a=1;a<t;a++){h=a*u,c=a*s,d[h-u]!==d[h]&&(o[c]=d[h]?1:8,++f);let m=(d[h]?4:0)+(d[h-u]?8:0);for(l=1;l<e;l++)m=(m>>2)+(d[h+1]?4:0)+(d[h-u+1]?8:0),r[m]&&(o[c+l]=r[m],++f),h++;if(d[h-u]!==d[h]&&(o[c+l]=d[h]?2:4,++f),f>1e3)return null}for(h=u*(t-1),c=a*s,0!==d[h]&&(o[c]=8,++f),l=1;l<e;l++)d[h]!==d[h+1]&&(o[c+l]=d[h]?4:8,++f),h++;if(0!==d[h]&&(o[c+l]=4,++f),f>1e3)return null;const p=new Int32Array([0,s,-1,0,-s,0,0,0,1]),g=new Path2D;for(a=0;f&&a<=t;a++){let m=a*s;const y=m+e;for(;m<y&&!o[m];)m++;if(m===y)continue;g.moveTo(m%s,a);const b=m;let _=o[m];do{const w=p[_];do{m+=w}while(!o[m]);const D=o[m];5!==D&&10!==D?(_=D,o[m]=0):(_=D&51*_>>4,o[m]&=_>>2|_<<2),g.lineTo(m%s,m/s|0),o[m]||--f}while(b!==m);--a}return d=null,o=null,function(m){m.save(),m.scale(1/e,-1/t),m.translate(0,-t),m.fill(g),m.beginPath(),m.restore()}}(e)),r.compiled))return void r.compiled(i);const s=this._createMaskCanvas(e),o=s.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(o,s.offsetX,s.offsetY),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,i=0,r=0,s,o){if(!this.contentVisible)return;e=this.getObject(e.data,e);const a=this.ctx;a.save();const l=je(a);a.transform(t,i,r,s,0,0);const c=this._createMaskCanvas(e);a.setTransform(1,0,0,1,c.offsetX-l[4],c.offsetY-l[5]);for(let u=0,d=o.length;u<d;u+=2){const h=B.transform(l,[t,i,r,s,o[u],o[u+1]]),[f,p]=B.applyTransform([0,0],h);a.drawImage(c.canvas,f,p)}a.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,i=this.current.fillColor,r=this.current.patternFill;for(const s of e){const{data:o,width:a,height:l,transform:c}=s,u=this.cachedCanvases.getCanvas("maskCanvas",a,l),d=u.context;d.save(),$S(d,this.getObject(o,s)),d.globalCompositeOperation="source-in",d.fillStyle=r?i.getPattern(d,this,Oi(t),"Fill"):i,d.fillRect(0,0,a,l),d.restore(),t.save(),t.transform(...c),t.scale(1,-1),$u(t,u.canvas,0,0,a,l,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);t?this.paintInlineImageXObject(t):se("Dependent image isn't ready yet")}paintImageXObjectRepeat(e,t,i,r){if(!this.contentVisible)return;const s=this.getObject(e);if(!s)return void se("Dependent image isn't ready yet");const o=s.width,a=s.height,l=[];for(let c=0,u=r.length;c<u;c+=2)l.push({transform:[t,0,0,i,r[c],r[c+1]],x:0,y:0,w:o,h:a});this.paintInlineImageXObjectGroup(s,l)}applyTransferMapsToCanvas(e){return"none"!==this.current.transferMaps&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if("none"===this.current.transferMaps)return e.bitmap;const{bitmap:t,width:i,height:r}=e,s=this.cachedCanvases.getCanvas("inlineImage",i,r),o=s.context;return o.filter=this.current.transferMaps,o.drawImage(t,0,0),o.filter="none",s.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,i=e.height,r=this.ctx;if(this.save(),!Mt){const{filter:a}=r;"none"!==a&&""!==a&&(r.filter="none")}let s;if(r.scale(1/t,-1/i),e.bitmap)s=this.applyTransferMapsToBitmap(e);else if("function"==typeof HTMLElement&&e instanceof HTMLElement||!e.data)s=e;else{const l=this.cachedCanvases.getCanvas("inlineImage",t,i).context;US(l,e),s=this.applyTransferMapsToCanvas(l)}const o=this._scaleImage(s,Oi(r));r.imageSmoothingEnabled=zS(je(r),e.interpolate),$u(r,o.img,0,0,o.paintWidth,o.paintHeight,0,-i,t,i),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const i=this.ctx;let r;if(e.bitmap)r=e.bitmap;else{const l=this.cachedCanvases.getCanvas("inlineImage",e.width,e.height).context;US(l,e),r=this.applyTransferMapsToCanvas(l)}for(const s of t)i.save(),i.transform(...s.transform),i.scale(1,-1),$u(i,r,s.x,s.y,s.w,s.h,0,-1,1,1),i.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){this.markedContentStack.push("OC"===e?{visible:this.optionalContentConfig.isVisible(t)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const i=this.ctx;this.pendingClip&&(t||(this.pendingClip===GS?i.clip("evenodd"):i.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),i.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=je(this.ctx);if(0===e[1]&&0===e[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),i=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(i,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(-1===this._cachedScaleForStroking[0]){const{lineWidth:e}=this.current,{a:t,b:i,c:r,d:s}=this.ctx.getTransform();let o,a;if(0===i&&0===r){const l=Math.abs(t),c=Math.abs(s);if(l===c)if(0===e)o=a=1/l;else{const u=l*e;o=a=u<1?1/u:1}else if(0===e)o=1/l,a=1/c;else{const u=l*e,d=c*e;o=u<1?1/u:1,a=d<1?1/d:1}}else{const l=Math.abs(t*s-i*r),c=Math.hypot(t,i),u=Math.hypot(r,s);if(0===e)o=u/l,a=c/l;else{const d=e*l;o=u>d?u/d:1,a=c>d?c/d:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:i}=this.current,[r,s]=this.getScaleForStroking();if(t.lineWidth=i||1,1===r&&1===s)return void t.stroke();const o=t.getLineDash();if(e&&t.save(),t.scale(r,s),o.length>0){const a=Math.max(r,s);t.setLineDash(o.map(l=>l/a)),t.lineDashOffset/=a}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}for(const n in Gn)void 0!==io.prototype[n]&&(io.prototype[Gn[n]]=io.prototype[n]);class Xa{static#e=null;static#t="";static get workerPort(){return this.#e}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&null!==e)throw new Error("Invalid `workerPort` type.");this.#e=e}static get workerSrc(){return this.#t}static set workerSrc(e){if("string"!=typeof e)throw new Error("Invalid `workerSrc` type.");this.#t=e}}function pn(n){switch(n instanceof Error||"object"==typeof n&&null!==n||tt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new Lr(n.message);case"MissingPDFException":return new kr(n.message);case"PasswordException":return new Qg(n.message,n.code);case"UnexpectedResponseException":return new ju(n.message,n.status);case"UnknownErrorException":return new Zg(n.message,n.details);default:return new Zg(n.message,n.toString())}}class Qa{constructor(e,t,i){this.sourceName=e,this.targetName=t,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=r=>{const s=r.data;if(s.targetName!==this.sourceName)return;if(s.stream)return void this.#t(s);if(s.callback){const a=s.callbackId,l=this.callbackCapabilities[a];if(!l)throw new Error(`Cannot resolve callback ${a}`);if(delete this.callbackCapabilities[a],1===s.callback)l.resolve(s.data);else{if(2!==s.callback)throw new Error("Unexpected callback case");l.reject(pn(s.reason))}return}const o=this.actionHandler[s.action];if(!o)throw new Error(`Unknown action from worker: ${s.action}`);if(s.callbackId){const a=this.sourceName,l=s.sourceName;new Promise(function(c){c(o(s.data))}).then(function(c){i.postMessage({sourceName:a,targetName:l,callback:1,callbackId:s.callbackId,data:c})},function(c){i.postMessage({sourceName:a,targetName:l,callback:2,callbackId:s.callbackId,reason:pn(c)})})}else s.streamId?this.#e(s):o(s.data)},i.addEventListener("message",this._onComObjOnMessage)}on(e,t){const i=this.actionHandler;if(i[e])throw new Error(`There is already an actionName called "${e}"`);i[e]=t}send(e,t,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},i)}sendWithPromise(e,t,i){const r=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[r]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},i)}catch(o){s.reject(o)}return s.promise}sendWithStream(e,t,i,r){const s=this.streamId++,o=this.sourceName,a=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const u=Promise.withResolvers();return this.streamControllers[s]={controller:c,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:o,targetName:a,action:e,streamId:s,data:t,desiredSize:c.desiredSize},r),u.promise},pull:c=>{const u=Promise.withResolvers();return this.streamControllers[s].pullCall=u,l.postMessage({sourceName:o,targetName:a,stream:6,streamId:s,desiredSize:c.desiredSize}),u.promise},cancel:c=>{ct(c instanceof Error,"cancel must have a valid reason");const u=Promise.withResolvers();return this.streamControllers[s].cancelCall=u,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:o,targetName:a,stream:1,streamId:s,reason:pn(c)}),u.promise}},i)}#e(e){const t=e.streamId,i=this.sourceName,r=e.sourceName,s=this.comObj,o=this,a=this.actionHandler[e.action],l={enqueue(c,u=1,d){if(this.isCancelled)return;const h=this.desiredSize;this.desiredSize-=u,h>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:i,targetName:r,stream:4,streamId:t,chunk:c},d)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:3,streamId:t}),delete o.streamSinks[t])},error(c){ct(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:5,streamId:t,reason:pn(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,new Promise(function(c){c(a(e.data,l))}).then(function(){s.postMessage({sourceName:i,targetName:r,stream:8,streamId:t,success:!0})},function(c){s.postMessage({sourceName:i,targetName:r,stream:8,streamId:t,reason:pn(c)})})}#t(e){const t=e.streamId,i=this.sourceName,r=e.sourceName,s=this.comObj,o=this.streamControllers[t],a=this.streamSinks[t];switch(e.stream){case 8:e.success?o.startCall.resolve():o.startCall.reject(pn(e.reason));break;case 7:e.success?o.pullCall.resolve():o.pullCall.reject(pn(e.reason));break;case 6:if(!a){s.postMessage({sourceName:i,targetName:r,stream:7,streamId:t,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,new Promise(function(l){l(a.onPull?.())}).then(function(){s.postMessage({sourceName:i,targetName:r,stream:7,streamId:t,success:!0})},function(l){s.postMessage({sourceName:i,targetName:r,stream:7,streamId:t,reason:pn(l)})});break;case 4:if(ct(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case 3:if(ct(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),this.#n(o,t);break;case 5:ct(o,"error should have stream controller"),o.controller.error(pn(e.reason)),this.#n(o,t);break;case 2:e.success?o.cancelCall.resolve():o.cancelCall.reject(pn(e.reason)),this.#n(o,t);break;case 1:if(!a)break;new Promise(function(l){l(a.onCancel?.(pn(e.reason)))}).then(function(){s.postMessage({sourceName:i,targetName:r,stream:2,streamId:t,success:!0})},function(l){s.postMessage({sourceName:i,targetName:r,stream:2,streamId:t,reason:pn(l)})}),a.sinkCapability.reject(pn(e.reason)),a.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}#n(e,t){var i=this;return N(function*(){yield Promise.allSettled([e.startCall?.promise,e.pullCall?.promise,e.cancelCall?.promise]),delete i.streamControllers[t]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}class T${#e;#t;constructor({parsedData:e,rawData:t}){this.#e=e,this.#t=t}getRaw(){return this.#t}get(e){return this.#e.get(e)??null}getAll(){return Jg(this.#e)}has(e){return this.#e.has(e)}}const cr=Symbol("INTERNAL");class P${#e=!1;#t=!1;#n=!1;#i=!0;constructor(e,{name:t,intent:i,usage:r}){this.#e=!!(2&e),this.#t=!!(4&e),this.name=t,this.intent=i,this.usage=r}get visible(){if(this.#n)return this.#i;if(!this.#i)return!1;const{print:e,view:t}=this.usage;return this.#e?"OFF"!==t?.viewState:!this.#t||"OFF"!==e?.printState}_setVisible(e,t,i=!1){e!==cr&&tt("Internal method `_setVisible` called."),this.#n=i,this.#i=t}}class R${#e=null;#t=new Map;#n=null;#i=null;constructor(e,t=2){if(this.renderingIntent=t,this.name=null,this.creator=null,null!==e){this.name=e.name,this.creator=e.creator,this.#i=e.order;for(const i of e.groups)this.#t.set(i.id,new P$(t,i));if("OFF"===e.baseState)for(const i of this.#t.values())i._setVisible(cr,!1);for(const i of e.on)this.#t.get(i)._setVisible(cr,!0);for(const i of e.off)this.#t.get(i)._setVisible(cr,!1);this.#n=this.getHash()}}#r(e){const t=e.length;if(t<2)return!0;const i=e[0];for(let r=1;r<t;r++){const s=e[r];let o;if(Array.isArray(s))o=this.#r(s);else{if(!this.#t.has(s))return se(`Optional content group not found: ${s}`),!0;o=this.#t.get(s).visible}switch(i){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return"And"===i}isVisible(e){if(0===this.#t.size)return!0;if(!e)return Vu("Optional content group not defined."),!0;if("OCG"===e.type)return this.#t.has(e.id)?this.#t.get(e.id).visible:(se(`Optional content group not found: ${e.id}`),!0);if("OCMD"===e.type){if(e.expression)return this.#r(e.expression);if(!e.policy||"AnyOn"===e.policy){for(const t of e.ids){if(!this.#t.has(t))return se(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!0}return!1}if("AllOn"===e.policy){for(const t of e.ids){if(!this.#t.has(t))return se(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!1}return!0}if("AnyOff"===e.policy){for(const t of e.ids){if(!this.#t.has(t))return se(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!0}return!1}if("AllOff"===e.policy){for(const t of e.ids){if(!this.#t.has(t))return se(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!1}return!0}return se(`Unknown optional content policy ${e.policy}.`),!0}return se(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0){const i=this.#t.get(e);i?(i._setVisible(cr,!!t,!0),this.#e=null):se(`Optional content group not found: ${e}`)}setOCGState({state:e}){let i;for(const r of e){switch(r){case"ON":case"OFF":case"Toggle":i=r;continue}const s=this.#t.get(r);if(s)switch(i){case"ON":s._setVisible(cr,!0);break;case"OFF":s._setVisible(cr,!1);break;case"Toggle":s._setVisible(cr,!s.visible)}}this.#e=null}get hasInitialVisibility(){return null===this.#n||this.getHash()===this.#n}getOrder(){return this.#t.size?this.#i?this.#i.slice():[...this.#t.keys()]:null}getGroups(){return this.#t.size>0?Jg(this.#t):null}getGroup(e){return this.#t.get(e)||null}getHash(){if(null!==this.#e)return this.#e;const e=new RS;for(const[t,i]of this.#t)e.update(`${t}:${i.visible}`);return this.#e=e.hexdigest()}}class O${constructor(e,{disableRange:t=!1,disableStream:i=!1}){ct(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:s,progressiveDone:o,contentDispositionFilename:a}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=a,s?.length>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!i,this._isRangeSupported=!t,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),e.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const i=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;void 0===e?this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i):ct(this._rangeReaders.some(function(s){return s._begin===e&&(s._enqueue(i),!0)}),"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){void 0===e.total?this._rangeReaders[0]?.onProgress?.({loaded:e.loaded}):this._fullRequestReader?.onProgress?.({loaded:e.loaded,total:e.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){ct(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new N$(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new k$(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(i),i}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeReaders.slice(0))t.cancel(e);this._pdfDataRangeTransport.abort()}}class N${constructor(e,t,i=!1,r=null){this._stream=e,this._done=i||!1,this._filename=sm(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var e=this;return N(function*(){if(e._queuedChunks.length>0)return{value:e._queuedChunks.shift(),done:!1};if(e._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return e._requests.push(t),t.promise})()}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class k${constructor(e,t,i){this._stream=e,this._begin=t,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(0===this._requests.length)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var e=this;return N(function*(){if(e._queuedChunk){const i=e._queuedChunk;return e._queuedChunk=null,{value:i,done:!1}}if(e._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return e._requests.push(t),t.promise})()}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function mm({getResponseHeader:n,isHttp:e,rangeChunkSize:t,disableRange:i}){const r={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n("Content-Length"),10);return!Number.isInteger(s)||(r.suggestedLength=s,s<=2*t)||i||!e||"bytes"!==n("Accept-Ranges")||"identity"!==(n("Content-Encoding")||"identity")||(r.allowRangeRequests=!0),r}function vm(n){const e=n("Content-Disposition");if(e){let t=function L$(n){let e=!0,t=i("filename\\*","i").exec(n);if(t){t=t[1];let u=a(t);return u=unescape(u),u=l(u),u=c(u),s(u)}if(t=function o(u){const d=[];let h;const f=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(h=f.exec(u));){let[,g,v,m]=h;if(g=parseInt(g,10),g in d){if(0===g)break}else d[g]=[v,m]}const p=[];for(let g=0;g<d.length&&g in d;++g){let[v,m]=d[g];m=a(m),v&&(m=unescape(m),0===g&&(m=l(m))),p.push(m)}return p.join("")}(n),t)return s(c(t));if(t=i("filename","i").exec(n),t){t=t[1];let u=a(t);return u=c(u),s(u)}function i(u,d){return new RegExp("(?:^|;)\\s*"+u+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function r(u,d){if(u){if(!/^[\x00-\xFF]+$/.test(d))return d;try{const h=new TextDecoder(u,{fatal:!0}),f=$a(d);d=h.decode(f),e=!1}catch{}}return d}function s(u){return e&&/[\x80-\xff]/.test(u)&&(u=r("utf-8",u),e&&(u=r("iso-8859-1",u))),u}function a(u){if(u.startsWith('"')){const d=u.slice(1).split('\\"');for(let h=0;h<d.length;++h){const f=d[h].indexOf('"');-1!==f&&(d[h]=d[h].slice(0,f),d.length=h+1),d[h]=d[h].replaceAll(/\\(.)/g,"$1")}u=d.join('"')}return u}function l(u){const d=u.indexOf("'");return-1===d?u:r(u.slice(0,d),u.slice(d+1).replace(/^[^']*'/,""))}function c(u){return!u.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(u)?u:u.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,h,f,p){if("q"===f||"Q"===f)return r(h,p=(p=p.replaceAll("_"," ")).replaceAll(/=([0-9a-fA-F]{2})/g,function(g,v){return String.fromCharCode(parseInt(v,16))}));try{p=atob(p)}catch{}return r(h,p)})}return""}(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(sm(t))return t}return null}function Wu(n,e){return 404===n||0===n&&e.startsWith("file:")?new kr('Missing PDF "'+e+'".'):new ju(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n)}function WS(n){return 200===n||206===n}function qS(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function YS(n){const e=new Headers;for(const t in n){const i=n[t];void 0!==i&&e.append(t,i)}return e}function KS(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(se(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class XS{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return ct(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new F$(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new V$(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class F${constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=YS(this._stream.httpHeaders);const i=t.url;fetch(i,qS(this._headers,this._withCredentials,this._abortController)).then(r=>{if(!WS(r.status))throw Wu(r.status,i);this._reader=r.body.getReader(),this._headersCapability.resolve();const s=l=>r.headers.get(l),{allowRangeRequests:o,suggestedLength:a}=mm({getResponseHeader:s,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=a||this._contentLength,this._filename=vm(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Lr("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var e=this;return N(function*(){yield e._headersCapability.promise;const{value:t,done:i}=yield e._reader.read();return i?{value:t,done:i}:(e._loaded+=t.byteLength,e.onProgress?.({loaded:e._loaded,total:e._contentLength}),{value:KS(t),done:!1})})()}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class V${constructor(e,t,i){this._stream=e,this._reader=null,this._loaded=0;const r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController,this._headers=YS(this._stream.httpHeaders),this._headers.append("Range",`bytes=${t}-${i-1}`);const s=r.url;fetch(s,qS(this._headers,this._withCredentials,this._abortController)).then(o=>{if(!WS(o.status))throw Wu(o.status,s);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var e=this;return N(function*(){yield e._readCapability.promise;const{value:t,done:i}=yield e._reader.read();return i?{value:t,done:i}:(e._loaded+=t.byteLength,e.onProgress?.({loaded:e._loaded}),{value:KS(t),done:!1})})()}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class B${constructor(e,t={}){this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||Object.create(null),this.withCredentials=t.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,i){const r={begin:e,end:t};for(const s in i)r[s]=i[s];return this.request(r)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,i=this.currXhrId++,r=this.pendingRequests[i]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const s in this.httpHeaders){const o=this.httpHeaders[s];void 0!==o&&t.setRequestHeader(s,o)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=206):r.expectedStatus=200,t.responseType="arraybuffer",e.onError&&(t.onerror=function(s){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,i),t.onprogress=this.onProgress.bind(this,i),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),i}onProgress(e,t){const i=this.pendingRequests[e];i&&i.onProgress?.(t)}onStateChange(e,t){const i=this.pendingRequests[e];if(!i)return;const r=i.xhr;if(r.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),4!==r.readyState||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],0===r.status&&this.isHttp)return void i.onError?.(r.status);const s=r.status||200;if((200!==s||206!==i.expectedStatus)&&s!==i.expectedStatus)return void i.onError?.(r.status);const a=function j$(n){const e=n.response;return"string"!=typeof e?e:$a(e).buffer}(r);if(206===s){const l=r.getResponseHeader("Content-Range"),c=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);i.onDone({begin:parseInt(c[1],10),chunk:a})}else a?i.onDone({begin:0,chunk:a}):i.onError?.(r.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class H${constructor(e){this._source=e,this._manager=new B$(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return ct(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new U$(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const i=new $$(this._manager,e,t);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class U${constructor(e,t){this._manager=e;const i={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(i),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),i=o=>t.getResponseHeader(o),{allowRangeRequests:r,suggestedLength:s}=mm({getResponseHeader:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=vm(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Wu(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var e=this;return N(function*(){if(e._storedError)throw e._storedError;if(e._cachedChunks.length>0)return{value:e._cachedChunks.shift(),done:!1};if(e._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return e._requests.push(t),t.promise})()}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class $${constructor(e,t,i){this._manager=e;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,i,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=Wu(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}read(){var e=this;return N(function*(){if(e._storedError)throw e._storedError;if(null!==e._queuedChunk){const i=e._queuedChunk;return e._queuedChunk=null,{value:i,done:!1}}if(e._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return e._requests.push(t),t.promise})()}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const z$=/^[a-z][a-z0-9\-+.]+:/i;function QS(n,e,t){return"http:"===n.protocol?lr.get("http").request(n,{headers:e},t):lr.get("https").request(n,{headers:e},t)}class W${constructor(e){this.source=e,this.url=function G$(n){if(z$.test(n))return new URL(n);const e=lr.get("url");return new URL(e.pathToFileURL(n))}(e.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return ct(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new K$(this):new q$(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=this.isFsUrl?new X$(this,e,t):new Y$(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class ZS{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var e=this;return N(function*(){if(yield e._readCapability.promise,e._done)return{value:void 0,done:!0};if(e._storedError)throw e._storedError;const t=e._readableStream.read();return null===t?(e._readCapability=Promise.withResolvers(),e.read()):(e._loaded+=t.length,e.onProgress?.({loaded:e._loaded,total:e._contentLength}),{value:new Uint8Array(t).buffer,done:!1})})()}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Lr("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class JS{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!e.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var e=this;return N(function*(){if(yield e._readCapability.promise,e._done)return{value:void 0,done:!0};if(e._storedError)throw e._storedError;const t=e._readableStream.read();return null===t?(e._readCapability=Promise.withResolvers(),e.read()):(e._loaded+=t.length,e.onProgress?.({loaded:e._loaded}),{value:new Uint8Array(t).buffer,done:!1})})()}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class q$ extends ZS{constructor(e){super(e),this._request=QS(this._url,e.httpHeaders,i=>{if(404===i.statusCode){const a=new kr(`Missing PDF "${this._url}".`);return this._storedError=a,void this._headersCapability.reject(a)}this._headersCapability.resolve(),this._setReadableStream(i);const r=a=>this._readableStream.headers[a.toLowerCase()],{allowRangeRequests:s,suggestedLength:o}=mm({getResponseHeader:r,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=o||this._contentLength,this._filename=vm(r)}),this._request.on("error",i=>{this._storedError=i,this._headersCapability.reject(i)}),this._request.end()}}class Y$ extends JS{constructor(e,t,i){super(e),this._httpHeaders={};for(const s in e.httpHeaders){const o=e.httpHeaders[s];void 0!==o&&(this._httpHeaders[s]=o)}this._httpHeaders.Range=`bytes=${t}-${i-1}`,this._request=QS(this._url,this._httpHeaders,s=>{if(404!==s.statusCode)this._setReadableStream(s);else{const o=new kr(`Missing PDF "${this._url}".`);this._storedError=o}}),this._request.on("error",s=>{this._storedError=s}),this._request.end()}}class K$ extends ZS{constructor(e){super(e);const t=lr.get("fs");t.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(t.createReadStream(this._url)),this._headersCapability.resolve()},i=>{"ENOENT"===i.code&&(i=new kr(`Missing PDF "${this._url}".`)),this._storedError=i,this._headersCapability.reject(i)})}}class X$ extends JS{constructor(e,t,i){super(e);const r=lr.get("fs");this._setReadableStream(r.createReadStream(this._url,{start:t,end:i-1}))}}class gn{#e=Promise.withResolvers();#t=null;#n=!1;#i=!!globalThis.FontInspector?.enabled;#r=null;#s=null;#a=0;#l=0;#d=null;#c=null;#u=0;#o=0;#h=Object.create(null);#p=[];#f=null;#g=[];#v=new WeakMap;#m=null;static#y=new Map;static#_=new Map;static#C=null;static#w=new Set;constructor({textContentSource:e,container:t,viewport:i}){if(e instanceof ReadableStream)this.#f=e;else{if("object"!=typeof e)throw new Error('No "textContentSource" parameter specified.');this.#f=new ReadableStream({start(l){l.enqueue(e),l.close()}})}this.#t=this.#c=t,this.#o=i.scale*(globalThis.devicePixelRatio||1),this.#u=i.rotation,this.#s={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null};const{pageWidth:r,pageHeight:s,pageX:o,pageY:a}=i.rawDims;this.#m=[1,0,0,-1,-o,a+s],this.#l=r,this.#a=s,gn.#x(),Fr(t,i),this.#e.promise.catch(()=>{}).then(()=>{gn.#w.delete(this),this.#s=null,this.#h=null})}render(){const e=()=>{this.#d.read().then(({value:t,done:i})=>{i?this.#e.resolve():(this.#r??=t.lang,Object.assign(this.#h,t.styles),this.#A(t.items),e())},this.#e.reject)};return this.#d=this.#f.getReader(),gn.#w.add(this),e(),this.#e.promise}update({viewport:e,onBefore:t=null}){const i=e.scale*(globalThis.devicePixelRatio||1),r=e.rotation;if(r!==this.#u&&(t?.(),this.#u=r,Fr(this.#c,{rotation:r})),i!==this.#o){t?.(),this.#o=i;const s={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:gn.#E(this.#r)};for(const o of this.#g)s.properties=this.#v.get(o),s.div=o,this.#M(s)}}cancel(){const e=new Lr("TextLayer task cancelled.");this.#d?.cancel(e).catch(()=>{}),this.#d=null,this.#e.reject(e)}get textDivs(){return this.#g}get textContentItemsStr(){return this.#p}#A(e){if(this.#n)return;this.#s.ctx??=gn.#E(this.#r);const t=this.#g,i=this.#p;for(const r of e){if(t.length>1e5)return se("Ignoring additional textDivs for performance reasons."),void(this.#n=!0);if(void 0!==r.str)i.push(r.str),this.#T(r);else if("beginMarkedContentProps"===r.type||"beginMarkedContent"===r.type){const s=this.#t;this.#t=document.createElement("span"),this.#t.classList.add("markedContent"),null!==r.id&&this.#t.setAttribute("id",`${r.id}`),s.append(this.#t)}else"endMarkedContent"===r.type&&(this.#t=this.#t.parentNode)}}#T(e){const t=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:""!==e.str,hasEOL:e.hasEOL,fontSize:0};this.#g.push(t);const r=B.transform(this.#m,e.transform);let s=Math.atan2(r[1],r[0]);const o=this.#h[e.fontName];o.vertical&&(s+=Math.PI/2);const a=this.#i&&o.fontSubstitution||o.fontFamily,l=Math.hypot(r[2],r[3]),c=l*gn.#S(a,this.#r);let u,d;0===s?(u=r[4],d=r[5]-c):(u=r[4]+c*Math.sin(s),d=r[5]-c*Math.cos(s));const h="calc(var(--scale-factor)*",f=t.style;this.#t===this.#c?(f.left=`${(100*u/this.#l).toFixed(2)}%`,f.top=`${(100*d/this.#a).toFixed(2)}%`):(f.left=`${h}${u.toFixed(2)}px)`,f.top=`${h}${d.toFixed(2)}px)`),f.fontSize=`${h}${(gn.#C*l).toFixed(2)}px)`,f.fontFamily=a,i.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,this.#i&&(t.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),0!==s&&(i.angle=s*(180/Math.PI));let p=!1;if(e.str.length>1)p=!0;else if(" "!==e.str&&e.transform[0]!==e.transform[3]){const g=Math.abs(e.transform[0]),v=Math.abs(e.transform[3]);g!==v&&Math.max(g,v)/Math.min(g,v)>1.5&&(p=!0)}if(p&&(i.canvasWidth=o.vertical?e.height:e.width),this.#v.set(t,i),this.#s.div=t,this.#s.properties=i,this.#M(this.#s),i.hasText&&this.#t.append(t),i.hasEOL){const g=document.createElement("br");g.setAttribute("role","presentation"),this.#t.append(g)}}#M(e){const{div:t,properties:i,ctx:r,prevFontSize:s,prevFontFamily:o}=e,{style:a}=t;let l="";if(gn.#C>1&&(l=`scale(${1/gn.#C})`),0!==i.canvasWidth&&i.hasText){const{fontFamily:c}=a,{canvasWidth:u,fontSize:d}=i;(s!==d||o!==c)&&(r.font=`${d*this.#o}px ${c}`,e.prevFontSize=d,e.prevFontFamily=c);const{width:h}=r.measureText(t.textContent);h>0&&(l=`scaleX(${u*this.#o/h}) ${l}`)}0!==i.angle&&(l=`rotate(${i.angle}deg) ${l}`),l.length>0&&(a.transform=l)}static cleanup(){if(!(this.#w.size>0)){this.#y.clear();for(const{canvas:e}of this.#_.values())e.remove();this.#_.clear()}}static#E(e=null){let t=this.#_.get(e||="");if(!t){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=e,document.body.append(i),t=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#_.set(e,t)}return t}static#x(){if(null!==this.#C)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),this.#C=e.getBoundingClientRect().height,e.remove()}static#S(e,t){const i=this.#y.get(e);if(i)return i;const r=this.#E(t),s=r.font;r.canvas.width=r.canvas.height=30,r.font=`30px ${e}`;const o=r.measureText("");let a=o.fontBoundingBoxAscent,l=Math.abs(o.fontBoundingBoxDescent);if(a){const d=a/(a+l);return this.#y.set(e,d),r.canvas.width=r.canvas.height=0,r.font=s,d}r.strokeStyle="red",r.clearRect(0,0,30,30),r.strokeText("g",0,0);let c=r.getImageData(0,0,30,30).data;l=0;for(let d=c.length-1-3;d>=0;d-=4)if(c[d]>0){l=Math.ceil(d/4/30);break}r.clearRect(0,0,30,30),r.strokeText("A",0,30),c=r.getImageData(0,0,30,30).data,a=0;for(let d=0,h=c.length;d<h;d+=4)if(c[d]>0){a=30-Math.floor(d/4/30);break}r.canvas.width=r.canvas.height=0,r.font=s;const u=a?a/(a+l):.8;return this.#y.set(e,u),u}}class Za{static textContent(e){const t=[],i={items:t,styles:Object.create(null)};return function r(s){if(!s)return;let o=null;const a=s.name;if("#text"===a)o=s.value;else{if(!Za.shouldBuildText(a))return;s?.attributes?.textContent?o=s.attributes.textContent:s.value&&(o=s.value)}if(null!==o&&t.push({str:o}),s.children)for(const l of s.children)r(l)}(e),i}static shouldBuildText(e){return!("textarea"===e||"input"===e||"option"===e||"select"===e)}}const J$=65536,nz=Mt?class f$ extends CS{_createCanvas(e,t){return lr.get("canvas").createCanvas(e,t)}}:class e$ extends CS{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}={}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const i=this._document.createElement("canvas");return i.width=e,i.height=t,i}},iz=Mt?class p$ extends ES{_fetchData(e,t){return NS(e).then(i=>({cMapData:i,compressionType:t}))}}:DS,rz=Mt?class h$ extends wS{}:class JU extends wS{#e;#t;#n;#i;#r;#s;#a=0;constructor({docId:e,ownerDocument:t=globalThis.document}={}){super(),this.#i=e,this.#r=t}get#l(){return this.#t||=new Map}get#d(){return this.#s||=new Map}get#c(){if(!this.#n){const e=this.#r.createElement("div"),{style:t}=e;t.visibility="hidden",t.contain="strict",t.width=t.height=0,t.position="absolute",t.top=t.left=0,t.zIndex=-1;const i=this.#r.createElementNS(Ri,"svg");i.setAttribute("width",0),i.setAttribute("height",0),this.#n=this.#r.createElementNS(Ri,"defs"),e.append(i),i.append(this.#n),this.#r.body.append(e)}return this.#n}#u(e){if(1===e.length){const l=e[0],c=new Array(256);for(let d=0;d<256;d++)c[d]=l[d]/255;const u=c.join(",");return[u,u,u]}const[t,i,r]=e,s=new Array(256),o=new Array(256),a=new Array(256);for(let l=0;l<256;l++)s[l]=t[l]/255,o[l]=i[l]/255,a[l]=r[l]/255;return[s.join(","),o.join(","),a.join(",")]}#o(e){if(void 0===this.#e){this.#e="";const t=this.#r.URL;t!==this.#r.baseURI&&(Hu(t)?se('#createUrl: ignore "data:"-URL for performance reasons.'):this.#e=t.split("#",1)[0])}return`url(${this.#e}#${e})`}addFilter(e){if(!e)return"none";let t=this.#l.get(e);if(t)return t;const[i,r,s]=this.#u(e),o=1===e.length?i:`${i}${r}${s}`;if(t=this.#l.get(o),t)return this.#l.set(e,t),t;const a=`g_${this.#i}_transfer_map_${this.#a++}`,l=this.#o(a);this.#l.set(e,l),this.#l.set(o,l);const c=this.#f(a);return this.#v(i,r,s,c),l}addHCMFilter(e,t){const i=`${e}-${t}`,r="base";let s=this.#d.get(r);if(s?.key===i||(s?(s.filter?.remove(),s.key=i,s.url="none",s.filter=null):(s={key:i,url:"none",filter:null},this.#d.set(r,s)),!e||!t))return s.url;const o=this.#y(e);e=B.makeHexColor(...o);const a=this.#y(t);if(t=B.makeHexColor(...a),this.#c.style.color="","#000000"===e&&"#ffffff"===t||e===t)return s.url;const l=new Array(256);for(let f=0;f<=255;f++){const p=f/255;l[f]=p<=.03928?p/12.92:((p+.055)/1.055)**2.4}const c=l.join(","),u=`g_${this.#i}_hcm_filter`,d=s.filter=this.#f(u);this.#v(c,c,c,d),this.#p(d);const h=(f,p)=>{const g=o[f]/255,v=a[f]/255,m=new Array(p+1);for(let y=0;y<=p;y++)m[y]=g+y/p*(v-g);return m.join(",")};return this.#v(h(0,5),h(1,5),h(2,5),d),s.url=this.#o(u),s.url}addAlphaFilter(e){let t=this.#l.get(e);if(t)return t;const[i]=this.#u([e]),r=`alpha_${i}`;if(t=this.#l.get(r),t)return this.#l.set(e,t),t;const s=`g_${this.#i}_alpha_map_${this.#a++}`,o=this.#o(s);this.#l.set(e,o),this.#l.set(r,o);const a=this.#f(s);return this.#m(i,a),o}addLuminosityFilter(e){let i,r,t=this.#l.get(e||"luminosity");if(t)return t;if(e?([i]=this.#u([e]),r=`luminosity_${i}`):r="luminosity",t=this.#l.get(r),t)return this.#l.set(e,t),t;const s=`g_${this.#i}_luminosity_map_${this.#a++}`,o=this.#o(s);this.#l.set(e,o),this.#l.set(r,o);const a=this.#f(s);return this.#h(a),e&&this.#m(i,a),o}addHighlightHCMFilter(e,t,i,r,s){const o=`${t}-${i}-${r}-${s}`;let a=this.#d.get(e);if(a?.key===o||(a?(a.filter?.remove(),a.key=o,a.url="none",a.filter=null):(a={key:o,url:"none",filter:null},this.#d.set(e,a)),!t||!i))return a.url;const[l,c]=[t,i].map(this.#y.bind(this));let u=Math.round(.2126*l[0]+.7152*l[1]+.0722*l[2]),d=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),[h,f]=[r,s].map(this.#y.bind(this));d<u&&([u,d,h,f]=[d,u,f,h]),this.#c.style.color="";const p=(m,y,b)=>{const _=new Array(256),w=(d-u)/b,D=m/255,S=(y-m)/(255*b);let T=0;for(let E=0;E<=b;E++){const R=Math.round(u+E*w),L=D+E*S;for(let ye=T;ye<=R;ye++)_[ye]=L;T=R+1}for(let E=T;E<256;E++)_[E]=_[T-1];return _.join(",")},g=`g_${this.#i}_hcm_${e}_filter`,v=a.filter=this.#f(g);return this.#p(v),this.#v(p(h[0],f[0],5),p(h[1],f[1],5),p(h[2],f[2],5),v),a.url=this.#o(g),a.url}destroy(e=!1){e&&0!==this.#d.size||(this.#n&&(this.#n.parentNode.parentNode.remove(),this.#n=null),this.#t&&(this.#t.clear(),this.#t=null),this.#a=0)}#h(e){const t=this.#r.createElementNS(Ri,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(t)}#p(e){const t=this.#r.createElementNS(Ri,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)}#f(e){const t=this.#r.createElementNS(Ri,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),this.#c.append(t),t}#g(e,t,i){const r=this.#r.createElementNS(Ri,t);r.setAttribute("type","discrete"),r.setAttribute("tableValues",i),e.append(r)}#v(e,t,i,r){const s=this.#r.createElementNS(Ri,"feComponentTransfer");r.append(s),this.#g(s,"feFuncR",e),this.#g(s,"feFuncG",t),this.#g(s,"feFuncB",i)}#m(e,t){const i=this.#r.createElementNS(Ri,"feComponentTransfer");t.append(i),this.#g(i,"feFuncA",e)}#y(e){return this.#c.style.color=e,om(getComputedStyle(this.#c).getPropertyValue("color"))}},sz=Mt?class g$ extends AS{_fetchData(e){return NS(e)}}:SS;function oz(n={}){"string"==typeof n||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new _m,{docId:t}=e,i=n.url?function az(n){if(n instanceof URL)return n.href;try{return new URL(n,window.location).href}catch{if(Mt&&"string"==typeof n)return n}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}(n.url):null,r=n.data?function lz(n){if(Mt&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if("string"==typeof n)return $a(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||"object"==typeof n&&!isNaN(n?.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}(n.data):null,s=n.httpHeaders||null,o=!0===n.withCredentials,a=n.password??null,l=n.range instanceof tM?n.range:null,c=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:J$;let u=n.worker instanceof pt?n.worker:null;const d=n.verbosity,h="string"!=typeof n.docBaseUrl||Hu(n.docBaseUrl)?null:n.docBaseUrl,f="string"==typeof n.cMapUrl?n.cMapUrl:null,p=!1!==n.cMapPacked,g=n.CMapReaderFactory||iz,v="string"==typeof n.standardFontDataUrl?n.standardFontDataUrl:null,m=n.StandardFontDataFactory||sz,y=!0!==n.stopAtErrors,b=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,_=!1!==n.isEvalSupported,w="boolean"==typeof n.isOffscreenCanvasSupported?n.isOffscreenCanvasSupported:!Mt,D=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,S="boolean"==typeof n.disableFontFace?n.disableFontFace:Mt,T=!0===n.fontExtraProperties,E=!0===n.enableXfa,R=n.ownerDocument||globalThis.document,L=!0===n.disableRange,ye=!0===n.disableStream,De=!0===n.disableAutoFetch,_e=!0===n.pdfBug,Ge=!0===n.enableHWA,Pt=l?l.length:n.length??NaN,te="boolean"==typeof n.useSystemFonts?n.useSystemFonts:!Mt&&!S,re="boolean"==typeof n.useWorkerFetch?n.useWorkerFetch:g===DS&&m===SS&&f&&v&&Ga(f,document.baseURI)&&Ga(v,document.baseURI),cd=n.canvasFactory||new nz({ownerDocument:R,enableHWA:Ge}),ud=n.filterFactory||new rz({docId:t,ownerDocument:R});!function BU(n){Number.isInteger(n)&&(Fu=n)}(d);const Ut={canvasFactory:cd,filterFactory:ud};if(re||(Ut.cMapReaderFactory=new g({baseUrl:f,isCompressed:p}),Ut.standardFontDataFactory=new m({baseUrl:v})),!u){const $r={verbosity:d,port:Xa.workerPort};u=$r.port?pt.fromPort($r):new pt($r),e._worker=u}const wt={docId:t,apiVersion:"4.6.82",data:r,password:a,disableAutoFetch:De,rangeChunkSize:c,length:Pt,docBaseUrl:h,enableXfa:E,evaluatorOptions:{maxImageSize:b,disableFontFace:S,ignoreErrors:y,isEvalSupported:_,isOffscreenCanvasSupported:w,canvasMaxAreaInBytes:D,fontExtraProperties:T,useSystemFonts:te,cMapUrl:re?f:null,standardFontDataUrl:re?v:null}},hd={disableFontFace:S,fontExtraProperties:T,ownerDocument:R,pdfBug:_e,styleElement:null,loadingParams:{disableAutoFetch:De,enableXfa:E}};return u.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const $r=u.messageHandler.sendWithPromise("GetDocRequest",wt,r?[r.buffer]:null);let dr;if(l)dr=new O$(l,{disableRange:L,disableStream:ye});else if(!r){if(!i)throw new Error("getDocument - no `url` parameter provided.");ji={url:i,length:Pt,httpHeaders:s,withCredentials:o,rangeChunkSize:c,disableRange:L,disableStream:ye},dr=Mt?typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&Ga(ji.url)?new XS(ji):new W$(ji):Ga(ji.url)?new XS(ji):new H$(ji)}var ji;return $r.then(dt=>{if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const ji=new Qa(t,dt,u.port),yx=new hz(ji,e,dr,hd,Ut);e._transport=yx,ji.send("Ready",null)})}).catch(e._capability.reject),e}function eM(n){return"object"==typeof n&&Number.isInteger(n?.num)&&n.num>=0&&Number.isInteger(n?.gen)&&n.gen>=0}class _m{static#e=0;constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId="d"+_m.#e++,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}destroy(){var e=this;return N(function*(){e.destroyed=!0;try{e._worker?.port&&(e._worker._pendingDestroy=!0),yield e._transport?.destroy()}catch(t){throw e._worker?.port&&delete e._worker._pendingDestroy,t}e._transport=null,e._worker&&(e._worker.destroy(),e._worker=null)})()}}class tM{constructor(e,t,i=!1,r=null){this.length=e,this.initialData=t,this.progressiveDone=i,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const i of this._rangeListeners)i(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const i of this._progressListeners)i(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){tt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class cz{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return he(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class uz{#e=null;#t=!1;constructor(e,t,i,r=!1){this._pageIndex=e,this._pageInfo=t,this._transport=i,this._stats=r?new MS:null,this._pdfBug=r,this.commonObjs=i.commonObjs,this.objs=new nM,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:i=0,offsetY:r=0,dontFlip:s=!1}={}){return new za({viewBox:this.view,scale:e,rotation:t,offsetX:i,offsetY:r,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return he(this,"isPureXfa",!!this._transport._htmlForXfa)}getXfa(){var e=this;return N(function*(){return e._transport._htmlForXfa?.children[e._pageIndex]||null})()}render({canvasContext:e,viewport:t,intent:i="display",annotationMode:r=or.ENABLE,transform:s=null,background:o=null,optionalContentConfigPromise:a=null,annotationCanvasMap:l=null,pageColors:c=null,printAnnotationStorage:u=null,isEditing:d=!1}){this._stats?.time("Overall");const h=this._transport.getRenderingIntent(i,r,u,d),{renderingIntent:f,cacheKey:p}=h;this.#t=!1,this.#i(),a||=this._transport.getOptionalContentConfig(f);let g=this._intentStates.get(p);g||(g=Object.create(null),this._intentStates.set(p,g)),g.streamReaderCancelTimeout&&(clearTimeout(g.streamReaderCancelTimeout),g.streamReaderCancelTimeout=null);const v=!!(4&f);g.displayReadyCapability||(g.displayReadyCapability=Promise.withResolvers(),g.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(h));const m=_=>{g.renderTasks.delete(y),(this._maybeCleanupAfterRender||v)&&(this.#t=!0),this.#n(!v),_?(y.capability.reject(_),this._abortOperatorList({intentState:g,reason:_ instanceof Error?_:new Error(_)})):y.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},y=new ro({callback:m,params:{canvasContext:e,viewport:t,transform:s,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:g.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!v,pdfBug:this._pdfBug,pageColors:c});(g.renderTasks||=new Set).add(y);const b=y.task;return Promise.all([g.displayReadyCapability.promise,a]).then(([_,w])=>{if(this.destroyed)m();else{if(this._stats?.time("Rendering"),!(w.renderingIntent&f))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");y.initializeGraphics({transparency:_,optionalContentConfig:w}),y.operatorListChanged()}}).catch(m),b}getOperatorList({intent:e="display",annotationMode:t=or.ENABLE,printAnnotationStorage:i=null,isEditing:r=!1}={}){const o=this._transport.getRenderingIntent(e,t,i,r,!0);let l,a=this._intentStates.get(o.cacheKey);return a||(a=Object.create(null),this._intentStates.set(o.cacheKey,a)),a.opListReadCapability||(l=Object.create(null),l.operatorListChanged=function s(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(l))},a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||=new Set).add(l),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(o)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:!0===e,disableNormalization:!0===t},{highWaterMark:100,size:r=>r.items.length})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>Za.textContent(i));const t=this.streamTextContent(e);return new Promise(function(i,r){const o=t.getReader(),a={items:[],styles:Object.create(null),lang:null};!function s(){o.read().then(function({value:l,done:c}){c?i(a):(a.lang??=l.lang,Object.assign(a.styles,l.styles),a.items.push(...l.items),s())},r)}()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const i of t.renderTasks)e.push(i.completed),i.cancel();return this.objs.clear(),this.#t=!1,this.#i(),Promise.all(e)}cleanup(e=!1){this.#t=!0;const t=this.#n(!1);return e&&t&&(this._stats&&=new MS),t}#n(e=!1){if(this.#i(),!this.#t||this.destroyed)return!1;if(e)return this.#e=setTimeout(()=>{this.#e=null,this.#n(!1)},5e3),!1;for(const{renderTasks:t,operatorList:i}of this._intentStates.values())if(t.size>0||!i.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}#i(){this.#e&&(clearTimeout(this.#e),this.#e=null)}_startRenderPage(e,t){const i=this._intentStates.get(t);i&&(this._stats?.timeEnd("Page Request"),i.displayReadyCapability?.resolve(e))}_renderPageChunk(e,t){for(let i=0,r=e.length;i<r;i++)t.operatorList.fnArray.push(e.fnArray[i]),t.operatorList.argsArray.push(e.argsArray[i]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const i of t.renderTasks)i.operatorListChanged();e.lastChunk&&this.#n(!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:i,modifiedIds:r}){const{map:s,transfer:o}=i,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:s,modifiedIds:r},o).getReader(),c=this._intentStates.get(t);c.streamReader=l;const u=()=>{l.read().then(({value:d,done:h})=>{h?c.streamReader=null:this._transport.destroyed||(this._renderPageChunk(d,c),u())},d=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(const h of c.renderTasks)h.operatorListChanged();this.#n(!0)}if(c.displayReadyCapability)c.displayReadyCapability.reject(d);else{if(!c.opListReadCapability)throw d;c.opListReadCapability.reject(d)}}})};u()}_abortOperatorList({intentState:e,reason:t,force:i=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!i){if(e.renderTasks.size>0)return;if(t instanceof rm){let r=100;return t.extraDelay>0&&t.extraDelay<1e3&&(r+=t.extraDelay),void(e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},r))}}if(e.streamReader.cancel(new Lr(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[r,s]of this._intentStates)if(s===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}class dz{#e=new Set;#t=Promise.resolve();postMessage(e,t){const i={data:structuredClone(e,t?{transfer:t}:null)};this.#t.then(()=>{for(const r of this.#e)r.call(this,i)})}addEventListener(e,t){this.#e.add(t)}removeEventListener(e,t){this.#e.delete(t)}terminate(){this.#e.clear()}}class pt{static#e=0;static#t=!1;static#n;static{Mt&&(this.#t=!0,Xa.workerSrc||="./pdf.worker.mjs"),this._isSameOrigin=(e,t)=>{let i;try{if(i=new URL(e),!i.origin||"null"===i.origin)return!1}catch{return!1}const r=new URL(t,i);return i.origin===r.origin},this._createCDNWrapper=e=>URL.createObjectURL(new Blob([`await import("${e}");`],{type:"text/javascript"}))}constructor({name:e=null,port:t=null,verbosity:i=HU()}={}){if(this.name=e,this.destroyed=!1,this.verbosity=i,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if(pt.#n?.has(t))throw new Error("Cannot use more than one PDFWorker per port.");return(pt.#n||=new WeakMap).set(t,this),void this._initializeFromPort(t)}this._initialize()}get promise(){return Mt?Promise.all([lr.promise,this._readyCapability.promise]):this._readyCapability.promise}#i(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new Qa("main","worker",e),this._messageHandler.on("ready",function(){}),this.#i()}_initialize(){if(pt.#t||pt.#r)return void this._setupFakeWorker();let{workerSrc:e}=pt;try{pt._isSameOrigin(window.location.href,e)||(e=pt._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),i=new Qa("main","worker",t),r=()=>{s.abort(),i.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=new AbortController;t.addEventListener("error",()=>{this._webWorker||r()},{signal:s.signal}),i.on("test",a=>{s.abort(),!this.destroyed&&a?(this._messageHandler=i,this._port=t,this._webWorker=t,this.#i()):r()}),i.on("ready",a=>{if(s.abort(),this.destroyed)r();else try{o()}catch{this._setupFakeWorker()}});const o=()=>{const a=new Uint8Array;i.send("test",a,[a.buffer])};return void o()}catch{Vu("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){pt.#t||(se("Setting up fake worker."),pt.#t=!0),pt._setupFakeWorkerGlobal.then(e=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const t=new dz;this._port=t;const i="fake"+pt.#e++,r=new Qa(i+"_worker",i,t);e.setup(r,t),this._messageHandler=new Qa(i,i+"_worker",t),this.#i()}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),pt.#n?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){if(!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");const t=this.#n?.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new pt(e)}static get workerSrc(){if(Xa.workerSrc)return Xa.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get#r(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){var e=this;return he(this,"_setupFakeWorkerGlobal",function(){var i=N(function*(){return e.#r?e.#r:(yield import(e.workerSrc)).WorkerMessageHandler});return function(){return i.apply(this,arguments)}}()())}}class hz{#e=new Map;#t=new Map;#n=new Map;#i=new Map;#r=null;constructor(e,t,i,r,s){this.messageHandler=e,this.loadingTask=t,this.commonObjs=new nM,this.fontLoader=new u$({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}#s(e,t=null){const i=this.#e.get(e);if(i)return i;const r=this.messageHandler.sendWithPromise(e,t);return this.#e.set(e,r),r}get annotationStorage(){return he(this,"annotationStorage",new um)}getRenderingIntent(e,t=or.ENABLE,i=null,r=!1,s=!1){let o=2,a=cm;switch(e){case"any":o=1;break;case"display":break;case"print":o=4;break;default:se(`getRenderingIntent - invalid intent: ${e}`)}const l=4&o&&i instanceof OS?i:this.annotationStorage;switch(t){case or.DISABLE:o+=64;break;case or.ENABLE:break;case or.ENABLE_FORMS:o+=16;break;case or.ENABLE_STORAGE:o+=32,a=l.serializable;break;default:se(`getRenderingIntent - invalid annotationMode: ${t}`)}r&&(o+=128),s&&(o+=256);const{ids:c,hash:u}=l.modifiedIds;return{renderingIntent:o,cacheKey:[o,a.hash,u].join("_"),annotationStorageSerializable:a,modifiedIds:c}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#r?.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of this.#t.values())e.push(i._destroy());this.#t.clear(),this.#n.clear(),this.#i.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),gn.cleanup(),this._networkStream?.cancelAllRequests(new Lr("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(i,r)=>{ct(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},r.onPull=()=>{this._fullReader.read().then(function({value:s,done:o}){o?r.close():(ct(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(s),1,[s]))}).catch(s=>{r.error(s)})},r.onCancel=s=>{this._fullReader.cancel(s),r.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",i=>{const r=Promise.withResolvers(),s=this._fullReader;return s.headersReady.then(()=>{(!s.isStreamingSupported||!s.isRangeSupported)&&(this._lastProgress&&t.onProgress?.(this._lastProgress),s.onProgress=o=>{t.onProgress?.({loaded:o.loaded,total:o.total})}),r.resolve({isStreamingSupported:s.isStreamingSupported,isRangeSupported:s.isRangeSupported,contentLength:s.contentLength})},r.reject),r.promise}),e.on("GetRangeReader",(i,r)=>{ct(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(i.begin,i.end);s?(r.onPull=()=>{s.read().then(function({value:o,done:a}){a?r.close():(ct(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o]))}).catch(o=>{r.error(o)})},r.onCancel=o=>{s.cancel(o),r.ready.catch(a=>{if(!this.destroyed)throw a})}):r.close()}),e.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,t._capability.resolve(new cz(i,this))}),e.on("DocException",function(i){let r;switch(i.name){case"PasswordException":r=new Qg(i.message,i.code);break;case"InvalidPDFException":r=new vS(i.message);break;case"MissingPDFException":r=new kr(i.message);break;case"UnexpectedResponseException":r=new ju(i.message,i.status);break;case"UnknownErrorException":r=new Zg(i.message,i.details);break;default:tt("DocException - expected a valid Error.")}t._capability.reject(r)}),e.on("PasswordRequest",i=>{if(this.#r=Promise.withResolvers(),t.onPassword){const r=s=>{s instanceof Error?this.#r.reject(s):this.#r.resolve({password:s})};try{t.onPassword(r,i.code)}catch(s){this.#r.reject(s)}}else this.#r.reject(new Qg(i.message,i.code));return this.#r.promise}),e.on("DataLoaded",i=>{t.onProgress?.({loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),e.on("StartRenderPage",i=>{this.destroyed||this.#t.get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),e.on("commonobj",([i,r,s])=>{if(this.destroyed||this.commonObjs.has(i))return null;switch(r){case"Font":const{disableFontFace:o,fontExtraProperties:a,pdfBug:l}=this._params;if("error"in s){const h=s.error;se(`Error during font loading: ${h}`),this.commonObjs.resolve(i,h);break}const c=l&&globalThis.FontInspector?.enabled?(h,f)=>globalThis.FontInspector.fontAdded(h,f):null,u=new d$(s,{disableFontFace:o,inspectFont:c});this.fontLoader.bind(u).catch(()=>e.sendWithPromise("FontFallback",{id:i})).finally(()=>{!a&&u.data&&(u.data=null),this.commonObjs.resolve(i,u)});break;case"CopyLocalImage":const{imageRef:d}=s;ct(d,"The imageRef must be defined.");for(const h of this.#t.values())for(const[,f]of h.objs)if(f?.ref===d)return f.dataLen?(this.commonObjs.resolve(i,structuredClone(f)),f.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,s);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),e.on("obj",([i,r,s,o])=>{if(this.destroyed)return;const a=this.#t.get(r);if(!a.objs.has(i)){if(0===a._intentStates.size)return void o?.bitmap?.close();switch(s){case"Image":a.objs.resolve(i,o),o?.dataLen>1e7&&(a._maybeCleanupAfterRender=!0);break;case"Pattern":a.objs.resolve(i,o);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",i=>{this.destroyed||t.onProgress?.({loaded:i.loaded,total:i.total})}),e.on("FetchBuiltInCMap",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(i):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),e.on("FetchStandardFontData",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(i):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&se("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,i=this.#n.get(t);if(i)return i;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&this.#i.set(s.refStr,e);const o=new uz(t,s,this,this._params.pdfBug);return this.#t.set(t,o),o});return this.#n.set(t,r),r}getPageIndex(e){return eM(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return this.#s("GetFieldObjects")}hasJSActions(){return this.#s("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return"string"!=typeof e?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#s("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return this.#s("GetOptionalContentConfig").then(t=>new R$(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=this.#e.get(e);if(t)return t;const i=this.messageHandler.sendWithPromise(e,null).then(r=>({info:r[0],metadata:r[1]?new T$(r[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(e,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(e=!1){var t=this;return N(function*(){if(!t.destroyed){yield t.messageHandler.sendWithPromise("Cleanup",null);for(const i of t.#t.values())if(!i.cleanup())throw new Error(`startCleanup: Page ${i.pageNumber} is currently rendering.`);t.commonObjs.clear(),e||t.fontLoader.clear(),t.#e.clear(),t.filterFactory.destroy(!0),gn.cleanup()}})()}cachedPageNumber(e){return eM(e)?this.#i.get(0===e.gen?`${e.num}R`:`${e.num}R${e.gen}`)??null:null}}const qu=Symbol("INITIAL_DATA");class nM{#e=Object.create(null);#t(e){return this.#e[e]||={...Promise.withResolvers(),data:qu}}get(e,t=null){if(t){const r=this.#t(e);return r.promise.then(()=>t(r.data)),null}const i=this.#e[e];if(!i||i.data===qu)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return i.data}has(e){const t=this.#e[e];return!!t&&t.data!==qu}resolve(e,t=null){const i=this.#t(e);i.data=t,i.resolve()}clear(){for(const e in this.#e){const{data:t}=this.#e[e];t?.bitmap?.close()}this.#e=Object.create(null)}*[Symbol.iterator](){for(const e in this.#e){const{data:t}=this.#e[e];t!==qu&&(yield[e,t])}}}class fz{#e=null;constructor(e){this.#e=e,this.onContinue=null}get promise(){return this.#e.capability.promise}cancel(e=0){this.#e.cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=this.#e.operatorList;if(!e)return!1;const{annotationCanvasMap:t}=this.#e;return e.form||e.canvas&&t?.size>0}}class ro{#e=null;static#t=new WeakSet;constructor({callback:e,params:t,objs:i,commonObjs:r,annotationCanvasMap:s,operatorList:o,pageIndex:a,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:u=!1,pdfBug:d=!1,pageColors:h=null}){this.callback=e,this.params=t,this.objs=i,this.commonObjs=r,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=a,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=d,this.pageColors=h,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===u&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new fz(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){if(this.cancelled)return;if(this._canvas){if(ro.#t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");ro.#t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:r,transform:s,background:o}=this.params;this.gfx=new io(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:r,transparency:e,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(e=null,t=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#e&&(window.cancelAnimationFrame(this.#e),this.#e=null),ro.#t.delete(this._canvas),this.callback(e||new rm(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){this.graphicsReady?(this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||=this._continueBound}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#e=window.requestAnimationFrame(()=>{this.#e=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var e=this;return N(function*(){e.cancelled||(e.operatorListIdx=e.gfx.executeOperatorList(e.operatorList,e.operatorListIdx,e._continueBound,e.stepper),e.operatorListIdx===e.operatorList.argsArray.length&&(e.running=!1,e.operatorList.lastChunk&&(e.gfx.endDrawing(),ro.#t.delete(e._canvas),e.callback())))})()}}const pz="4.6.82",gz="9b541910f";function iM(n){return Math.floor(255*Math.max(0,Math.min(1,n))).toString(16).padStart(2,"0")}function Ja(n){return Math.max(0,Math.min(255,255*n))}class rM{static CMYK_G([e,t,i,r]){return["G",1-Math.min(1,.3*e+.59*i+.11*t+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return[e=Ja(e),e,e]}static G_HTML([e]){const t=iM(e);return`#${t}${t}${t}`}static RGB_G([e,t,i]){return["G",.3*e+.59*t+.11*i]}static RGB_rgb(e){return e.map(Ja)}static RGB_HTML(e){return`#${e.map(iM).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,i,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,i+r),1-Math.min(1,t+r)]}static CMYK_rgb([e,t,i,r]){return[Ja(1-Math.min(1,e+r)),Ja(1-Math.min(1,i+r)),Ja(1-Math.min(1,t+r))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,i]){const r=1-e,s=1-t,o=1-i;return["CMYK",r,s,o,Math.min(r,s,o)]}}class sM{static setupStorage(e,t,i,r,s){const o=r.getValue(t,{value:null});switch(i.name){case"textarea":if(null!==o.value&&(e.textContent=o.value),"print"===s)break;e.addEventListener("input",a=>{r.setValue(t,{value:a.target.value})});break;case"input":if("radio"===i.attributes.type||"checkbox"===i.attributes.type){if(o.value===i.attributes.xfaOn?e.setAttribute("checked",!0):o.value===i.attributes.xfaOff&&e.removeAttribute("checked"),"print"===s)break;e.addEventListener("change",a=>{r.setValue(t,{value:a.target.getAttribute(a.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==o.value&&e.setAttribute("value",o.value),"print"===s)break;e.addEventListener("input",a=>{r.setValue(t,{value:a.target.value})})}break;case"select":if(null!==o.value){e.setAttribute("value",o.value);for(const a of i.children)a.attributes.value===o.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}e.addEventListener("input",a=>{const l=a.target.options;r.setValue(t,{value:-1===l.selectedIndex?"":l[l.selectedIndex].value})})}}static setAttributes({html:e,element:t,storage:i=null,intent:r,linkService:s}){const{attributes:o}=t,a=e instanceof HTMLAnchorElement;"radio"===o.type&&(o.name=`${o.name}-${r}`);for(const[l,c]of Object.entries(o))if(null!=c)switch(l){case"class":c.length&&e.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!a||"href"!==l&&"newWindow"!==l)&&e.setAttribute(l,c)}a&&s.addLinkAttributes(e,o.href,o.newWindow),i&&o.dataId&&this.setupStorage(e,o.dataId,t,i)}static render(e){const t=e.annotationStorage,i=e.linkService,r=e.xfaHtml,s=e.intent||"display",o=document.createElement(r.name);r.attributes&&this.setAttributes({html:o,element:r,intent:s,linkService:i});const a="richText"!==s,l=e.div;if(l.append(o),e.viewport){const d=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=d}a&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(0===r.children.length){if(r.value){const d=document.createTextNode(r.value);o.append(d),a&&Za.shouldBuildText(r.name)&&c.push(d)}return{textDivs:c}}const u=[[r,-1,o]];for(;u.length>0;){const[d,h,f]=u.at(-1);if(h+1===d.children.length){u.pop();continue}const p=d.children[++u.at(-1)[1]];if(null===p)continue;const{name:g}=p;if("#text"===g){const m=document.createTextNode(p.value);c.push(m),f.append(m);continue}const v=p?.attributes?.xmlns?document.createElementNS(p.attributes.xmlns,g):document.createElement(g);if(f.append(v),p.attributes&&this.setAttributes({html:v,element:p,storage:t,intent:s,linkService:i}),p.children?.length>0)u.push([p,-1,v]);else if(p.value){const m=document.createTextNode(p.value);a&&Za.shouldBuildText(g)&&c.push(m),v.append(m)}}for(const d of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))d.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const el=1e3,Vr=new WeakSet;function Ni(n){return{width:n[2]-n[0],height:n[3]-n[1]}}class vz{static create(e){switch(e.data.annotationType){case 2:return new oM(e);case 1:return new yz(e);case 20:switch(e.data.fieldType){case"Tx":return new bz(e);case"Btn":return e.data.radioButton?new aM(e):e.data.checkBox?new wz(e):new Cz(e);case"Ch":return new Ez(e);case"Sig":return new _z(e)}return new jr(e);case 16:return new wm(e);case 3:return new lM(e);case 4:return new Dz(e);case 5:return new Sz(e);case 6:return new Mz(e);case 8:return new cM(e);case 14:return new Iz(e);case 15:return new uM(e);case 7:return new xz(e);case 9:return new Tz(e);case 10:return new Pz(e);case 11:return new Rz(e);case 12:return new Oz(e);case 13:return new dM(e);case 17:return new Nz(e);default:return new Qe(e)}}}class Qe{#e=null;#t=!1;#n=null;constructor(e,{isRenderable:t=!1,ignoreBorder:i=!1,createQuadrilaterals:r=!1}={}){this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(i)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:i}){return!!(e?.str||t?.str||i?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Qe._hasPopupData(this.data)}updateEdited(e){if(!this.container)return;this.#e||={rect:this.data.rect.slice(0)};const{rect:t}=e;t&&this.#i(t),this.#n?.popup.updateEdited(e)}resetEdited(){this.#e&&(this.#i(this.#e.rect),this.#n?.popup.resetEdited(),this.#e=null)}#i(e){const{container:{style:t},data:{rect:i,rotation:r},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:o,pageX:a,pageY:l}}}}=this;i?.splice(0,4,...e);const{width:c,height:u}=Ni(e);t.left=100*(e[0]-a)/s+"%",t.top=100*(o-e[3]+l)/o+"%",0===r?(t.width=100*c/s+"%",t.height=100*u/o+"%"):this.setRotation(r)}_createContainer(e){const{data:t,parent:{page:i,viewport:r}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),this instanceof jr||(s.tabIndex=el);const{style:o}=s;if(o.zIndex=this.parent.zIndex++,t.popupRef&&s.setAttribute("aria-haspopup","dialog"),t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof wm){const{rotation:g}=t;return!t.hasOwnCanvas&&0!==g&&this.setRotation(g,s),s}const{width:a,height:l}=Ni(t.rect);if(!e&&t.borderStyle.width>0){o.borderWidth=`${t.borderStyle.width}px`;const g=t.borderStyle.horizontalCornerRadius,v=t.borderStyle.verticalCornerRadius;switch(g>0||v>0?o.borderRadius=`calc(${g}px * var(--scale-factor)) / calc(${v}px * var(--scale-factor))`:this instanceof aM&&(o.borderRadius=`calc(${a}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`),t.borderStyle.style){case 1:o.borderStyle="solid";break;case 2:o.borderStyle="dashed";break;case 3:se("Unimplemented border style: beveled");break;case 4:se("Unimplemented border style: inset");break;case 5:o.borderBottomStyle="solid"}const m=t.borderColor||null;m?(this.#t=!0,o.borderColor=B.makeHexColor(0|m[0],0|m[1],0|m[2])):o.borderWidth=0}const c=B.normalizeRect([t.rect[0],i.view[3]-t.rect[1]+i.view[1],t.rect[2],i.view[3]-t.rect[3]+i.view[1]]),{pageWidth:u,pageHeight:d,pageX:h,pageY:f}=r.rawDims;o.left=100*(c[0]-h)/u+"%",o.top=100*(c[1]-f)/d+"%";const{rotation:p}=t;return t.hasOwnCanvas||0===p?(o.width=100*a/u+"%",o.height=100*l/d+"%"):this.setRotation(p,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:r}=this.parent.viewport.rawDims,{width:s,height:o}=Ni(this.data.rect);let a,l;e%180==0?(a=100*s/i,l=100*o/r):(a=100*o/i,l=100*s/r),t.style.width=`${a}%`,t.style.height=`${l}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,i,r)=>{const s=r.detail[t],o=s[0],a=s.slice(1);r.target.style[i]=rM[`${o}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[i]:rM[`${o}_rgb`](a)})};return he(this,"_commonActions",{display:t=>{const{display:i}=t.detail,r=i%2==1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:1===i||2===i})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:i}=t.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const i=t.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(e,t){const i=this._commonActions;for(const r of Object.keys(t.detail))(e[r]||i[r])?.(t)}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const i=this._commonActions;for(const[r,s]of Object.entries(t)){const o=i[r];o&&(o({detail:{[r]:s},target:e}),delete t[r])}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,i,r,s]=this.data.rect.map(g=>Math.fround(g));if(8===e.length){const[g,v,m,y]=e.subarray(2,6);if(r===g&&s===v&&t===m&&i===y)return}const{style:o}=this.container;let a;if(this.#t){const{borderColor:g,borderWidth:v}=o;o.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${g}" stroke-width="${v}">`],this.container.classList.add("hasBorder")}const l=r-t,c=s-i,{svgFactory:u}=this,d=u.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0);const h=u.createElement("defs");d.append(h);const f=u.createElement("clipPath"),p=`clippath_${this.data.id}`;f.setAttribute("id",p),f.setAttribute("clipPathUnits","objectBoundingBox"),h.append(f);for(let g=2,v=e.length;g<v;g+=8){const m=e[g],y=e[g+1],b=e[g+2],_=e[g+3],w=u.createElement("rect"),D=(b-t)/l,S=(s-y)/c,T=(m-b)/l,E=(y-_)/c;w.setAttribute("x",D),w.setAttribute("y",S),w.setAttribute("width",T),w.setAttribute("height",E),f.append(w),a?.push(`<rect vector-effect="non-scaling-stroke" x="${D}" y="${S}" width="${T}" height="${E}"/>`)}this.#t&&(a.push("</g></svg>')"),o.backgroundImage=a.join("")),this.container.append(d),this.container.style.clipPath=`url(#${p})`}_createPopup(){const{container:e,data:t}=this;e.setAttribute("aria-haspopup","dialog");const i=this.#n=new wm({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]});this.parent.div.append(i.render())}render(){tt("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const i=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:s,id:o,exportValues:a}of r){if(-1===s||o===t)continue;const l="string"==typeof a?a:null,c=document.querySelector(`[data-element-id="${o}"]`);!c||Vr.has(c)?i.push({id:o,exportValue:l,domElement:c}):se(`_getElementsByName - element not allowed: ${o}`)}return i}for(const r of document.getElementsByName(e)){const{exportValue:s}=r,o=r.getAttribute("data-element-id");o!==t&&Vr.has(r)&&i.push({id:o,exportValue:s,domElement:r})}return i}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}}class oM extends Qe{constructor(e,t=null){super(e,{isRenderable:!0,ignoreBorder:!!t?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:t}=this,i=document.createElement("a");i.setAttribute("data-element-id",e.id);let r=!1;return e.url?(t.addLinkAttributes(i,e.url,e.newWindow),r=!0):e.action?(this._bindNamedAction(i,e.action),r=!0):e.attachment?(this.#t(i,e.attachment,e.attachmentDest),r=!0):e.setOCGState?(this.#n(i,e.setOCGState),r=!0):e.dest?(this._bindLink(i,e.dest),r=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,e),r=!0),e.resetForm?(this._bindResetFormAction(i,e.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(i,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(i),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(e,t){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||""===t)&&this.#e()}_bindNamedAction(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),this.#e()}#t(e,t,i=null){e.href=this.linkService.getAnchorUrl(""),t.description&&(e.title=t.description),e.onclick=()=>(this.downloadManager?.openOrDownloadData(t.content,t.filename,i),!1),this.#e()}#n(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),this.#e()}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(t.actions)){const s=i.get(r);s&&(e[s]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:r}}),!1))}e.onclick||(e.onclick=()=>!1),this.#e()}_bindResetFormAction(e,t){const i=e.onclick;if(i||(e.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects)return se('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(i||(e.onclick=()=>!1));e.onclick=()=>{i?.();const{fields:r,refs:s,include:o}=t,a=[];if(0!==r.length||0!==s.length){const u=new Set(s);for(const d of r){const h=this._fieldObjects[d]||[];for(const{id:f}of h)u.add(f)}for(const d of Object.values(this._fieldObjects))for(const h of d)u.has(h.id)===o&&a.push(h)}else for(const u of Object.values(this._fieldObjects))a.push(...u);const l=this.annotationStorage,c=[];for(const u of a){const{id:d}=u;switch(c.push(d),u.type){case"text":case"combobox":case"listbox":l.setValue(d,{value:u.defaultValue||""});break;case"checkbox":case"radiobutton":l.setValue(d,{value:u.defaultValue===u.exportValues});break;default:continue}const h=document.querySelector(`[data-element-id="${d}"]`);h&&(Vr.has(h)?h.dispatchEvent(new Event("resetform")):se(`_bindResetFormAction - element not allowed: ${d}`))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:c,name:"ResetForm"}}),!1}}}class yz extends Qe{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class jr extends Qe{render(){return this.container}showElementAndHideCanvas(e){this.data.hasOwnCanvas&&("CANVAS"===e.previousSibling?.nodeName&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return en.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,i,r,s){i.includes("mouse")?e.addEventListener(i,o=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(i,o=>{if("blur"===i){if(!t.focused||!o.relatedTarget)return;t.focused=!1}else if("focus"===i){if(t.focused)return;t.focused=!0}s&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(o)}})})}_setEventListeners(e,t,i,r){for(const[s,o]of i)("Action"===o||this.data.actions?.[o])&&(("Focus"===o||"Blur"===o)&&(t||={focused:!1}),this._setEventListener(e,t,s,o,r),"Focus"!==o||this.data.actions?.Blur?"Blur"===o&&!this.data.actions?.Focus&&this._setEventListener(e,t,"focus","Focus",null):this._setEventListener(e,t,"blur","Blur",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=null===t?"transparent":B.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const{fontColor:i}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||9,s=e.style;let o;const l=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-2),u=Math.round(c/(1.35*r))||1;o=Math.min(r,l(c/u/1.35))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-2);o=Math.min(r,l(c/1.35))}s.fontSize=`calc(${o}px * var(--scale-factor))`,s.color=B.makeHexColor(i[0],i[1],i[2]),null!==this.data.textAlignment&&(s.textAlign=["left","center","right"][this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class bz extends jr{constructor(e){super(e,{isRenderable:e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue})}setPropertyOnSiblings(e,t,i,r){const s=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[t]=i),s.setValue(o.id,{[r]:i})}render(){const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const r=e.getValue(t,{value:this.data.fieldValue});let s=r.value||"";const o=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;o&&s.length>o&&(s=s.slice(0,o));let a=r.formattedValue||this.data.textContent?.join("\n")||null;a&&this.data.comb&&(a=a.replaceAll(/\s+/g,""));const l={userValue:s,formattedValue:a,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=a??s,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type="text",i.setAttribute("value",a??s),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),Vr.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=el,this._setRequired(i,this.data.required),o&&(i.maxLength=o),i.addEventListener("input",u=>{e.setValue(t,{value:u.target.value}),this.setPropertyOnSiblings(i,"value",u.target.value,"value"),l.formattedValue=null}),i.addEventListener("resetform",u=>{i.value=l.userValue=this.data.defaultFieldValue??"",l.formattedValue=null});let c=u=>{const{formattedValue:d}=l;null!=d&&(u.target.value=d),u.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",d=>{if(l.focused)return;const{target:h}=d;l.userValue&&(h.value=l.userValue),l.lastCommittedValue=h.value,l.commitKey=1,this.data.actions?.Focus||(l.focused=!0)}),i.addEventListener("updatefromsandbox",d=>{this.showElementAndHideCanvas(d.target),this._dispatchEventFromSandbox({value(f){l.userValue=f.detail.value??"",e.setValue(t,{value:l.userValue.toString()}),f.target.value=l.userValue},formattedValue(f){const{formattedValue:p}=f.detail;l.formattedValue=p,null!=p&&f.target!==document.activeElement&&(f.target.value=p),e.setValue(t,{formattedValue:p})},selRange(f){f.target.setSelectionRange(...f.detail.selRange)},charLimit:f=>{const{charLimit:p}=f.detail,{target:g}=f;if(0===p)return void g.removeAttribute("maxLength");g.setAttribute("maxLength",p);let v=l.userValue;!v||v.length<=p||(v=v.slice(0,p),g.value=l.userValue=v,e.setValue(t,{value:v}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:v,willCommit:!0,commitKey:1,selStart:g.selectionStart,selEnd:g.selectionEnd}}))}},d)}),i.addEventListener("keydown",d=>{l.commitKey=1;let h=-1;if("Escape"===d.key?h=0:"Enter"!==d.key||this.data.multiLine?"Tab"===d.key&&(l.commitKey=3):h=2,-1===h)return;const{value:f}=d.target;l.lastCommittedValue!==f&&(l.lastCommittedValue=f,l.userValue=f,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:f,willCommit:!0,commitKey:h,selStart:d.target.selectionStart,selEnd:d.target.selectionEnd}}))});const u=c;c=null,i.addEventListener("blur",d=>{if(!l.focused||!d.relatedTarget)return;this.data.actions?.Blur||(l.focused=!1);const{value:h}=d.target;l.userValue=h,l.lastCommittedValue!==h&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:h,willCommit:!0,commitKey:l.commitKey,selStart:d.target.selectionStart,selEnd:d.target.selectionEnd}}),u(d)}),this.data.actions?.Keystroke&&i.addEventListener("beforeinput",d=>{l.lastCommittedValue=null;const{data:h,target:f}=d,{value:p,selectionStart:g,selectionEnd:v}=f;let m=g,y=v;switch(d.inputType){case"deleteWordBackward":{const b=p.substring(0,g).match(/\w*[^\w]*$/);b&&(m-=b[0].length);break}case"deleteWordForward":{const b=p.substring(g).match(/^[^\w]*\w*/);b&&(y+=b[0].length);break}case"deleteContentBackward":g===v&&(m-=1);break;case"deleteContentForward":g===v&&(y+=1)}d.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:p,change:h||"",willCommit:!1,selStart:m,selEnd:y}})}),this._setEventListeners(i,l,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],d=>d.target.value)}if(c&&i.addEventListener("blur",c),this.data.comb){const d=(this.data.rect[2]-this.data.rect[0])/o;i.classList.add("comb"),i.style.letterSpacing=`calc(${d}px * var(--scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class _z extends jr{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class wz extends jr{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,i=t.id;let r=e.getValue(i,{value:t.exportValue===t.fieldValue}).value;"string"==typeof r&&(r="Off"!==r,e.setValue(i,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return Vr.add(s),s.setAttribute("data-element-id",i),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=el,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const c of this._getElementsByName(a,i)){const u=l&&c.exportValue===t.exportValue;c.domElement&&(c.domElement.checked=u),e.setValue(c.id,{value:u})}e.setValue(i,{value:l})}),s.addEventListener("resetform",o=>{o.target.checked=(t.defaultFieldValue||"Off")===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",o=>{this._dispatchEventFromSandbox({value(l){l.target.checked="Off"!==l.detail.value,e.setValue(i,{value:l.target.checked})}},o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class aM extends jr{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,i=t.id;let r=e.getValue(i,{value:t.fieldValue===t.buttonValue}).value;if("string"==typeof r&&(r=r!==t.buttonValue,e.setValue(i,{value:r})),r)for(const o of this._getElementsByName(t.fieldName,i))e.setValue(o.id,{value:!1});const s=document.createElement("input");if(Vr.add(s),s.setAttribute("data-element-id",i),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.tabIndex=el,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const c of this._getElementsByName(a,i))e.setValue(c.id,{value:!1});e.setValue(i,{value:l})}),s.addEventListener("resetform",o=>{const a=t.defaultFieldValue;o.target.checked=null!=a&&a===t.buttonValue}),this.enableScripting&&this.hasJSActions){const o=t.buttonValue;s.addEventListener("updatefromsandbox",a=>{this._dispatchEventFromSandbox({value:c=>{const u=o===c.detail.value;for(const d of this._getElementsByName(c.target.name)){const h=u&&d.id===i;d.domElement&&(d.domElement.checked=h),e.setValue(d.id,{value:h})}}},a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Cz extends oM{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),e}}class Ez extends jr{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,i=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");Vr.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=el;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",u=>{const d=this.data.defaultFieldValue;for(const h of r.options)h.selected=h.value===d});for(const u of this.data.options){const d=document.createElement("option");d.textContent=u.displayValue,d.value=u.exportValue,i.value.includes(u.exportValue)&&(d.setAttribute("selected",!0),s=!1),r.append(d)}let o=null;if(s){const u=document.createElement("option");u.value=" ",u.setAttribute("hidden",!0),u.setAttribute("selected",!0),r.prepend(u),o=()=>{u.remove(),r.removeEventListener("input",o),o=null},r.addEventListener("input",o)}const a=u=>{const d=u?"value":"textContent",{options:h,multiple:f}=r;return f?Array.prototype.filter.call(h,p=>p.selected).map(p=>p[d]):-1===h.selectedIndex?null:h[h.selectedIndex][d]};let l=a(!1);const c=u=>Array.prototype.map.call(u.target.options,h=>({displayValue:h.textContent,exportValue:h.value}));return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",u=>{this._dispatchEventFromSandbox({value(h){o?.();const f=h.detail.value,p=new Set(Array.isArray(f)?f:[f]);for(const g of r.options)g.selected=p.has(g.value);e.setValue(t,{value:a(!0)}),l=a(!1)},multipleSelection(h){r.multiple=!0},remove(h){const f=r.options,p=h.detail.remove;f[p].selected=!1,r.remove(p),f.length>0&&-1===Array.prototype.findIndex.call(f,v=>v.selected)&&(f[0].selected=!0),e.setValue(t,{value:a(!0),items:c(h)}),l=a(!1)},clear(h){for(;0!==r.length;)r.remove(0);e.setValue(t,{value:null,items:[]}),l=a(!1)},insert(h){const{index:f,displayValue:p,exportValue:g}=h.detail.insert,v=r.children[f],m=document.createElement("option");m.textContent=p,m.value=g,v?v.before(m):r.append(m),e.setValue(t,{value:a(!0),items:c(h)}),l=a(!1)},items(h){const{items:f}=h.detail;for(;0!==r.length;)r.remove(0);for(const p of f){const{displayValue:g,exportValue:v}=p,m=document.createElement("option");m.textContent=g,m.value=v,r.append(m)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:a(!0),items:c(h)}),l=a(!1)},indices(h){const f=new Set(h.detail.indices);for(const p of h.target.options)p.selected=f.has(p.index);e.setValue(t,{value:a(!0)}),l=a(!1)},editable(h){h.target.disabled=!h.detail.editable}},u)}),r.addEventListener("input",u=>{const d=a(!0),h=a(!1);e.setValue(t,{value:d}),u.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:h,changeEx:d,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],u=>u.target.value)):r.addEventListener("input",function(u){e.setValue(t,{value:a(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class wm extends Qe{constructor(e){const{data:t,elements:i}=e;super(e,{isRenderable:Qe._hasPopupData(t)}),this.elements=i,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new Az({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const i of this.elements)i.popup=e,t.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(i=>`${_S}${i}`).join(",")),this.container}}class Az{#e=this.#T.bind(this);#t=this.#S.bind(this);#n=this.#x.bind(this);#i=this.#E.bind(this);#r=null;#s=null;#a=null;#l=null;#d=null;#c=null;#u=null;#o=!1;#h=null;#p=null;#f=null;#g=null;#v=null;#m=null;#y=!1;constructor({container:e,color:t,elements:i,titleObj:r,modificationDate:s,contentsObj:o,richText:a,parent:l,rect:c,parentRect:u,open:d}){this.#s=e,this.#v=r,this.#a=o,this.#g=a,this.#c=l,this.#r=t,this.#f=c,this.#u=u,this.#d=i,this.#l=IS.toDateObject(s),this.trigger=i.flatMap(h=>h.getElementsToTriggerPopup());for(const h of this.trigger)h.addEventListener("click",this.#i),h.addEventListener("mouseenter",this.#n),h.addEventListener("mouseleave",this.#t),h.classList.add("popupTriggerArea");for(const h of i)h.container?.addEventListener("keydown",this.#e);this.#s.hidden=!0,d&&this.#E()}render(){if(this.#h)return;const e=this.#h=document.createElement("div");if(e.className="popup",this.#r){const s=e.style.outlineColor=B.makeHexColor(...this.#r);e.style.backgroundColor=CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?`color-mix(in srgb, ${s} 30%, white)`:B.makeHexColor(...this.#r.map(a=>Math.floor(.7*(255-a)+a)))}const t=document.createElement("span");t.className="header";const i=document.createElement("h1");if(t.append(i),({dir:i.dir,str:i.textContent}=this.#v),e.append(t),this.#l){const s=document.createElement("span");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#l.valueOf()})),t.append(s)}const r=this.#_;if(r)sM.render({xfaHtml:r,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(this.#a);e.append(s)}this.#s.append(e)}get#_(){const e=this.#g,t=this.#a;return e?.str&&(!t?.str||t.str===e.str)&&this.#g.html||null}get#C(){return this.#_?.attributes?.style?.fontSize||0}get#w(){return this.#_?.attributes?.style?.color||null}#A(e){const t=[],i={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},r={style:{color:this.#w,fontSize:this.#C?`calc(${this.#C}px * var(--scale-factor))`:""}};for(const s of e.split("\n"))t.push({name:"span",value:s,attributes:r});return i}_formatContents({str:e,dir:t}){const i=document.createElement("p");i.classList.add("popupContent"),i.dir=t;const r=e.split(/(?:\r\n?|\n)/);for(let s=0,o=r.length;s<o;++s)i.append(document.createTextNode(r[s])),s<o-1&&i.append(document.createElement("br"));return i}#T(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||("Enter"===e.key||"Escape"===e.key&&this.#o)&&this.#E()}updateEdited({rect:e,popupContent:t}){this.#m||={contentsObj:this.#a,richText:this.#g},e&&(this.#p=null),t&&(this.#g=this.#A(t),this.#a=null),this.#h?.remove(),this.#h=null}resetEdited(){this.#m&&(({contentsObj:this.#a,richText:this.#g}=this.#m),this.#m=null,this.#h?.remove(),this.#h=null,this.#p=null)}#M(){if(null!==this.#p)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:i,pageX:r,pageY:s}}}=this.#c;let o=!!this.#u,a=o?this.#u:this.#f;for(const p of this.#d)if(!a||null!==B.intersect(p.data.rect,a)){a=p.data.rect,o=!0;break}const l=B.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]);this.#p=[100*(l[0]+(o?a[2]-a[0]+5:0)-r)/t,100*(l[1]-s)/i];const{style:f}=this.#s;f.left=`${this.#p[0]}%`,f.top=`${this.#p[1]}%`}#E(){this.#o=!this.#o,this.#o?(this.#x(),this.#s.addEventListener("click",this.#i),this.#s.addEventListener("keydown",this.#e)):(this.#S(),this.#s.removeEventListener("click",this.#i),this.#s.removeEventListener("keydown",this.#e))}#x(){this.#h||this.render(),this.isVisible?this.#o&&this.#s.classList.add("focused"):(this.#M(),this.#s.hidden=!1,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)+1e3)}#S(){this.#s.classList.remove("focused"),!this.#o&&this.isVisible&&(this.#s.hidden=!0,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)-1e3)}forceHide(){this.#y=this.isVisible,this.#y&&(this.#s.hidden=!0)}maybeShow(){this.#y&&(this.#h||this.#x(),this.#y=!1,this.#s.hidden=!1)}get isVisible(){return!1===this.#s.hidden}}class lM extends Qe{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=le.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const i=document.createElement("span");i.textContent=t,e.append(i)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class Dz extends Qe{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const e=this.data,{width:t,height:i}=Ni(e.rect),r=this.svgFactory.create(t,i,!0),s=this.#e=this.svgFactory.createElement("svg:line");return s.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),s.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),s.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),s.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),s.setAttribute("stroke-width",e.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),r.append(s),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Sz extends Qe{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const e=this.data,{width:t,height:i}=Ni(e.rect),r=this.svgFactory.create(t,i,!0),s=e.borderStyle.width,o=this.#e=this.svgFactory.createElement("svg:rect");return o.setAttribute("x",s/2),o.setAttribute("y",s/2),o.setAttribute("width",t-s),o.setAttribute("height",i-s),o.setAttribute("stroke-width",s||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Mz extends Qe{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const e=this.data,{width:t,height:i}=Ni(e.rect),r=this.svgFactory.create(t,i,!0),s=e.borderStyle.width,o=this.#e=this.svgFactory.createElement("svg:ellipse");return o.setAttribute("cx",t/2),o.setAttribute("cy",i/2),o.setAttribute("rx",t/2-s/2),o.setAttribute("ry",i/2-s/2),o.setAttribute("stroke-width",s||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class cM extends Qe{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:t,borderStyle:i,popupRef:r}}=this;if(!t)return this.container;const{width:s,height:o}=Ni(e),a=this.svgFactory.create(s,o,!0);let l=[];for(let u=0,d=t.length;u<d;u+=2)l.push(`${t[u]-e[0]},${e[3]-t[u+1]}`);l=l.join(" ");const c=this.#e=this.svgFactory.createElement(this.svgElementName);return c.setAttribute("points",l),c.setAttribute("stroke-width",i.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),a.append(c),this.container.append(a),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class xz extends cM{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Iz extends Qe{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class uM extends Qe{#e=[];constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=le.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,inkLists:t,borderStyle:i,popupRef:r}}=this,{width:s,height:o}=Ni(e),a=this.svgFactory.create(s,o,!0);for(const l of t){let c=[];for(let d=0,h=l.length;d<h;d+=2)c.push(`${l[d]-e[0]},${e[3]-l[d+1]}`);c=c.join(" ");const u=this.svgFactory.createElement(this.svgElementName);this.#e.push(u),u.setAttribute("points",c),u.setAttribute("stroke-width",i.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),!r&&this.hasPopupData&&this._createPopup(),a.append(u)}return this.container.append(a),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Tz extends Qe{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class Pz extends Qe{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Rz extends Qe{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Oz extends Qe{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class dM extends Qe{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Nz extends Qe{#e=null;constructor(e){super(e,{isRenderable:!0});const{file:t}=this.data;this.filename=t.filename,this.content=t.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...t})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:t}=this;let i;t.hasAppearance||0===t.fillAlpha?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(t.name)?"paperclip":"pushpin"}.svg`,t.fillAlpha&&t.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(100*t.fillAlpha)}%);`)),i.addEventListener("dblclick",this.#t.bind(this)),this.#e=i;const{isMac:r}=en.platform;return e.addEventListener("keydown",s=>{"Enter"===s.key&&(r?s.metaKey:s.ctrlKey)&&this.#t()}),!t.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),e.append(i),e}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class kz{#e=null;#t=null;#n=new Map;constructor({div:e,accessibilityManager:t,annotationCanvasMap:i,annotationEditorUIManager:r,page:s,viewport:o}){this.div=e,this.#e=t,this.#t=i,this.page=s,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return this.#n.size>0}#i(e,t){const i=e.firstChild||e;i.id=`${_S}${t}`,this.div.append(e),this.#e?.moveElementInDOM(this.div,e,i,!1)}render(e){var t=this;return N(function*(){const{annotations:i}=e,r=t.div;Fr(r,t.viewport);const s=new Map,o={data:null,layer:r,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new im,annotationStorage:e.annotationStorage||new um,enableScripting:!0===e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:t,elements:null};for(const a of i){if(a.noHTML)continue;const l=16===a.annotationType;if(l){const d=s.get(a.id);if(!d)continue;o.elements=d}else{const{width:d,height:h}=Ni(a.rect);if(d<=0||h<=0)continue}o.data=a;const c=vz.create(o);if(!c.isRenderable)continue;if(!l&&a.popupRef){const d=s.get(a.popupRef);d?d.push(c):s.set(a.popupRef,[c])}const u=c.render();a.hidden&&(u.style.visibility="hidden"),t.#i(u,a.id),c._isEditable&&(t.#n.set(c.data.id,c),t._annotationEditorUIManager?.renderAnnotationElement(c))}t.#r()})()}update({viewport:e}){const t=this.div;this.viewport=e,Fr(t,{rotation:e.rotation}),this.#r(),t.hidden=!1}#r(){if(!this.#t)return;const e=this.div;for(const[t,i]of this.#t){const r=e.querySelector(`[data-annotation-id="${t}"]`);if(!r)continue;i.className="annotationContent";const{firstChild:s}=r;s?"CANVAS"===s.nodeName?s.replaceWith(i):s.classList.contains("annotationContent")?s.after(i):s.before(i):r.append(i)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(e){return this.#n.get(e)}}const Yu=/\r\n?|\n/g;class ut extends Y{#e;#t="";#n=`${this.id}-editor`;#i=null;#r;#s=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const e=ut.prototype,t=s=>s.isEmpty(),i=Ya.TRANSLATE_SMALL,r=Ya.TRANSLATE_BIG;return he(this,"_keyboardManager",new qa([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[r,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,r],checker:t}]]))}static _type="freetext";static _editorType=le.FREETEXT;constructor(e){super({...e,name:"freeTextEditor"}),this.#e=e.color||ut._defaultColor||Y._defaultLineColor,this.#r=e.fontSize||ut._defaultFontSize}static initialize(e,t){Y.initialize(e,t,{strings:["pdfjs-free-text-default-content"]});const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case Z.FREETEXT_SIZE:ut._defaultFontSize=t;break;case Z.FREETEXT_COLOR:ut._defaultColor=t}}updateParams(e,t){switch(e){case Z.FREETEXT_SIZE:this.#a(t);break;case Z.FREETEXT_COLOR:this.#l(t)}}static get defaultPropertiesToUpdate(){return[[Z.FREETEXT_SIZE,ut._defaultFontSize],[Z.FREETEXT_COLOR,ut._defaultColor||Y._defaultLineColor]]}get propertiesToUpdate(){return[[Z.FREETEXT_SIZE,this.#r],[Z.FREETEXT_COLOR,this.#e]]}#a(e){const t=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--scale-factor))`,this.translate(0,-(r-this.#r)*this.parentScale),this.#r=r,this.#c()},i=this.#r;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Z.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#l(e){const t=r=>{this.#e=this.editorDiv.style.color=r},i=this.#e;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Z.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){const e=this.parentScale;return[-ut._internalPadding*e,-(ut._internalPadding+this.#r)*e]}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(le.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#i=new AbortController;const e=this._uiManager.combinedSignal(this.#i);this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#n),this._isDraggable=!0,this.#i?.abort(),this.#i=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#d(){const e=[];this.editorDiv.normalize();for(const t of this.editorDiv.childNodes)e.push(ut.#u(t));return e.join("\n")}#c(){const[e,t]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:r,div:s}=this,o=s.style.display,a=s.classList.contains("hidden");s.classList.remove("hidden"),s.style.display="hidden",r.div.append(this.div),i=s.getBoundingClientRect(),s.remove(),s.style.display=o,s.classList.toggle("hidden",a)}this.rotation%180==this.parentRotation%180?(this.width=i.width/e,this.height=i.height/t):(this.width=i.height/e,this.height=i.width/t),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=this.#t,t=this.#t=this.#d().trimEnd();if(e===t)return;const i=r=>{this.#t=r,r?(this.#o(),this._uiManager.rebuild(this),this.#c()):this.remove()};this.addCommands({cmd:()=>{i(t)},undo:()=>{i(e)},mustExec:!1}),this.#c()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&"Enter"===e.key&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){ut._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#n),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),Y._l10nPromise.get("pdfjs-free-text-default-content").then(r=>this.editorDiv?.setAttribute("default-content",r)),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${this.#r}px * var(--scale-factor))`,i.color=this.#e,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Uu(this,this.div,["dblclick","keydown"]),this.width){const[r,s]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this.#s;let[a,l]=this.getInitialTranslation();[a,l]=this.pageTranslationToScreen(a,l);const[c,u]=this.pageDimensions,[d,h]=this.pageTranslation;let f,p;switch(this.rotation){case 0:f=e+(o[0]-d)/c,p=t+this.height-(o[1]-h)/u;break;case 90:f=e+(o[0]-d)/c,p=t-(o[1]-h)/u,[a,l]=[l,-a];break;case 180:f=e-this.width+(o[0]-d)/c,p=t-(o[1]-h)/u,[a,l]=[-a,-l];break;case 270:f=e+(o[0]-d-this.height*u)/c,p=t+(o[1]-h-this.width*c)/u,[a,l]=[-l,a]}this.setAt(f*r,p*s,a,l)}else this.setAt(e*r,t*s,this.width*r,this.height*s);this.#o(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#u(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(Yu,"")}editorDivPaste(e){const t=e.clipboardData||window.clipboardData,{types:i}=t;if(1===i.length&&"text/plain"===i[0])return;e.preventDefault();const r=ut.#p(t.getData("text")||"").replaceAll(Yu,"\n");if(!r)return;const s=window.getSelection();if(!s.rangeCount)return;this.editorDiv.normalize(),s.deleteFromDocument();const o=s.getRangeAt(0);if(!r.includes("\n"))return o.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),void s.collapseToStart();const{startContainer:a,startOffset:l}=o,c=[],u=[];if(a.nodeType===Node.TEXT_NODE){const f=a.parentElement;if(u.push(a.nodeValue.slice(l).replaceAll(Yu,"")),f!==this.editorDiv){let p=c;for(const g of this.editorDiv.childNodes)g!==f?p.push(ut.#u(g)):p=u}c.push(a.nodeValue.slice(0,l).replaceAll(Yu,""))}else if(a===this.editorDiv){let f=c,p=0;for(const g of this.editorDiv.childNodes)p++===l&&(f=u),f.push(ut.#u(g))}this.#t=`${c.join("\n")}${r}${u.join("\n")}`,this.#o();const d=new Range;let h=c.reduce((f,p)=>f+p.length,0);for(const{firstChild:f}of this.editorDiv.childNodes)if(f.nodeType===Node.TEXT_NODE){const p=f.nodeValue.length;if(h<=p){d.setStart(f,h),d.setEnd(f,h);break}h-=p}s.removeAllRanges(),s.addRange(d)}#o(){if(this.editorDiv.replaceChildren(),this.#t)for(const e of this.#t.split("\n")){const t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}}#h(){return this.#t.replaceAll("\xa0"," ")}static#p(e){return e.replaceAll(" ","\xa0")}get contentDiv(){return this.editorDiv}static deserialize(e,t,i){let r=null;if(e instanceof lM){const{data:{defaultAppearanceData:{fontSize:o,fontColor:a},rect:l,rotation:c,id:u},textContent:d,textPosition:h,parent:{page:{pageNumber:f}}}=e;if(!d||0===d.length)return null;r=e={annotationType:le.FREETEXT,color:Array.from(a),fontSize:o,value:d.join("\n"),position:h,pageIndex:f-1,rect:l.slice(0),rotation:c,id:u,deleted:!1}}const s=super.deserialize(e,t,i);return s.#r=e.fontSize,s.#e=B.makeHexColor(...e.color),s.#t=ut.#p(e.value),s.annotationElementId=e.id||null,s.#s=r,s}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const t=ut._internalPadding*this.parentScale,i=this.getRect(t,t),r=Y._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#e),s={annotationType:le.FREETEXT,color:r,fontSize:this.#r,value:this.#h(),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?s:this.annotationElementId&&!this.#f(s)?null:(s.id=this.annotationElementId,s)}#f(e){const{value:t,fontSize:i,color:r,pageIndex:s}=this.#s;return this._hasBeenMoved||e.value!==t||e.fontSize!==i||e.color.some((o,a)=>o!==r[a])||e.pageIndex!==s}renderAnnotationElement(e){const t=super.renderAnnotationElement(e);if(this.deleted)return t;const{style:i}=t;i.fontSize=`calc(${this.#r}px * var(--scale-factor))`,i.color=this.#e,t.replaceChildren();for(const s of this.#t.split("\n")){const o=document.createElement("div");o.append(s?document.createTextNode(s):document.createElement("br")),t.append(o)}const r=ut._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(r,r),popupContent:this.#t}),t}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}}class hM{#e;#t=[];#n=[];constructor(e,t=0,i=0,r=!0){let s=1/0,o=-1/0,a=1/0,l=-1/0;const u=10**-4;for(const{x:m,y,width:b,height:_}of e){const w=Math.floor((m-t)/u)*u,D=Math.ceil((m+b+t)/u)*u,S=Math.floor((y-t)/u)*u,T=Math.ceil((y+_+t)/u)*u;this.#t.push([w,S,T,!0],[D,S,T,!1]),s=Math.min(s,w),o=Math.max(o,D),a=Math.min(a,S),l=Math.max(l,T)}const d=o-s+2*i,h=l-a+2*i,f=s-i,p=a-i,g=this.#t.at(r?-1:-2),v=[g[0],g[2]];for(const m of this.#t){const[y,b,_]=m;m[0]=(y-f)/d,m[1]=(b-p)/h,m[2]=(_-p)/h}this.#e={x:f,y:p,width:d,height:h,lastPoint:v}}getOutlines(){this.#t.sort((t,i)=>t[0]-i[0]||t[1]-i[1]||t[2]-i[2]);const e=[];for(const t of this.#t)t[3]?(e.push(...this.#l(t)),this.#s(t)):(this.#a(t),e.push(...this.#l(t)));return this.#i(e)}#i(e){const t=[],i=new Set;for(const o of e){const[a,l,c]=o;t.push([a,l,o],[a,c,o])}t.sort((o,a)=>o[1]-a[1]||o[0]-a[0]);for(let o=0,a=t.length;o<a;o+=2){const l=t[o][2],c=t[o+1][2];l.push(c),c.push(l),i.add(l),i.add(c)}const r=[];let s;for(;i.size>0;){const o=i.values().next().value;let[a,l,c,u,d]=o;i.delete(o);let h=a,f=l;for(s=[a,c],r.push(s);;){let p;if(i.has(u))p=u;else{if(!i.has(d))break;p=d}i.delete(p),[a,l,c,u,d]=p,h!==a&&(s.push(h,f,a,f===l?l:c),h=a),f=f===l?c:l}s.push(h,f)}return new Lz(r,this.#e)}#r(e){const t=this.#n;let i=0,r=t.length-1;for(;i<=r;){const s=i+r>>1,o=t[s][0];if(o===e)return s;o<e?i=s+1:r=s-1}return r+1}#s([,e,t]){const i=this.#r(e);this.#n.splice(i,0,[e,t])}#a([,e,t]){const i=this.#r(e);for(let r=i;r<this.#n.length;r++){const[s,o]=this.#n[r];if(s!==e)break;if(s===e&&o===t)return void this.#n.splice(r,1)}for(let r=i-1;r>=0;r--){const[s,o]=this.#n[r];if(s!==e)break;if(s===e&&o===t)return void this.#n.splice(r,1)}}#l(e){const[t,i,r]=e,s=[[t,i,r]],o=this.#r(r);for(let a=0;a<o;a++){const[l,c]=this.#n[a];for(let u=0,d=s.length;u<d;u++){const[,h,f]=s[u];if(!(c<=h||f<=l)){if(h>=l){if(f>c)s[u][1]=c;else{if(1===d)return[];s.splice(u,1),u--,d--}continue}s[u][2]=l,f>c&&s.push([t,c,f])}}}return s}}class fM{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(e,t){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof Cm}}class Lz extends fM{#e;#t;constructor(e,t){super(),this.#t=e,this.#e=t}toSVGPath(){const e=[];for(const t of this.#t){let[i,r]=t;e.push(`M${i} ${r}`);for(let s=2;s<t.length;s+=2){const o=t[s],a=t[s+1];o===i?(e.push(`V${a}`),r=a):a===r&&(e.push(`H${o}`),i=o)}e.push("Z")}return e.join(" ")}serialize([e,t,i,r],s){const o=[],a=i-e,l=r-t;for(const c of this.#t){const u=new Array(c.length);for(let d=0;d<c.length;d+=2)u[d]=e+c[d]*a,u[d+1]=r-c[d+1]*l;o.push(u)}return o}get box(){return this.#e}}class Br{#e;#t=[];#n;#i;#r=[];#s=new Float64Array(18);#a;#l;#d;#c;#u;#o;#h=[];static#p=8;static#f=2;static#g=Br.#p+Br.#f;constructor({x:e,y:t},i,r,s,o,a=0){this.#e=i,this.#o=s*r,this.#i=o,this.#s.set([NaN,NaN,NaN,NaN,e,t],6),this.#n=a,this.#c=Br.#p*r,this.#d=Br.#g*r,this.#u=r,this.#h.push(e,t)}get free(){return!0}isEmpty(){return isNaN(this.#s[8])}#v(){const e=this.#s.subarray(4,6),t=this.#s.subarray(16,18),[i,r,s,o]=this.#e;return[(this.#a+(e[0]-t[0])/2-i)/s,(this.#l+(e[1]-t[1])/2-r)/o,(this.#a+(t[0]-e[0])/2-i)/s,(this.#l+(t[1]-e[1])/2-r)/o]}add({x:e,y:t}){this.#a=e,this.#l=t;const[i,r,s,o]=this.#e;let[a,l,c,u]=this.#s.subarray(8,12);const d=e-c,h=t-u,f=Math.hypot(d,h);if(f<this.#d)return!1;const p=f-this.#c,g=p/f,v=g*d,m=g*h;let y=a,b=l;a=c,l=u,c+=v,u+=m,this.#h?.push(e,t);const D=-m/p*this.#o,S=v/p*this.#o;return this.#s.set(this.#s.subarray(2,8),0),this.#s.set([c+D,u+S],4),this.#s.set(this.#s.subarray(14,18),12),this.#s.set([c-D,u-S],16),isNaN(this.#s[6])?(0===this.#r.length&&(this.#s.set([a+D,l+S],2),this.#r.push(NaN,NaN,NaN,NaN,(a+D-i)/s,(l+S-r)/o),this.#s.set([a-D,l-S],14),this.#t.push(NaN,NaN,NaN,NaN,(a-D-i)/s,(l-S-r)/o)),this.#s.set([y,b,a,l,c,u],6),!this.isEmpty()):(this.#s.set([y,b,a,l,c,u],6),Math.abs(Math.atan2(b-l,y-a)-Math.atan2(m,v))<Math.PI/2?([a,l,c,u]=this.#s.subarray(2,6),this.#r.push(NaN,NaN,NaN,NaN,((a+c)/2-i)/s,((l+u)/2-r)/o),[a,l,y,b]=this.#s.subarray(14,18),this.#t.push(NaN,NaN,NaN,NaN,((y+a)/2-i)/s,((b+l)/2-r)/o),!0):([y,b,a,l,c,u]=this.#s.subarray(0,6),this.#r.push(((y+5*a)/6-i)/s,((b+5*l)/6-r)/o,((5*a+c)/6-i)/s,((5*l+u)/6-r)/o,((a+c)/2-i)/s,((l+u)/2-r)/o),[c,u,a,l,y,b]=this.#s.subarray(12,18),this.#t.push(((y+5*a)/6-i)/s,((b+5*l)/6-r)/o,((5*a+c)/6-i)/s,((5*l+u)/6-r)/o,((a+c)/2-i)/s,((l+u)/2-r)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=this.#r,t=this.#t,i=this.#s.subarray(4,6),r=this.#s.subarray(16,18),[s,o,a,l]=this.#e,[c,u,d,h]=this.#v();if(isNaN(this.#s[6])&&!this.isEmpty())return`M${(this.#s[2]-s)/a} ${(this.#s[3]-o)/l} L${(this.#s[4]-s)/a} ${(this.#s[5]-o)/l} L${c} ${u} L${d} ${h} L${(this.#s[16]-s)/a} ${(this.#s[17]-o)/l} L${(this.#s[14]-s)/a} ${(this.#s[15]-o)/l} Z`;const f=[];f.push(`M${e[4]} ${e[5]}`);for(let p=6;p<e.length;p+=6)isNaN(e[p])?f.push(`L${e[p+4]} ${e[p+5]}`):f.push(`C${e[p]} ${e[p+1]} ${e[p+2]} ${e[p+3]} ${e[p+4]} ${e[p+5]}`);f.push(`L${(i[0]-s)/a} ${(i[1]-o)/l} L${c} ${u} L${d} ${h} L${(r[0]-s)/a} ${(r[1]-o)/l}`);for(let p=t.length-6;p>=6;p-=6)isNaN(t[p])?f.push(`L${t[p+4]} ${t[p+5]}`):f.push(`C${t[p]} ${t[p+1]} ${t[p+2]} ${t[p+3]} ${t[p+4]} ${t[p+5]}`);return f.push(`L${t[4]} ${t[5]} Z`),f.join(" ")}getOutlines(){const e=this.#r,t=this.#t,i=this.#s,r=i.subarray(4,6),s=i.subarray(16,18),[o,a,l,c]=this.#e,u=new Float64Array((this.#h?.length??0)+2);for(let m=0,y=u.length-2;m<y;m+=2)u[m]=(this.#h[m]-o)/l,u[m+1]=(this.#h[m+1]-a)/c;u[u.length-2]=(this.#a-o)/l,u[u.length-1]=(this.#l-a)/c;const[d,h,f,p]=this.#v();if(isNaN(i[6])&&!this.isEmpty()){const m=new Float64Array(36);return m.set([NaN,NaN,NaN,NaN,(i[2]-o)/l,(i[3]-a)/c,NaN,NaN,NaN,NaN,(i[4]-o)/l,(i[5]-a)/c,NaN,NaN,NaN,NaN,d,h,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,(i[16]-o)/l,(i[17]-a)/c,NaN,NaN,NaN,NaN,(i[14]-o)/l,(i[15]-a)/c],0),new Cm(m,u,this.#e,this.#u,this.#n,this.#i)}const g=new Float64Array(this.#r.length+24+this.#t.length);let v=e.length;for(let m=0;m<v;m+=2)isNaN(e[m])?g[m]=g[m+1]=NaN:(g[m]=e[m],g[m+1]=e[m+1]);g.set([NaN,NaN,NaN,NaN,(r[0]-o)/l,(r[1]-a)/c,NaN,NaN,NaN,NaN,d,h,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,(s[0]-o)/l,(s[1]-a)/c],v),v+=24;for(let m=t.length-6;m>=6;m-=6)for(let y=0;y<6;y+=2)isNaN(t[m+y])?(g[v]=g[v+1]=NaN,v+=2):(g[v]=t[m+y],g[v+1]=t[m+y+1],v+=2);return g.set([NaN,NaN,NaN,NaN,t[4],t[5]],v),new Cm(g,u,this.#e,this.#u,this.#n,this.#i)}}class Cm extends fM{#e;#t=null;#n;#i;#r;#s;#a;constructor(e,t,i,r,s,o){super(),this.#a=e,this.#r=t,this.#e=i,this.#s=r,this.#n=s,this.#i=o,this.#c(o);const{x:a,y:l,width:c,height:u}=this.#t;for(let d=0,h=e.length;d<h;d+=2)e[d]=(e[d]-a)/c,e[d+1]=(e[d+1]-l)/u;for(let d=0,h=t.length;d<h;d+=2)t[d]=(t[d]-a)/c,t[d+1]=(t[d+1]-l)/u}toSVGPath(){const e=[`M${this.#a[4]} ${this.#a[5]}`];for(let t=6,i=this.#a.length;t<i;t+=6)isNaN(this.#a[t])?e.push(`L${this.#a[t+4]} ${this.#a[t+5]}`):e.push(`C${this.#a[t]} ${this.#a[t+1]} ${this.#a[t+2]} ${this.#a[t+3]} ${this.#a[t+4]} ${this.#a[t+5]}`);return e.push("Z"),e.join(" ")}serialize([e,t,i,r],s){const o=i-e,a=r-t;let l,c;switch(s){case 0:l=this.#l(this.#a,e,r,o,-a),c=this.#l(this.#r,e,r,o,-a);break;case 90:l=this.#d(this.#a,e,t,o,a),c=this.#d(this.#r,e,t,o,a);break;case 180:l=this.#l(this.#a,i,t,-o,a),c=this.#l(this.#r,i,t,-o,a);break;case 270:l=this.#d(this.#a,i,r,-o,-a),c=this.#d(this.#r,i,r,-o,-a)}return{outline:Array.from(l),points:[Array.from(c)]}}#l(e,t,i,r,s){const o=new Float64Array(e.length);for(let a=0,l=e.length;a<l;a+=2)o[a]=t+e[a]*r,o[a+1]=i+e[a+1]*s;return o}#d(e,t,i,r,s){const o=new Float64Array(e.length);for(let a=0,l=e.length;a<l;a+=2)o[a]=t+e[a+1]*r,o[a+1]=i+e[a]*s;return o}#c(e){const t=this.#a;let i=t[4],r=t[5],s=i,o=r,a=i,l=r,c=i,u=r;const d=e?Math.max:Math.min;for(let v=6,m=t.length;v<m;v+=6){if(isNaN(t[v]))s=Math.min(s,t[v+4]),o=Math.min(o,t[v+5]),a=Math.max(a,t[v+4]),l=Math.max(l,t[v+5]),u<t[v+5]?(c=t[v+4],u=t[v+5]):u===t[v+5]&&(c=d(c,t[v+4]));else{const y=B.bezierBoundingBox(i,r,...t.slice(v,v+6));s=Math.min(s,y[0]),o=Math.min(o,y[1]),a=Math.max(a,y[2]),l=Math.max(l,y[3]),u<y[3]?(c=y[2],u=y[3]):u===y[3]&&(c=d(c,y[2]))}i=t[v+4],r=t[v+5]}const h=s-this.#n,f=o-this.#n,p=a-s+2*this.#n,g=l-o+2*this.#n;this.#t={x:h,y:f,width:p,height:g,lastPoint:[c,u]}}get box(){return this.#t}getNewOutline(e,t){const{x:i,y:r,width:s,height:o}=this.#t,[a,l,c,u]=this.#e,d=s*c,h=o*u,f=i*c+a,p=r*u+l,g=new Br({x:this.#r[0]*d+f,y:this.#r[1]*h+p},this.#e,this.#s,e,this.#i,t??this.#n);for(let v=2;v<this.#r.length;v+=2)g.add({x:this.#r[v]*d+f,y:this.#r[v+1]*h+p});return g.getOutlines()}}class ci{#e=this.#f.bind(this);#t=this.#v.bind(this);#n=null;#i=null;#r;#s=null;#a=!1;#l=!1;#d=null;#c;#u=null;#o;static get _keyboardManager(){return he(this,"_keyboardManager",new qa([[["Escape","mac+Escape"],ci.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],ci.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],ci.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],ci.prototype._moveToPrevious],[["Home","mac+Home"],ci.prototype._moveToBeginning],[["End","mac+End"],ci.prototype._moveToEnd]]))}constructor({editor:e=null,uiManager:t=null}){e?(this.#l=!1,this.#o=Z.HIGHLIGHT_COLOR,this.#d=e):(this.#l=!0,this.#o=Z.HIGHLIGHT_DEFAULT_COLOR),this.#u=e?._uiManager||t,this.#c=this.#u._eventBus,this.#r=e?.color||this.#u?.highlightColors.values().next().value||"#FFFF98"}renderButton(){const e=this.#n=document.createElement("button");e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=this.#u._signal;e.addEventListener("click",this.#g.bind(this),{signal:t}),e.addEventListener("keydown",this.#e,{signal:t});const i=this.#i=document.createElement("span");return i.className="swatch",i.setAttribute("aria-hidden",!0),i.style.backgroundColor=this.#r,e.append(i),e}renderMainDropdown(){const e=this.#s=this.#h();return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}#h(){const e=document.createElement("div"),t=this.#u._signal;e.addEventListener("contextmenu",Pn,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[i,r]of this.#u.highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",r),s.title=i,s.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${i}`);const o=document.createElement("span");s.append(o),o.className="swatch",o.style.backgroundColor=r,s.setAttribute("aria-selected",r===this.#r),s.addEventListener("click",this.#p.bind(this,r),{signal:t}),e.append(s)}return e.addEventListener("keydown",this.#e,{signal:t}),e}#p(e,t){t.stopPropagation(),this.#c.dispatch("switchannotationeditorparams",{source:this,type:this.#o,value:e})}_colorSelectFromKeyboard(e){if(e.target===this.#n)return void this.#g(e);const t=e.target.getAttribute("data-color");t&&this.#p(t,e)}_moveToNext(e){this.#m?e.target!==this.#n?e.target.nextSibling?.focus():this.#s.firstChild?.focus():this.#g(e)}_moveToPrevious(e){e.target!==this.#s?.firstChild&&e.target!==this.#n?(this.#m||this.#g(e),e.target.previousSibling?.focus()):this.#m&&this._hideDropdownFromKeyboard()}_moveToBeginning(e){this.#m?this.#s.firstChild?.focus():this.#g(e)}_moveToEnd(e){this.#m?this.#s.lastChild?.focus():this.#g(e)}#f(e){ci._keyboardManager.exec(this,e)}#g(e){if(this.#m)return void this.hideDropdown();if(this.#a=0===e.detail,window.addEventListener("pointerdown",this.#t,{signal:this.#u._signal}),this.#s)return void this.#s.classList.remove("hidden");const t=this.#s=this.#h();this.#n.append(t)}#v(e){this.#s?.contains(e.target)||this.hideDropdown()}hideDropdown(){this.#s?.classList.add("hidden"),window.removeEventListener("pointerdown",this.#t)}get#m(){return this.#s&&!this.#s.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#l){if(!this.#m)return void this.#d?.unselect();this.hideDropdown(),this.#n.focus({preventScroll:!0,focusVisible:this.#a})}}updateColor(e){if(this.#i&&(this.#i.style.backgroundColor=e),!this.#s)return;const t=this.#u.highlightColors.values();for(const i of this.#s.children)i.setAttribute("aria-selected",t.next().value===e)}destroy(){this.#n?.remove(),this.#n=null,this.#i=null,this.#s?.remove(),this.#s=null}}class it extends Y{#e=null;#t=0;#n;#i=null;#r=null;#s=null;#a=null;#l=0;#d=null;#c=null;#u=null;#o=!1;#h=null;#p;#f=null;#g="";#v;#m="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _l10nPromise;static _type="highlight";static _editorType=le.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const e=it.prototype;return he(this,"_keyboardManager",new qa([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super({...e,name:"highlightEditor"}),this.color=e.color||it._defaultColor,this.#v=e.thickness||it._defaultThickness,this.#p=e.opacity||it._defaultOpacity,this.#n=e.boxes||null,this.#m=e.methodOfCreation||"",this.#g=e.text||"",this._isDraggable=!1,e.highlightId>-1?(this.#o=!0,this.#_(e),this.#M()):(this.#e=e.anchorNode,this.#t=e.anchorOffset,this.#a=e.focusNode,this.#l=e.focusOffset,this.#y(),this.#M(),this.rotate(this.rotation))}get telemetryInitialData(){return{action:"added",type:this.#o?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:this.#v,methodOfCreation:this.#m}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}#y(){const e=new hM(this.#n,.001);this.#c=e.getOutlines(),({x:this.x,y:this.y,width:this.width,height:this.height}=this.#c.box);const t=new hM(this.#n,.0025,.001,"ltr"===this._uiManager.direction);this.#s=t.getOutlines();const{lastPoint:i}=this.#s.box;this.#h=[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height]}#_({highlightOutlines:e,highlightId:t,clipPathId:i}){if(this.#c=e,this.#s=e.getNewOutline(this.#v/2+1.5,.0025),t>=0)this.#u=t,this.#i=i,this.parent.drawLayer.finalizeLine(t,e),this.#f=this.parent.drawLayer.highlightOutline(this.#s);else if(this.parent){const u=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(this.#u,e),this.parent.drawLayer.updateBox(this.#u,it.#E(this.#c.box,(u-this.rotation+360)%360)),this.parent.drawLayer.updateLine(this.#f,this.#s),this.parent.drawLayer.updateBox(this.#f,it.#E(this.#s.box,u))}const{x:s,y:o,width:a,height:l}=e.box;switch(this.rotation){case 0:this.x=s,this.y=o,this.width=a,this.height=l;break;case 90:{const[u,d]=this.parentDimensions;this.x=o,this.y=1-s,this.width=a*d/u,this.height=l*u/d;break}case 180:this.x=1-s,this.y=1-o,this.width=a,this.height=l;break;case 270:{const[u,d]=this.parentDimensions;this.x=1-o,this.y=s,this.width=a*d/u,this.height=l*u/d;break}}const{lastPoint:c}=this.#s.box;this.#h=[(c[0]-s)/a,(c[1]-o)/l]}static initialize(e,t){Y.initialize(e,t),it._defaultColor||=t.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(e,t){switch(e){case Z.HIGHLIGHT_DEFAULT_COLOR:it._defaultColor=t;break;case Z.HIGHLIGHT_THICKNESS:it._defaultThickness=t}}translateInPage(e,t){}get toolbarPosition(){return this.#h}updateParams(e,t){switch(e){case Z.HIGHLIGHT_COLOR:this.#C(t);break;case Z.HIGHLIGHT_THICKNESS:this.#w(t)}}static get defaultPropertiesToUpdate(){return[[Z.HIGHLIGHT_DEFAULT_COLOR,it._defaultColor],[Z.HIGHLIGHT_THICKNESS,it._defaultThickness]]}get propertiesToUpdate(){return[[Z.HIGHLIGHT_COLOR,this.color||it._defaultColor],[Z.HIGHLIGHT_THICKNESS,this.#v||it._defaultThickness],[Z.HIGHLIGHT_FREE,this.#o]]}#C(e){const t=r=>{this.color=r,this.parent?.drawLayer.changeColor(this.#u,r),this.#r?.updateColor(r)},i=this.color;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Z.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)}#w(e){const t=this.#v,i=r=>{this.#v=r,this.#A(r)};this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Z.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}addEditToolbar(){var e=()=>super.addEditToolbar,t=this;return N(function*(){const i=yield e().call(t);return i?(t._uiManager.highlightColors&&(t.#r=new ci({editor:t}),i.addColorPicker(t.#r)),i):null})()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#P())}getBaseTranslation(){return[0,0]}getRect(e,t){return super.getRect(e,t,this.#P())}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){this.#T(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.#M(),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?this.#T():e&&(this.#M(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),this.show(this._isVisible),t&&this.select()}#A(e){if(!this.#o)return;this.#_({highlightOutlines:this.#c.getNewOutline(e/2)}),this.fixAndSetPosition();const[t,i]=this.parentDimensions;this.setDims(this.width*t,this.height*i)}#T(){null===this.#u||!this.parent||(this.parent.drawLayer.remove(this.#u),this.#u=null,this.parent.drawLayer.remove(this.#f),this.#f=null)}#M(e=this.parent){null===this.#u&&(({id:this.#u,clipPathId:this.#i}=e.drawLayer.highlight(this.#c,this.color,this.#p)),this.#f=e.drawLayer.highlightOutline(this.#s),this.#d&&(this.#d.style.clipPath=this.#i))}static#E({x:e,y:t,width:i,height:r},s){switch(s){case 90:return{x:1-t-r,y:e,width:r,height:i};case 180:return{x:1-e-i,y:1-t-r,width:i,height:r};case 270:return{x:t,y:1-e-i,width:r,height:i}}return{x:e,y:t,width:i,height:r}}rotate(e){const{drawLayer:t}=this.parent;let i;i=this.#o?it.#E(this.#c.box,e=(e-this.rotation+360)%360):it.#E(this,e),t.rotate(this.#u,e),t.rotate(this.#f,e),t.updateBox(this.#u,i),t.updateBox(this.#f,it.#E(this.#s.box,e))}render(){if(this.div)return this.div;const e=super.render();this.#g&&(e.setAttribute("aria-label",this.#g),e.setAttribute("role","mark")),this.#o?e.classList.add("free"):this.div.addEventListener("keydown",this.#x.bind(this),{signal:this._uiManager._signal});const t=this.#d=document.createElement("div");e.append(t),t.setAttribute("aria-hidden","true"),t.className="internal",t.style.clipPath=this.#i;const[i,r]=this.parentDimensions;return this.setDims(this.width*i,this.height*r),Uu(this,this.#d,["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.parent.drawLayer.addClass(this.#f,"hovered")}pointerleave(){this.parent.drawLayer.removeClass(this.#f,"hovered")}#x(e){it._keyboardManager.exec(this,e)}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:this.#S(!0);break;case 1:case 3:this.#S(!1)}}#S(e){if(!this.#e)return;const t=window.getSelection();e?t.setPosition(this.#e,this.#t):t.setPosition(this.#a,this.#l)}select(){super.select(),this.#f&&(this.parent?.drawLayer.removeClass(this.#f,"hovered"),this.parent?.drawLayer.addClass(this.#f,"selected"))}unselect(){super.unselect(),this.#f&&(this.parent?.drawLayer.removeClass(this.#f,"selected"),this.#o||this.#S(!1))}get _mustFixPosition(){return!this.#o}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.show(this.#u,e),this.parent.drawLayer.show(this.#f,e))}#P(){return this.#o?this.rotation:0}#N(){if(this.#o)return null;const[e,t]=this.pageDimensions,[i,r]=this.pageTranslation,s=this.#n,o=new Float32Array(8*s.length);let a=0;for(const{x:l,y:c,width:u,height:d}of s){const h=l*e+i,f=(1-c-d)*t+r;o[a]=o[a+4]=h,o[a+1]=o[a+3]=f,o[a+2]=o[a+6]=h+u*e,o[a+5]=o[a+7]=f+d*t,a+=8}return o}#D(e){return this.#c.serialize(e,this.#P())}static startHighlighting(e,t,{target:i,x:r,y:s}){const{x:o,y:a,width:l,height:c}=i.getBoundingClientRect(),u=new AbortController,d=e.combinedSignal(u),f=p=>{u.abort(),this.#I(e,p)};window.addEventListener("blur",f,{signal:d}),window.addEventListener("pointerup",f,{signal:d}),window.addEventListener("pointerdown",p=>{p.preventDefault(),p.stopPropagation()},{capture:!0,passive:!1,signal:d}),window.addEventListener("contextmenu",Pn,{signal:d}),i.addEventListener("pointermove",this.#b.bind(this,e),{signal:d}),this._freeHighlight=new Br({x:r,y:s},[o,a,l,c],e.scale,this._defaultThickness/2,t,.001),({id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0))}static#b(e,t){this._freeHighlight.add(t)&&e.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)}static#I(e,t){this._freeHighlight.isEmpty()?e.drawLayer.removeFreeHighlight(this._freeHighlightId):e.createAndAddNewEditor(t,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static deserialize(e,t,i){const r=super.deserialize(e,t,i),{rect:[s,o,a,l],color:c,quadPoints:u}=e;r.color=B.makeHexColor(...c),r.#p=e.opacity;const[d,h]=r.pageDimensions;r.width=(a-s)/d,r.height=(l-o)/h;const f=r.#n=[];for(let p=0;p<u.length;p+=8)f.push({x:(u[4]-a)/d,y:(l-(1-u[p+5]))/h,width:(u[p+2]-u[p])/d,height:(u[p+5]-u[p+1])/h});return r.#y(),r}serialize(e=!1){if(this.isEmpty()||e)return null;const t=this.getRect(0,0),i=Y._colorManager.convert(this.color);return{annotationType:le.HIGHLIGHT,color:i,opacity:this.#p,thickness:this.#v,quadPoints:this.#N(),outlines:this.#D(t),pageIndex:this.pageIndex,rect:t,rotation:this.#P(),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}}class _t extends Y{#e=0;#t=0;#n=null;#i=new Path2D;#r=!1;#s=null;#a=!1;#l=!1;#d=null;#c=null;#u=0;#o=0;#h=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";static _editorType=le.INK;constructor(e){super({...e,name:"inkEditor"}),this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e,t){Y.initialize(e,t)}static updateDefaultParams(e,t){switch(e){case Z.INK_THICKNESS:_t._defaultThickness=t;break;case Z.INK_COLOR:_t._defaultColor=t;break;case Z.INK_OPACITY:_t._defaultOpacity=t/100}}updateParams(e,t){switch(e){case Z.INK_THICKNESS:this.#p(t);break;case Z.INK_COLOR:this.#f(t);break;case Z.INK_OPACITY:this.#g(t)}}static get defaultPropertiesToUpdate(){return[[Z.INK_THICKNESS,_t._defaultThickness],[Z.INK_COLOR,_t._defaultColor||Y._defaultLineColor],[Z.INK_OPACITY,Math.round(100*_t._defaultOpacity)]]}get propertiesToUpdate(){return[[Z.INK_THICKNESS,this.thickness||_t._defaultThickness],[Z.INK_COLOR,this.color||_t._defaultColor||Y._defaultLineColor],[Z.INK_OPACITY,Math.round(100*(this.opacity??_t._defaultOpacity))]]}#p(e){const t=r=>{this.thickness=r,this.#B()},i=this.thickness;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Z.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#f(e){const t=r=>{this.color=r,this.#E()},i=this.color;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Z.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#g(e){const t=r=>{this.opacity=r,this.#E()},i=this.opacity;this.addCommands({cmd:t.bind(this,e/=100),undo:t.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Z.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.canvas||(this.#N(),this.#D()),this.isAttachedToDOM||(this.parent.add(this),this.#b()),this.#B()))}remove(){null!==this.canvas&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#n&&(clearTimeout(this.#n),this.#n=null),this.#d?.disconnect(),this.#d=null,super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&null===e&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){const[e,t]=this.parentDimensions;this.setDimensions(this.width*e,this.height*t)}enableEditMode(){this.#r||null===this.canvas||(super.enableEditMode(),this._isDraggable=!1,this.#x())}disableEditMode(){!this.isInEditMode()||null===this.canvas||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.#S())}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return 0===this.paths.length||1===this.paths.length&&0===this.paths[0].length}#v(){const{parentRotation:e,parentDimensions:[t,i]}=this;switch(e){case 90:return[0,i,i,t];case 180:return[t,i,t,i];case 270:return[t,0,i,t];default:return[0,0,t,i]}}#m(){const{ctx:e,color:t,opacity:i,thickness:r,parentScale:s,scaleFactor:o}=this;e.lineWidth=r*s/o,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle=`${t}${function o$(n){return Math.round(Math.min(255,Math.max(1,255*n))).toString(16).padStart(2,"0")}(i)}`}#y(e,t){this.canvas.addEventListener("contextmenu",Pn,{signal:this._uiManager._signal}),this.#S(),this.#s=new AbortController;const i=this._uiManager.combinedSignal(this.#s);this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:i}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:i}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:i}),this.isEditing=!0,this.#l||(this.#l=!0,this.#b(),this.thickness||=_t._defaultThickness,this.color||=_t._defaultColor||Y._defaultLineColor,this.opacity??=_t._defaultOpacity),this.currentPath.push([e,t]),this.#a=!1,this.#m(),this.#h=()=>{this.#A(),this.#h&&window.requestAnimationFrame(this.#h)},window.requestAnimationFrame(this.#h)}#_(e,t){const[i,r]=this.currentPath.at(-1);if(this.currentPath.length>1&&e===i&&t===r)return;const s=this.currentPath;let o=this.#i;if(s.push([e,t]),this.#a=!0,s.length<=2)return o.moveTo(...s[0]),void o.lineTo(e,t);3===s.length&&(this.#i=o=new Path2D,o.moveTo(...s[0])),this.#T(o,...s.at(-3),...s.at(-2),e,t)}#C(){if(0===this.currentPath.length)return;const e=this.currentPath.at(-1);this.#i.lineTo(...e)}#w(e,t){let i;if(this.#h=null,e=Math.min(Math.max(e,0),this.canvas.width),t=Math.min(Math.max(t,0),this.canvas.height),this.#_(e,t),this.#C(),1!==this.currentPath.length)i=this.#M();else{const l=[e,t];i=[[l,l.slice(),l.slice(),l]]}const r=this.#i,s=this.currentPath;this.currentPath=[],this.#i=new Path2D,this.addCommands({cmd:()=>{this.allRawPaths.push(s),this.paths.push(i),this.bezierPath2D.push(r),this._uiManager.rebuild(this)},undo:()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),0===this.paths.length?this.remove():(this.canvas||(this.#N(),this.#D()),this.#B())},mustExec:!0})}#A(){if(!this.#a)return;this.#a=!1;Math.ceil(this.thickness*this.parentScale);const t=this.currentPath.slice(-3),i=t.map(u=>u[0]),r=t.map(u=>u[1]),{ctx:c}=(Math.min(...i),Math.max(...i),Math.min(...r),Math.max(...r),this);c.save(),c.clearRect(0,0,this.canvas.width,this.canvas.height);for(const u of this.bezierPath2D)c.stroke(u);c.stroke(this.#i),c.restore()}#T(e,t,i,r,s,o,a){const l=(t+r)/2,c=(i+s)/2,u=(r+o)/2,d=(s+a)/2;e.bezierCurveTo(l+2*(r-l)/3,c+2*(s-c)/3,u+2*(r-u)/3,d+2*(s-d)/3,u,d)}#M(){const e=this.currentPath;if(e.length<=2)return[[e[0],e[0],e.at(-1),e.at(-1)]];const t=[];let i,[r,s]=e[0];for(i=1;i<e.length-2;i++){const[h,f]=e[i],[p,g]=e[i+1],v=(h+p)/2,m=(f+g)/2;t.push([[r,s],[r+2*(h-r)/3,s+2*(f-s)/3],[v+2*(h-v)/3,m+2*(f-m)/3],[v,m]]),[r,s]=[v,m]}const[o,a]=e[i],[l,c]=e[i+1];return t.push([[r,s],[r+2*(o-r)/3,s+2*(a-s)/3],[l+2*(o-l)/3,c+2*(a-c)/3],[l,c]]),t}#E(){if(this.isEmpty())return void this.#R();this.#m();const{canvas:e,ctx:t}=this;t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.width,e.height),this.#R();for(const i of this.bezierPath2D)t.stroke(i)}commit(){this.#r||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#r=!0,this.div.classList.add("disabled"),this.#B(!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}#x(){if(this.#c)return;this.#c=new AbortController;const e=this._uiManager.combinedSignal(this.#c);this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:e})}#S(){this.pointerdownAC?.abort(),this.pointerdownAC=null}canvasPointerdown(e){0!==e.button||!this.isInEditMode()||this.#r||(this.setInForeground(),e.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),this.#y(e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),this.#_(e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),this.#P(e)}canvasPointerleave(e){this.#P(e)}#P(e){this.#s?.abort(),this.#s=null,this.#x(),this.#n&&clearTimeout(this.#n),this.#n=setTimeout(()=>{this.#n=null,this.canvas.removeEventListener("contextmenu",Pn)},10),this.#w(e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#N(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#D(){this.#d=new ResizeObserver(e=>{const t=e[0].contentRect;t.width&&t.height&&this.setDimensions(t.width,t.height)}),this.#d.observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{this.#d?.disconnect(),this.#d=null},{once:!0})}get isResizable(){return!this.isEmpty()&&this.#r}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[i,r,s,o]=this.#v();if(this.setAt(i,r,0,0),this.setDims(s,o),this.#N(),this.width){const[a,l]=this.parentDimensions;this.setAspectRatio(this.width*a,this.height*l),this.setAt(e*a,t*l,this.width*a,this.height*l),this.#l=!0,this.#b(),this.setDims(this.width*a,this.height*l),this.#E(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#D(),this.div}#b(){if(!this.#l)return;const[e,t]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*t),this.#R()}setDimensions(e,t){const i=Math.round(e),r=Math.round(t);if(this.#u===i&&this.#o===r)return;this.#u=i,this.#o=r,this.canvas.style.visibility="hidden";const[s,o]=this.parentDimensions;this.width=e/s,this.height=t/o,this.fixAndSetPosition(),this.#r&&this.#I(e,t),this.#b(),this.#E(),this.canvas.style.visibility="visible",this.fixDims()}#I(e,t){const i=this.#V(),r=(e-i)/this.#t,s=(t-i)/this.#e;this.scaleFactor=Math.min(r,s)}#R(){const e=this.#V()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)}static#L(e){const t=new Path2D;for(let i=0,r=e.length;i<r;i++){const[s,o,a,l]=e[i];0===i&&t.moveTo(...s),t.bezierCurveTo(o[0],o[1],a[0],a[1],l[0],l[1])}return t}static#H(e,t,i){const[r,s,o,a]=t;switch(i){case 0:for(let l=0,c=e.length;l<c;l+=2)e[l]+=r,e[l+1]=a-e[l+1];break;case 90:for(let l=0,c=e.length;l<c;l+=2){const u=e[l];e[l]=e[l+1]+r,e[l+1]=u+s}break;case 180:for(let l=0,c=e.length;l<c;l+=2)e[l]=o-e[l],e[l+1]+=s;break;case 270:for(let l=0,c=e.length;l<c;l+=2){const u=e[l];e[l]=o-e[l+1],e[l+1]=a-u}break;default:throw new Error("Invalid rotation")}return e}static#j(e,t,i){const[r,s,o,a]=t;switch(i){case 0:for(let l=0,c=e.length;l<c;l+=2)e[l]-=r,e[l+1]=a-e[l+1];break;case 90:for(let l=0,c=e.length;l<c;l+=2){const u=e[l];e[l]=e[l+1]-s,e[l+1]=u-r}break;case 180:for(let l=0,c=e.length;l<c;l+=2)e[l]=o-e[l],e[l+1]-=s;break;case 270:for(let l=0,c=e.length;l<c;l+=2){const u=e[l];e[l]=a-e[l+1],e[l+1]=o-u}break;default:throw new Error("Invalid rotation")}return e}#k(e,t,i,r){const s=[],o=this.thickness/2,a=e*t+o,l=e*i+o;for(const c of this.paths){const u=[],d=[];for(let h=0,f=c.length;h<f;h++){const[p,g,v,m]=c[h];if(p[0]===m[0]&&p[1]===m[1]&&1===f){const R=e*p[0]+a,L=e*p[1]+l;u.push(R,L),d.push(R,L);break}const y=e*p[0]+a,b=e*p[1]+l,_=e*g[0]+a,w=e*g[1]+l,D=e*v[0]+a,S=e*v[1]+l,T=e*m[0]+a,E=e*m[1]+l;0===h&&(u.push(y,b),d.push(y,b)),u.push(_,w,D,S,T,E),d.push(_,w),h===f-1&&d.push(T,E)}s.push({bezier:_t.#H(u,r,this.rotation),points:_t.#H(d,r,this.rotation)})}return s}#F(){let e=1/0,t=-1/0,i=1/0,r=-1/0;for(const s of this.paths)for(const[o,a,l,c]of s){const u=B.bezierBoundingBox(...o,...a,...l,...c);e=Math.min(e,u[0]),i=Math.min(i,u[1]),t=Math.max(t,u[2]),r=Math.max(r,u[3])}return[e,i,t,r]}#V(){return this.#r?Math.ceil(this.thickness*this.parentScale):0}#B(e=!1){if(this.isEmpty())return;if(!this.#r)return void this.#E();const t=this.#F(),i=this.#V();this.#t=Math.max(Y.MIN_SIZE,t[2]-t[0]),this.#e=Math.max(Y.MIN_SIZE,t[3]-t[1]);const r=Math.ceil(i+this.#t*this.scaleFactor),s=Math.ceil(i+this.#e*this.scaleFactor),[o,a]=this.parentDimensions;this.width=r/o,this.height=s/a,this.setAspectRatio(r,s);const l=this.translationX,c=this.translationY;this.translationX=-t[0],this.translationY=-t[1],this.#b(),this.#E(),this.#u=r,this.#o=s,this.setDims(r,s);const u=e?i/this.scaleFactor/2:0;this.translate(l-this.translationX-u,c-this.translationY-u)}static deserialize(e,t,i){if(e instanceof uM)return null;const r=super.deserialize(e,t,i);r.thickness=e.thickness,r.color=B.makeHexColor(...e.color),r.opacity=e.opacity;const[s,o]=r.pageDimensions,a=r.width*s,l=r.height*o,c=r.parentScale,u=e.thickness/2;r.#r=!0,r.#u=Math.round(a),r.#o=Math.round(l);const{paths:d,rect:h,rotation:f}=e;for(let{bezier:g}of d){g=_t.#j(g,h,f);const v=[];r.paths.push(v);let m=c*(g[0]-u),y=c*(g[1]-u);for(let _=2,w=g.length;_<w;_+=6){const R=c*(g[_+4]-u),L=c*(g[_+5]-u);v.push([[m,y],[c*(g[_]-u),c*(g[_+1]-u)],[c*(g[_+2]-u),c*(g[_+3]-u)],[R,L]]),m=R,y=L}const b=this.#L(v);r.bezierPath2D.push(b)}const p=r.#F();return r.#t=Math.max(Y.MIN_SIZE,p[2]-p[0]),r.#e=Math.max(Y.MIN_SIZE,p[3]-p[1]),r.#I(a,l),r}serialize(){if(this.isEmpty())return null;const e=this.getRect(0,0),t=Y._colorManager.convert(this.ctx.strokeStyle);return{annotationType:le.INK,color:t,thickness:this.thickness,opacity:this.opacity,paths:this.#k(this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}class Em extends Y{#e=null;#t=null;#n=null;#i=null;#r=null;#s="";#a=null;#l=null;#d=null;#c=!1;#u=!1;static _type="stamp";static _editorType=le.STAMP;constructor(e){super({...e,name:"stampEditor"}),this.#i=e.bitmapUrl,this.#r=e.bitmapFile}static initialize(e,t){Y.initialize(e,t)}static get supportedTypes(){return he(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(t=>`image/${t}`))}static get supportedTypesStr(){return he(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,t){t.pasteEditor(le.STAMP,{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(e){const t=e.get("hasAltText");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}#o(e,t=!1){e?(this.#e=e.bitmap,t||(this.#t=e.id,this.#c=e.isSvg),e.file&&(this.#s=e.file.name),this.#f()):this.remove()}#h(){if(this.#n=null,this._uiManager.enableWaiting(!1),this.#a){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e)return this._editToolbar.hide(),void this._uiManager.editAltText(this,!0);if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}mlGuessAltText(e=null,t=!0){var i=this;return N(function*(){if(i.hasAltTextData())return null;const{mlManager:r}=i._uiManager;if(!r)throw new Error("No ML.");if(!(yield r.isEnabledFor("altText")))throw new Error("ML isn't enabled for alt text.");const{data:s,width:o,height:a}=e||i.copyCanvas(null,!0).imageData,l=yield r.guess({name:"altText",request:{data:s,width:o,height:a,channels:s.length/(o*a)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const c=l.output;return yield i.setGuessedAltText(c),t&&!i.hasAltTextData()&&(i.altTextData={alt:c,decorative:!1}),c})()}#p(){var e=this;if(this.#t)return this._uiManager.enableWaiting(!0),void this._uiManager.imageManager.getFromId(this.#t).then(r=>this.#o(r,!0)).finally(()=>this.#h());if(this.#i){const r=this.#i;return this.#i=null,this._uiManager.enableWaiting(!0),void(this.#n=this._uiManager.imageManager.getFromUrl(r).then(s=>this.#o(s)).finally(()=>this.#h()))}if(this.#r){const r=this.#r;return this.#r=null,this._uiManager.enableWaiting(!0),void(this.#n=this._uiManager.imageManager.getFromFile(r).then(s=>this.#o(s)).finally(()=>this.#h()))}const t=document.createElement("input");t.type="file",t.accept=Em.supportedTypesStr;const i=this._uiManager._signal;this.#n=new Promise(r=>{t.addEventListener("change",N(function*(){if(t.files&&0!==t.files.length){e._uiManager.enableWaiting(!0);const s=yield e._uiManager.imageManager.getFromFile(t.files[0]);e._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:e._uiManager.useNewAltTextFlow}}),e.#o(s)}else e.remove();r()}),{signal:i}),t.addEventListener("cancel",()=>{this.remove(),r()},{signal:i})}).finally(()=>this.#h()),t.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#a?.remove(),this.#a=null,this.#l?.disconnect(),this.#l=null,this.#d&&(clearTimeout(this.#d),this.#d=null)),super.remove()}rebuild(){this.parent?(super.rebuild(),null!==this.div&&(this.#t&&null===this.#a&&this.#p(),this.isAttachedToDOM||this.parent.add(this))):this.#t&&this.#p()}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#n||this.#e||this.#i||this.#r||this.#t)}get isResizable(){return!0}render(){if(this.div)return this.div;let e,t;if(this.width&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),this.#e?this.#f():this.#p(),this.width){const[i,r]=this.parentDimensions;this.setAt(e*i,t*r,this.width*i,this.height*r)}return this.div}#f(){const{div:e}=this;let{width:t,height:i}=this.#e;const[r,s]=this.pageDimensions,o=.75;if(this.width)t=this.width*r,i=this.height*s;else if(t>o*r||i>o*s){const u=Math.min(o*r/t,o*s/i);t*=u,i*=u}const[a,l]=this.parentDimensions;this.setDims(t*a/r,i*l/s),this._uiManager.enableWaiting(!1);const c=this.#a=document.createElement("canvas");e.append(c),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow)&&(e.hidden=!1),this.#m(t,i),this.#_(),this.#u||(this.parent.addUndoableEditor(this),this.#u=!0),this._reportTelemetry({action:"inserted_image"}),this.#s&&c.setAttribute("aria-label",this.#s)}copyCanvas(e,t=!1){e||(e=224);const{width:i,height:r}=this.#e,s=document.createElement("canvas");let o=this.#e,a=i,l=r;if(i>e||r>e){const g=Math.min(e/i,e/r);a=Math.floor(i*g),l=Math.floor(r*g),this.#c||(o=this.#v(a,l))}s.width=a,s.height=l;const c=s.getContext("2d");c.filter=this._uiManager.hcmFilter;let u="white",d="#cfcfd8";"none"!==this._uiManager.hcmFilter?d="black":window.matchMedia?.("(prefers-color-scheme: dark)").matches&&(u="#8f8f9d",d="#42414d");const h=15,f=new OffscreenCanvas(30,30),p=f.getContext("2d");if(p.fillStyle=u,p.fillRect(0,0,30,30),p.fillStyle=d,p.fillRect(0,0,h,h),p.fillRect(h,h,h,h),c.fillStyle=c.createPattern(f,"repeat"),c.fillRect(0,0,a,l),t){const g=new OffscreenCanvas(a,l),v=g.getContext("2d",{willReadFrequently:!0});v.drawImage(o,0,0,o.width,o.height,0,0,a,l);const m=v.getImageData(0,0,a,l).data;return c.drawImage(g,0,0),{canvas:s,imageData:{width:a,height:l,data:m}}}return c.drawImage(o,0,0,o.width,o.height,0,0,a,l),{canvas:s,imageData:null}}#g(e,t){const[i,r]=this.parentDimensions;this.width=e/i,this.height=t/r,this.setDims(e,t),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,null!==this.#d&&clearTimeout(this.#d),this.#d=setTimeout(()=>{this.#d=null,this.#m(e,t)},200)}#v(e,t){const{width:i,height:r}=this.#e;let s=i,o=r,a=this.#e;for(;s>2*e||o>2*t;){const l=s,c=o;s>2*e&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const u=new OffscreenCanvas(s,o);u.getContext("2d").drawImage(a,0,0,l,c,0,0,s,o),a=u.transferToImageBitmap()}return a}#m(e,t){e=Math.ceil(e),t=Math.ceil(t);const i=this.#a;if(!i||i.width===e&&i.height===t)return;i.width=e,i.height=t;const r=this.#c?this.#e:this.#v(e,t),s=i.getContext("2d");s.filter=this._uiManager.hcmFilter,s.drawImage(r,0,0,r.width,r.height,0,0,e,t)}getImageForAltText(){return this.#a}#y(e){if(e){if(this.#c){const r=this._uiManager.imageManager.getSvgUrl(this.#t);if(r)return r}const t=document.createElement("canvas");return({width:t.width,height:t.height}=this.#e),t.getContext("2d").drawImage(this.#e,0,0),t.toDataURL()}if(this.#c){const[t,i]=this.pageDimensions,r=Math.round(this.width*t*no.PDF_TO_CSS_UNITS),s=Math.round(this.height*i*no.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(r,s);return o.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,r,s),o.transferToImageBitmap()}return structuredClone(this.#e)}#_(){this._uiManager._signal&&(this.#l=new ResizeObserver(e=>{const t=e[0].contentRect;t.width&&t.height&&this.#g(t.width,t.height)}),this.#l.observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{this.#l?.disconnect(),this.#l=null},{once:!0}))}static deserialize(e,t,i){if(e instanceof dM)return null;const r=super.deserialize(e,t,i),{rect:s,bitmapUrl:o,bitmapId:a,isSvg:l,accessibilityData:c}=e;a&&i.imageManager.isValidId(a)?r.#t=a:r.#i=o,r.#c=l;const[u,d]=r.pageDimensions;return r.width=(s[2]-s[0])/u,r.height=(s[3]-s[1])/d,c&&(r.altTextData=c),r}serialize(e=!1,t=null){if(this.isEmpty())return null;const i={annotationType:le.STAMP,bitmapId:this.#t,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#c,structTreeParentId:this._structTreeParentId};if(e)return i.bitmapUrl=this.#y(!0),i.accessibilityData=this.serializeAltText(!0),i;const{decorative:r,altText:s}=this.serializeAltText(!1);if(!r&&s&&(i.accessibilityData={type:"Figure",alt:s}),null===t)return i;t.stamps||=new Map;const o=this.#c?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(t.stamps.has(this.#t)){if(this.#c){const a=t.stamps.get(this.#t);o>a.area&&(a.area=o,a.serialized.bitmap.close(),a.serialized.bitmap=this.#y(!1))}}else t.stamps.set(this.#t,{area:o,serialized:i}),i.bitmap=this.#y(!1);return i}}let Fz=(()=>{class n{#e;#t=!1;#n=null;#i=null;#r=null;#s=new Map;#a=!1;#l=!1;#d=!1;#c=null;#u=null;#o;static _initialized=!1;static#h=new Map([ut,_t,Em,it].map(t=>[t._editorType,t]));constructor({uiManager:t,pageIndex:i,div:r,accessibilityManager:s,annotationLayer:o,drawLayer:a,textLayer:l,viewport:c,l10n:u}){const d=[...n.#h.values()];if(!n._initialized){n._initialized=!0;for(const h of d)h.initialize(u,t)}t.registerEditorTypes(d),this.#o=t,this.pageIndex=i,this.div=r,this.#e=s,this.#n=o,this.viewport=c,this.#c=l,this.drawLayer=a,this.#o.addLayer(this)}get isEmpty(){return 0===this.#s.size}get isInvisible(){return this.isEmpty&&this.#o.getMode()===le.NONE}updateToolbar(t){this.#o.updateToolbar(t)}updateMode(t=this.#o.getMode()){switch(this.#m(),t){case le.NONE:return this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),void this.disableClick();case le.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case le.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:i}=this.div;for(const r of n.#h.values())i.toggle(`${r._type}Editing`,t===r._editorType);this.div.hidden=!1}hasTextLayer(t){return t===this.#c?.div}addInkEditorIfNeeded(t){if(this.#o.getMode()===le.INK){if(!t)for(const r of this.#s.values())if(r.isEmpty())return void r.setInBackground();this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}}setEditingState(t){this.#o.setEditingState(t)}addCommands(t){this.#o.addCommands(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){this.#n?.div.classList.toggle("disabled",!t)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const r of this.#s.values())r.enableEditing(),r.show(!0),r.annotationElementId&&(this.#o.removeChangedExistingAnnotation(r),t.add(r.annotationElementId));if(!this.#n)return;const i=this.#n.getEditableAnnotations();for(const r of i){if(r.hide(),this.#o.isDeletedAnnotationElement(r.data.id)||t.has(r.data.id))continue;const s=this.deserialize(r);s&&(this.addOrRebuild(s),s.enableEditing())}}disable(){this.#d=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,i=new Map;for(const s of this.#s.values())if(s.disableEditing(),s.annotationElementId){if(null!==s.serialize()){t.set(s.annotationElementId,s);continue}i.set(s.annotationElementId,s),this.getEditableAnnotation(s.annotationElementId)?.show(),s.remove()}if(this.#n){const s=this.#n.getEditableAnnotations();for(const o of s){const{id:a}=o.data;if(this.#o.isDeletedAnnotationElement(a))continue;let l=i.get(a);l?(l.resetAnnotationElement(o),l.show(!1),o.show()):(l=t.get(a),l&&(this.#o.addChangedExistingAnnotation(l),l.renderAnnotationElement(o),l.show(!1)),o.show())}}this.#m(),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const s of n.#h.values())r.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#d=!1}getEditableAnnotation(t){return this.#n?.getEditableAnnotation(t)||null}setActiveEditor(t){this.#o.getActive()!==t&&this.#o.setActiveEditor(t)}enableTextSelection(){if(this.div.tabIndex=-1,this.#c?.div&&!this.#u){this.#u=new AbortController;const t=this.#o.combinedSignal(this.#u);this.#c.div.addEventListener("pointerdown",this.#p.bind(this),{signal:t}),this.#c.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#c?.div&&this.#u&&(this.#u.abort(),this.#u=null,this.#c.div.classList.remove("highlighting"))}#p(t){this.#o.unselectAll();const{target:i}=t;if(i===this.#c.div||i.classList.contains("endOfContent")&&this.#c.div.contains(i)){const{isMac:r}=en.platform;if(0!==t.button||t.ctrlKey&&r)return;this.#o.showAllEditors("highlight",!0,!0),this.#c.div.classList.add("free"),this.toggleDrawing(),it.startHighlighting(this,"ltr"===this.#o.direction,t),this.#c.div.addEventListener("pointerup",()=>{this.#c.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#o._signal}),t.preventDefault()}}enableClick(){if(this.#i)return;this.#i=new AbortController;const t=this.#o.combinedSignal(this.#i);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:t})}disableClick(){this.#i?.abort(),this.#i=null}attach(t){this.#s.set(t.id,t);const{annotationElementId:i}=t;i&&this.#o.isDeletedAnnotationElement(i)&&this.#o.removeDeletedAnnotationElement(t)}detach(t){this.#s.delete(t.id),this.#e?.removePointerInTextLayer(t.contentDiv),!this.#d&&t.annotationElementId&&this.#o.addDeletedAnnotationElement(t)}remove(t){this.detach(t),this.#o.removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1,this.#l||this.addInkEditorIfNeeded(!1)}changeParent(t){t.parent!==this&&(t.parent&&t.annotationElementId&&(this.#o.addDeletedAnnotationElement(t.annotationElementId),Y.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),t.parent?.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(t.parent!==this||!t.isAttachedToDOM){if(this.changeParent(t),this.#o.addEditor(t),this.attach(t),!t.isAttachedToDOM){const i=t.render();this.div.append(i),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(),this.#o.addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){if(!t.isAttachedToDOM)return;const{activeElement:i}=document;t.div.contains(i)&&!this.#r&&(t._focusEventsAllowed=!1,this.#r=setTimeout(()=>{this.#r=null,t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this.#o._signal}),i.focus())},0)),t._structTreeParentId=this.#e?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||=this,t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){this.addCommands({cmd:()=>t._uiManager.rebuild(t),undo:()=>{t.remove()},mustExec:!1})}getNextId(){return this.#o.getId()}get#f(){return n.#h.get(this.#o.getMode())}combinedSignal(t){return this.#o.combinedSignal(t)}#g(t){const i=this.#f;return i?new i.prototype.constructor(t):null}canCreateNewEmptyEditor(){return this.#f?.canCreateNewEmptyEditor()}pasteEditor(t,i){this.#o.updateToolbar(t),this.#o.updateMode(t);const{offsetX:r,offsetY:s}=this.#v(),o=this.getNextId(),a=this.#g({parent:this,id:o,x:r,y:s,uiManager:this.#o,isCentered:!0,...i});a&&this.add(a)}deserialize(t){return n.#h.get(t.annotationType??t.annotationEditorType)?.deserialize(t,this,this.#o)||null}createAndAddNewEditor(t,i,r={}){const s=this.getNextId(),o=this.#g({parent:this,id:s,x:t.offsetX,y:t.offsetY,uiManager:this.#o,isCentered:i,...r});return o&&this.add(o),o}#v(){const{x:t,y:i,width:r,height:s}=this.div.getBoundingClientRect(),o=Math.max(0,t),a=Math.max(0,i),u=(o+Math.min(window.innerWidth,t+r))/2-t,d=(a+Math.min(window.innerHeight,i+s))/2-i,[h,f]=this.viewport.rotation%180==0?[u,d]:[d,u];return{offsetX:h,offsetY:f}}addNewEditor(){this.createAndAddNewEditor(this.#v(),!0)}setSelected(t){this.#o.setSelected(t)}toggleSelected(t){this.#o.toggleSelected(t)}isSelected(t){return this.#o.isSelected(t)}unselect(t){this.#o.unselect(t)}pointerup(t){const{isMac:i}=en.platform;if(!(0!==t.button||t.ctrlKey&&i)&&t.target===this.div&&this.#a){if(this.#a=!1,!this.#t)return void(this.#t=!0);if(this.#o.getMode()===le.STAMP)return void this.#o.unselectAll();this.createAndAddNewEditor(t,!1)}}pointerdown(t){if(this.#o.getMode()===le.HIGHLIGHT&&this.enableTextSelection(),this.#a)return void(this.#a=!1);const{isMac:i}=en.platform;if(0!==t.button||t.ctrlKey&&i||t.target!==this.div)return;this.#a=!0;const r=this.#o.getActive();this.#t=!r||r.isEmpty()}findNewParent(t,i,r){const s=this.#o.findParent(i,r);return null!==s&&s!==this&&(s.changeParent(t),!0)}destroy(){this.#o.getActive()?.parent===this&&(this.#o.commitOrRemove(),this.#o.setActiveEditor(null)),this.#r&&(clearTimeout(this.#r),this.#r=null);for(const t of this.#s.values())this.#e?.removePointerInTextLayer(t.contentDiv),t.setParent(null),t.isAttachedToDOM=!1,t.div.remove();this.div=null,this.#s.clear(),this.#o.removeLayer(this)}#m(){this.#l=!0;for(const t of this.#s.values())t.isEmpty()&&t.remove();this.#l=!1}render({viewport:t}){this.viewport=t,Fr(this.div,t);for(const i of this.#o.getEditors(this.pageIndex))this.add(i),i.rebuild();this.updateMode()}update({viewport:t}){this.#o.commitOrRemove(),this.#m();const i=this.viewport.rotation,r=t.rotation;if(this.viewport=t,Fr(this.div,{rotation:r}),i!==r)for(const s of this.#s.values())s.rotate(r);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:t,pageHeight:i}=this.viewport.rawDims;return[t,i]}get scale(){return this.#o.viewParameters.realScale}}return n})();class It{#e=null;#t=0;#n=new Map;#i=new Map;constructor({pageIndex:e}){this.pageIndex=e}setParent(e){if(this.#e){if(this.#e!==e){if(this.#n.size>0)for(const t of this.#n.values())t.remove(),e.append(t);this.#e=e}}else this.#e=e}static get _svgFactory(){return he(this,"_svgFactory",new im)}static#r(e,{x:t=0,y:i=0,width:r=1,height:s=1}={}){const{style:o}=e;o.top=100*i+"%",o.left=100*t+"%",o.width=100*r+"%",o.height=100*s+"%"}#s(e){const t=It._svgFactory.create(1,1,!0);return this.#e.append(t),t.setAttribute("aria-hidden",!0),It.#r(t,e),t}#a(e,t){const i=It._svgFactory.createElement("clipPath");e.append(i);const r=`clip_${t}`;i.setAttribute("id",r),i.setAttribute("clipPathUnits","objectBoundingBox");const s=It._svgFactory.createElement("use");return i.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),r}highlight(e,t,i,r=!1){const s=this.#t++,o=this.#s(e.box);o.classList.add("highlight"),e.free&&o.classList.add("free");const a=It._svgFactory.createElement("defs");o.append(a);const l=It._svgFactory.createElement("path");a.append(l);const c=`path_p${this.pageIndex}_${s}`;l.setAttribute("id",c),l.setAttribute("d",e.toSVGPath()),r&&this.#i.set(s,l);const u=this.#a(a,c),d=It._svgFactory.createElement("use");return o.append(d),o.setAttribute("fill",t),o.setAttribute("fill-opacity",i),d.setAttribute("href",`#${c}`),this.#n.set(s,o),{id:s,clipPathId:`url(#${u})`}}highlightOutline(e){const t=this.#t++,i=this.#s(e.box);i.classList.add("highlightOutline");const r=It._svgFactory.createElement("defs");i.append(r);const s=It._svgFactory.createElement("path");r.append(s);const o=`path_p${this.pageIndex}_${t}`;let a;if(s.setAttribute("id",o),s.setAttribute("d",e.toSVGPath()),s.setAttribute("vector-effect","non-scaling-stroke"),e.free){i.classList.add("free");const u=It._svgFactory.createElement("mask");r.append(u),a=`mask_p${this.pageIndex}_${t}`,u.setAttribute("id",a),u.setAttribute("maskUnits","objectBoundingBox");const d=It._svgFactory.createElement("rect");u.append(d),d.setAttribute("width","1"),d.setAttribute("height","1"),d.setAttribute("fill","white");const h=It._svgFactory.createElement("use");u.append(h),h.setAttribute("href",`#${o}`),h.setAttribute("stroke","none"),h.setAttribute("fill","black"),h.setAttribute("fill-rule","nonzero"),h.classList.add("mask")}const l=It._svgFactory.createElement("use");i.append(l),l.setAttribute("href",`#${o}`),a&&l.setAttribute("mask",`url(#${a})`);const c=l.cloneNode();return i.append(c),l.classList.add("mainOutline"),c.classList.add("secondaryOutline"),this.#n.set(t,i),t}finalizeLine(e,t){const i=this.#i.get(e);this.#i.delete(e),this.updateBox(e,t.box),i.setAttribute("d",t.toSVGPath())}updateLine(e,t){this.#n.get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}removeFreeHighlight(e){this.remove(e),this.#i.delete(e)}updatePath(e,t){this.#i.get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){It.#r(this.#n.get(e),t)}show(e,t){this.#n.get(e).classList.toggle("hidden",!t)}rotate(e,t){this.#n.get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){this.#n.get(e).setAttribute("fill",t)}changeOpacity(e,t){this.#n.get(e).setAttribute("fill-opacity",t)}addClass(e,t){this.#n.get(e).classList.add(t)}removeClass(e,t){this.#n.get(e).classList.remove(t)}remove(e){null!==this.#e&&(this.#n.get(e).remove(),this.#n.delete(e))}destroy(){this.#e=null;for(const e of this.#n.values())e.remove();this.#n.clear()}}var Vz=ee.AbortException,jz=ee.AnnotationEditorLayer,Bz=ee.AnnotationEditorParamsType,pM=ee.AnnotationEditorType,Hz=ee.AnnotationEditorUIManager,Uz=ee.AnnotationLayer,$z=ee.AnnotationMode,zz=ee.CMapCompressionType,Gz=ee.ColorPicker,Wz=ee.DOMSVGFactory,qz=ee.DrawLayer,Yz=ee.FeatureTest,gM=ee.GlobalWorkerOptions,Kz=ee.ImageKind,Xz=ee.InvalidPDFException,Qz=ee.MissingPDFException,Zz=ee.OPS,Jz=ee.PDFDataRangeTransport,e4=ee.PDFDateString,t4=ee.PDFWorker,n4=ee.PasswordResponses,i4=ee.PermissionFlag,r4=ee.PixelsPerInch,s4=ee.RenderingCancelledException,o4=ee.TextLayer,a4=ee.UnexpectedResponseException,l4=ee.Util,mM=ee.VerbosityLevel,c4=ee.XfaLayer,u4=ee.build,d4=ee.createValidAbsoluteUrl,h4=ee.fetchData,vM=ee.getDocument,f4=ee.getFilenameFromUrl,p4=ee.getPdfFilenameFromUrl,g4=ee.getXfaPageViewport,m4=ee.isDataScheme,v4=ee.isPdfFile,y4=ee.noContextMenu,b4=ee.normalizeUnicode,_4=ee.setLayerDimensions,w4=ee.shadow,Ku=ee.version;function yM(n,e){this.v=n,this.k=e}function bM(n){return new yM(n,0)}function tl(n){var e,t;function i(s,o){try{var a=n[s](o),l=a.value,c=l instanceof yM;Promise.resolve(c?l.v:l).then(function(u){if(c){var d="return"===s?"return":"next";if(!l.k||u.done)return i(d,u);u=n[d](u).value}r(a.done?"return":"normal",u)},function(u){i("throw",u)})}catch(u){r("throw",u)}}function r(s,o){switch(s){case"return":e.resolve({value:o,done:!0});break;case"throw":e.reject(o);break;default:e.resolve({value:o,done:!1})}(e=e.next)?i(e.key,e.arg):t=null}this._invoke=function(s,o){return new Promise(function(a,l){var c={key:s,arg:o,resolve:a,reject:l,next:null};t?t=t.next=c:(e=t=c,i(s,o))})},"function"!=typeof n.return&&(this.return=void 0)}function _M(n){return function(){return new tl(n.apply(this,arguments))}}function Xu(n){function e(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var i=t.done;return Promise.resolve(t.value).then(function(r){return{value:r,done:i}})}return(Xu=function(i){this.s=i,this.n=i.next}).prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(i){var r=this.s.return;return void 0===r?Promise.resolve({value:i,done:!0}):e(r.apply(this.s,arguments))},throw:function(i){var r=this.s.return;return void 0===r?Promise.reject(i):e(r.apply(this.s,arguments))}},new Xu(n)}tl.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},tl.prototype.next=function(n){return this._invoke("next",n)},tl.prototype.throw=function(n){return this._invoke("throw",n)},tl.prototype.return=function(n){return this._invoke("return",n)};var nl={d:(n,e)=>{for(var t in e)nl.o(e,t)&&!nl.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})},o:(n,e)=>Object.prototype.hasOwnProperty.call(n,e)},Be=globalThis.pdfjsViewer={};nl.d(Be,{AnnotationLayerBuilder:()=>VM,DownloadManager:()=>y5,EventBus:()=>Rm,FindState:()=>ur,GenericL10n:()=>Vi,LinkTarget:()=>Hr,PDFFindController:()=>s5,PDFHistory:()=>hG,PDFLinkService:()=>td,PDFPageView:()=>cx,PDFScriptingManager:()=>DG,PDFSinglePageViewer:()=>IG,PDFViewer:()=>hx,ProgressBar:()=>L4,RenderingStates:()=>ze,ScrollMode:()=>fe,SimpleLinkService:()=>xm,SpreadMode:()=>Tt,StructTreeLayerBuilder:()=>ax,TextLayerBuilder:()=>lo,XfaLayerBuilder:()=>lx,parseQueryString:()=>Qu});const ze={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},fe={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3},Tt={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};class M4{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return 1!==this.sx||1!==this.sy}}function DM(n,e,t=!1){let i=n.offsetParent;if(!i)return void console.error("offsetParent is not set -- cannot scroll");let r=n.offsetTop+n.clientTop,s=n.offsetLeft+n.clientLeft;for(;i.clientHeight===i.scrollHeight&&i.clientWidth===i.scrollWidth||t&&(i.classList.contains("markedContent")||"hidden"===getComputedStyle(i).overflow);)if(r+=i.offsetTop,s+=i.offsetLeft,i=i.offsetParent,!i)return;e&&(void 0!==e.top&&(r+=e.top),void 0!==e.left&&(s+=e.left,i.scrollLeft=s)),i.scrollTop=r}function Qu(n){const e=new Map;for(const[t,i]of new URLSearchParams(n))e.set(t.toLowerCase(),i);return e}const SM=/[\x00-\x1F]/g;function Zu(n,e=!1){return SM.test(n)?e?n.replaceAll(SM,t=>"\0"===t?"":" "):n.replaceAll("\0",""):n}function il(n,e,t=0){let i=t,r=n.length-1;if(r<0||!e(n[r]))return n.length;if(e(n[i]))return i;for(;i<r;){const s=i+r>>1;e(n[s])?r=s:i=s+1}return i}function MM(n){if(Math.floor(n)===n)return[n,1];const e=1/n;if(e>8)return[1,8];if(Math.floor(e)===e)return[1,e];const i=n>1?e:n;let l,r=0,s=1,o=1,a=1;for(;;){const c=r+o,u=s+a;if(u>8)break;i<=c/u?(o=c,a=u):(r=c,s=u)}return l=i-r/s<o/a-i?i===n?[r,s]:[s,r]:i===n?[o,a]:[a,o],l}function Ju(n,e){return n-n%e}function xM(n){return Number.isInteger(n)&&n%90==0}function IM(n){return n.width<=n.height}new Promise(function(n){window.requestAnimationFrame(n)});const N4=document.documentElement.style;class L4{#e=null;#t=null;#n=0;#i=null;#r=!0;constructor(e){this.#e=e.classList,this.#i=e.style}get percent(){return this.#n}set percent(e){this.#n=function k4(n,e,t){return Math.min(Math.max(n,e),t)}(e,0,100),isNaN(e)?this.#e.add("indeterminate"):(this.#e.remove("indeterminate"),this.#i.setProperty("--progressBar-percent",`${this.#n}%`))}setWidth(e){if(!e)return;const i=e.parentNode.offsetWidth-e.offsetWidth;i>0&&this.#i.setProperty("--progressBar-end-offset",`${i}px`)}setDisableAutoFetch(e=5e3){100===this.#n||isNaN(this.#n)||(this.#t&&clearTimeout(this.#t),this.show(),this.#t=setTimeout(()=>{this.#t=null,this.hide()},e))}hide(){this.#r&&(this.#r=!1,this.#e.add("hidden"))}show(){this.#r||(this.#r=!0,this.#e.remove("hidden"))}}function ed(n){return function V4(n){return n<11904}(n)?function j4(n){return 0==(65408&n)}(n)?function U4(n){return 32===n||9===n||13===n||10===n}(n)?0:function B4(n){return n>=97&&n<=122||n>=65&&n<=90}(n)||function H4(n){return n>=48&&n<=57}(n)||95===n?1:2:function q4(n){return 3584==(65408&n)}(n)?7:160===n?0:1:function $4(n){return n>=13312&&n<=40959||n>=63744&&n<=64255}(n)?3:function z4(n){return n>=12448&&n<=12543}(n)?4:function G4(n){return n>=12352&&n<=12447}(n)?5:function W4(n){return n>=65376&&n<=65439}(n)?6:1}let TM;const ur={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3},PM={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},RM=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]);let OM;const Z4=/\p{M}+/gu,J4=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,e5=/([^\p{M}])\p{M}*$/u,t5=/^\p{M}*([^\p{M}])/u,n5=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,NM=new Map,kM=new Map;let Dm=null,Sm=null;function Mm(n){const e=[];let t,i;for(;null!==(t=n5.exec(n));){let{index:f}=t;for(const p of t[0]){let g=NM.get(p);g||(g=p.normalize("NFD").length,NM.set(p,g)),e.push([g,f++])}}if(0===e.length&&Dm)i=Dm;else if(e.length>0&&Sm)i=Sm;else{const m=`([${Object.keys(PM).join("")}])|([${function Y4(){return TM||="\xa0\xa8\xaa\xaf\xb2-\xb5\xb8-\xba\xbc-\xbe\u0132-\u0133\u013f-\u0140\u0149\u017f\u01c4-\u01cc\u01f1-\u01f3\u02b0-\u02b8\u02d8-\u02dd\u02e0-\u02e4\u0374\u037a\u037e\u0384-\u0385\u0387\u03d0-\u03d6\u03f0-\u03f2\u03f4-\u03f5\u03f9\u0587\u0675-\u0678\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e33\u0eb3\u0edc-\u0edd\u0f0c\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u10fc\u1d2c-\u1d2e\u1d30-\u1d3a\u1d3c-\u1d4d\u1d4f-\u1d6a\u1d78\u1d9b-\u1dbf\u1e9a-\u1e9b\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbd-\u1fc1\u1fc9\u1fcb\u1fcd-\u1fcf\u1fd3\u1fdb\u1fdd-\u1fdf\u1fe3\u1feb\u1fed-\u1fef\u1ff9\u1ffb\u1ffd-\u1ffe\u2000-\u200a\u2011\u2017\u2024-\u2026\u202f\u2033-\u2034\u2036-\u2037\u203c\u203e\u2047-\u2049\u2057\u205f\u2070-\u2071\u2074-\u208e\u2090-\u209c\u20a8\u2100-\u2103\u2105-\u2107\u2109-\u2113\u2115-\u2116\u2119-\u211d\u2120-\u2122\u2124\u2126\u2128\u212a-\u212d\u212f-\u2131\u2133-\u2139\u213b-\u2140\u2145-\u2149\u2150-\u217f\u2189\u222c-\u222d\u222f-\u2230\u2329-\u232a\u2460-\u24ea\u2a0c\u2a74-\u2a76\u2adc\u2c7c-\u2c7d\u2d6f\u2e9f\u2ef3\u2f00-\u2fd5\u3000\u3036\u3038-\u303a\u309b-\u309c\u309f\u30ff\u3131-\u318e\u3192-\u319f\u3200-\u321e\u3220-\u3247\u3250-\u327e\u3280-\u33ff\ua69c-\ua69d\ua770\ua7f2-\ua7f4\ua7f8-\ua7f9\uab5c-\uab5f\uab69\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfc\ufe10-\ufe19\ufe30-\ufe44\ufe47-\ufe52\ufe54-\ufe66\ufe68-\ufe6b\ufe70-\ufe72\ufe74\ufe76-\ufefc\uff01-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc\uffe0-\uffe6",TM}()}])|((?:\u3099|\u309a)\\n)|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|((?:\\p{Ideographic}|[\u3040-\u30ff])\\n)|(\\n)`;i=0===e.length?Dm=new RegExp(m+"|(\\u0000)","gum"):Sm=new RegExp(m+"|([\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f])","gum")}const r=[];for(;null!==(t=Z4.exec(n));)r.push([t[0].length,t.index]);let s=n.normalize("NFD");const o=[[0,0]];let a=0,l=0,c=0,u=0,d=0,h=!1;return s=s.replace(i,(f,p,g,v,m,y,b,_,w,D)=>{if(D-=u,p){const S=PM[p],T=S.length;for(let E=1;E<T;E++)o.push([D-c+E,c-E]);return c-=T-1,S}if(g){let S=kM.get(g);S||(S=g.normalize("NFKC"),kM.set(g,S));const T=S.length;for(let E=1;E<T;E++)o.push([D-c+E,c-E]);return c-=T-1,S}if(v)return h=!0,D+d===r[a]?.[1]?++a:(o.push([D-1-c+1,c-1]),c-=1,u+=1),o.push([D-c+1,c]),u+=1,d+=1,v.charAt(0);if(m){const S=m.endsWith("\n"),T=S?m.length-2:m.length;h=!0;let E=T;D+d===r[a]?.[1]&&(E-=r[a][0],++a);for(let R=1;R<=E;R++)o.push([D-1-c+R,c-R]);return c-=E,u+=E,S?(o.push([(D+=T-1)-c+1,1+c]),c+=1,u+=1,d+=1,m.slice(0,T)):m}if(y)return o.push([D-c+(y.length-2),1+c]),c+=1,u+=1,d+=1,y.slice(0,-2);if(b)return o.push([D-c+(b.length-1),c]),u+=1,d+=1,b.slice(0,-1);if(_)return o.push([D-c+1,c-1]),c-=1,u+=1,d+=1," ";if(D+d===e[l]?.[1]){const S=e[l][0]-1;++l;for(let T=1;T<=S;T++)o.push([D-(c-T),c-T]);c-=S,u+=S}return w}),o.push([s.length,c]),[s,o,h]}class s5{#e=null;#t=!0;#n=0;constructor({linkService:e,eventBus:t,updateMatchesCountOnProgress:i=!0}){this._linkService=e,this._eventBus=t,this.#t=i,this.onIsPageVisible=null,this.#r(),t._on("find",this.#i.bind(this)),t._on("findbarclose",this.#y.bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this.#e}setDocument(e){this._pdfDocument&&this.#r(),e&&(this._pdfDocument=e,this._firstPageCapability.resolve())}#i(e){if(!e)return;const t=this._pdfDocument,{type:i}=e;(null===this.#e||this.#a(e))&&(this._dirtyMatch=!0),this.#e=e,"highlightallchange"!==i&&this.#w(ur.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||t&&this._pdfDocument!==t)return;this.#u();const r=!this._highlightMatches,s=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),i?this._dirtyMatch?this.#p():"again"===i?(this.#p(),r&&this.#e.highlightAll&&this.#h()):"highlightallchange"===i?(s?this.#p():this._highlightMatches=!0,this.#h()):this.#p():this._findTimeout=setTimeout(()=>{this.#p(),this._findTimeout=null},250)})}scrollMatchIntoView({element:e=null,selectedLeft:t=0,pageIndex:i=-1,matchIndex:r=-1}){this._scrollMatches&&e&&-1!==r&&r===this._selected.matchIdx&&-1!==i&&i===this._selected.pageIdx&&(this._scrollMatches=!1,DM(e,{top:-50,left:t+-400},!0))}#r(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this.#n=0,this.#e=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=Promise.withResolvers()}get#s(){const{query:e}=this.#e;return"string"==typeof e?(e!==this._rawQuery&&(this._rawQuery=e,[this._normalizedQuery]=Mm(e)),this._normalizedQuery):(e||[]).filter(t=>!!t).map(t=>Mm(t)[0])}#a(e){const t=e.query,i=this.#e.query,r=typeof t;if(r!==typeof i)return!0;if("string"===r){if(t!==i)return!0}else if(JSON.stringify(t)!==JSON.stringify(i))return!0;switch(e.type){case"again":const o=this._selected.pageIdx+1,a=this._linkService;return o>=1&&o<=a.pagesCount&&o!==a.page&&!(this.onIsPageVisible?.(o)??1);case"highlightallchange":return!1}return!0}#l(e,t,i){let r=e.slice(0,t).match(e5);if(r){const s=e.charCodeAt(t),o=r[1].charCodeAt(0);if(ed(s)===ed(o))return!1}if(r=e.slice(t+i).match(t5),r){const s=e.charCodeAt(t+i-1),o=r[1].charCodeAt(0);if(ed(s)===ed(o))return!1}return!0}#d(e,t){const{matchDiacritics:i}=this.#e;let r=!1;return(e=e.replaceAll(J4,(o,a,l,c,u,d)=>a?`[ ]*\\${a}[ ]*`:l?`[ ]*${l}[ ]*`:c?"[ ]+":i?u||d:u?RM.has(u.charCodeAt(0))?u:"":t?(r=!0,`${d}\\p{M}*`):d)).endsWith("[ ]*")&&(e=e.slice(0,e.length-4)),i&&t&&(OM||=String.fromCharCode(...RM),r=!0,e=`${e}(?=[${OM}]|[^\\p{M}]|$)`),[r,e]}#c(e){const t=this.#s;if(0===t.length)return;const r=this.match(t,this._pageContents[e],e),s=this._pageMatches[e]=[],o=this._pageMatchesLength[e]=[],a=this._pageDiffs[e];r?.forEach(({index:c,length:u})=>{const[d,h]=function r5(n,e,t){if(!n)return[e,t];const i=e,r=e+t-1;let s=il(n,u=>u[0]>=i);n[s][0]>i&&--s;let o=il(n,u=>u[0]>=r,s);n[o][0]>r&&--o;const a=i+n[s][1];return[a,r+n[o][1]+1-a]}(a,c,u);h&&(s.push(d),o.push(h))}),this.#e.highlightAll&&this.#o(e),this._resumePageIdx===e&&(this._resumePageIdx=null,this.#g());const l=s.length;this._matchesCountTotal+=l,this.#t?l>0&&this.#C():++this.#n===this._linkService.pagesCount&&this.#C()}match(e,t,i){const r=this._hasDiacritics[i];let s=!1;if("string"==typeof e?[s,e]=this.#d(e,r):e=e.sort().reverse().map(d=>{const[h,f]=this.#d(d,r);return s||=h,`(${f})`}).join("|"),!e)return;const{caseSensitive:o,entireWord:a}=this.#e;e=new RegExp(e,`g${s?"u":""}${o?"":"i"}`);const c=[];let u;for(;null!==(u=e.exec(t));)a&&!this.#l(t,u.index,u[0].length)||c.push({index:u.index,length:u[0].length});return c}#u(){if(this._extractTextPromises.length>0)return;let e=Promise.resolve();const t={disableNormalization:!0};for(let i=0,r=this._linkService.pagesCount;i<r;i++){const{promise:s,resolve:o}=Promise.withResolvers();this._extractTextPromises[i]=s,e=e.then(()=>this._pdfDocument.getPage(i+1).then(a=>a.getTextContent(t)).then(a=>{const l=[];for(const c of a.items)l.push(c.str),c.hasEOL&&l.push("\n");[this._pageContents[i],this._pageDiffs[i],this._hasDiacritics[i]]=Mm(l.join("")),o()},a=>{console.error(`Unable to get text content for page ${i+1}`,a),this._pageContents[i]="",this._pageDiffs[i]=null,this._hasDiacritics[i]=!1,o()}))}}#o(e){this._scrollMatches&&this._selected.pageIdx===e&&(this._linkService.page=e+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:e})}#h(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}#p(){const e=this.#e.findPrevious,t=this._linkService.page-1,i=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=t,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this.#n=0,this._matchesCountTotal=0,this.#h();for(let o=0;o<i;o++)this._pendingFindMatches.has(o)||(this._pendingFindMatches.add(o),this._extractTextPromises[o].then(()=>{this._pendingFindMatches.delete(o),this.#c(o)}))}if(0===this.#s.length)return void this.#w(ur.FOUND);if(this._resumePageIdx)return;const s=this._offset;if(this._pagesToSearch=i,null!==s.matchIdx){if(!e&&s.matchIdx+1<this._pageMatches[s.pageIdx].length||e&&s.matchIdx>0)return s.matchIdx=e?s.matchIdx-1:s.matchIdx+1,void this.#m(!0);this.#v(e)}this.#g()}#f(e){const t=this._offset,i=e.length,r=this.#e.findPrevious;return i?(t.matchIdx=r?i-1:0,this.#m(!0),!0):(this.#v(r),!!(t.wrapped&&(t.matchIdx=null,this._pagesToSearch<0))&&(this.#m(!1),!0))}#g(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let e=null;do{const t=this._offset.pageIdx;if(e=this._pageMatches[t],!e){this._resumePageIdx=t;break}}while(!this.#f(e))}#v(e){const t=this._offset,i=this._linkService.pagesCount;t.pageIdx=e?t.pageIdx-1:t.pageIdx+1,t.matchIdx=null,this._pagesToSearch--,(t.pageIdx>=i||t.pageIdx<0)&&(t.pageIdx=e?i-1:0,t.wrapped=!0)}#m(e=!1){let t=ur.NOT_FOUND;const i=this._offset.wrapped;if(this._offset.wrapped=!1,e){const r=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,t=i?ur.WRAPPED:ur.FOUND,-1!==r&&r!==this._selected.pageIdx&&this.#o(r)}this.#w(t,this.#e.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,this.#o(this._selected.pageIdx))}#y(e){const t=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||t&&this._pdfDocument!==t||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),this.#w(ur.FOUND),this._highlightMatches=!1,this.#h())})}#_(){const{pageIdx:e,matchIdx:t}=this._selected;let i=0,r=this._matchesCountTotal;if(-1!==t){for(let s=0;s<e;s++)i+=this._pageMatches[s]?.length||0;i+=t+1}return(i<1||i>r)&&(i=r=0),{current:i,total:r}}#C(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this.#_()})}#w(e,t=!1){!this.#t&&(this.#n!==this._linkService.pagesCount||e===ur.PENDING)||this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:e,previous:t,entireWord:this.#e?.entireWord??null,matchesCount:this.#_(),rawQuery:this.#e?.query??null})}}const Hr={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};class td{externalLinkEnabled=!0;constructor({eventBus:e,externalLinkTarget:t=null,externalLinkRel:i=null,ignoreDestinationZoom:r=!1}={}){this.eventBus=e,this.externalLinkTarget=t,this.externalLinkRel=i,this._ignoreDestinationZoom=r,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(e,t=null){this.baseUrl=t,this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setHistory(e){this.pdfHistory=e}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfDocument?this.pdfViewer.currentPageNumber:1}set page(e){this.pdfDocument&&(this.pdfViewer.currentPageNumber=e)}get rotation(){return this.pdfDocument?this.pdfViewer.pagesRotation:0}set rotation(e){this.pdfDocument&&(this.pdfViewer.pagesRotation=e)}get isInPresentationMode(){return!!this.pdfDocument&&this.pdfViewer.isInPresentationMode}goToDestination(e){var t=this;return N(function*(){if(!t.pdfDocument)return;let i,r,s;if("string"==typeof e?(i=e,r=yield t.pdfDocument.getDestination(e)):(i=null,r=yield e),!Array.isArray(r))return void console.error(`goToDestination: "${r}" is not a valid destination array, for dest="${e}".`);const[o]=r;if(o&&"object"==typeof o){if(s=t.pdfDocument.cachedPageNumber(o),!s)try{s=(yield t.pdfDocument.getPageIndex(o))+1}catch{return void console.error(`goToDestination: "${o}" is not a valid page reference, for dest="${e}".`)}}else Number.isInteger(o)&&(s=o+1);!s||s<1||s>t.pagesCount?console.error(`goToDestination: "${s}" is not a valid page number, for dest="${e}".`):(t.pdfHistory&&(t.pdfHistory.pushCurrentPosition(),t.pdfHistory.push({namedDest:i,explicitDest:r,pageNumber:s})),t.pdfViewer.scrollPageIntoView({pageNumber:s,destArray:r,ignoreDestinationZoom:t._ignoreDestinationZoom}))})()}goToPage(e){if(!this.pdfDocument)return;const t="string"==typeof e&&this.pdfViewer.pageLabelToPageNumber(e)||0|e;Number.isInteger(t)&&t>0&&t<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(t)),this.pdfViewer.scrollPageIntoView({pageNumber:t})):console.error(`PDFLinkService.goToPage: "${e}" is not a valid page.`)}addLinkAttributes(e,t,i=!1){if(!t||"string"!=typeof t)throw new Error('A valid "url" parameter must provided.');const r=i?Hr.BLANK:this.externalLinkTarget,s=this.externalLinkRel;this.externalLinkEnabled?e.href=e.title=t:(e.href="",e.title=`Disabled: ${t}`,e.onclick=()=>!1);let o="";switch(r){case Hr.NONE:break;case Hr.SELF:o="_self";break;case Hr.BLANK:o="_blank";break;case Hr.PARENT:o="_parent";break;case Hr.TOP:o="_top"}e.target=o,e.rel="string"==typeof s?s:"noopener noreferrer nofollow"}getDestinationHash(e){if("string"==typeof e){if(e.length>0)return this.getAnchorUrl("#"+escape(e))}else if(Array.isArray(e)){const t=JSON.stringify(e);if(t.length>0)return this.getAnchorUrl("#"+escape(t))}return this.getAnchorUrl("")}getAnchorUrl(e){return this.baseUrl?this.baseUrl+e:e}setHash(e){if(!this.pdfDocument)return;let t,i;if(e.includes("=")){const r=Qu(e);if(r.has("search")){const s=r.get("search").replaceAll('"',""),o="true"===r.get("phrase");this.eventBus.dispatch("findfromurlhash",{source:this,query:o?s:s.match(/\S+/g)})}if(r.has("page")&&(t=0|r.get("page")||1),r.has("zoom")){const s=r.get("zoom").split(","),o=s[0],a=parseFloat(o);o.includes("Fit")?"Fit"===o||"FitB"===o?i=[null,{name:o}]:"FitH"===o||"FitBH"===o||"FitV"===o||"FitBV"===o?i=[null,{name:o},s.length>1?0|s[1]:null]:"FitR"===o?5!==s.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):i=[null,{name:o},0|s[1],0|s[2],0|s[3],0|s[4]]:console.error(`PDFLinkService.setHash: "${o}" is not a valid zoom value.`):i=[null,{name:"XYZ"},s.length>1?0|s[1]:null,s.length>2?0|s[2]:null,a?a/100:o]}return i?this.pdfViewer.scrollPageIntoView({pageNumber:t||this.page,destArray:i,allowNegativeOffset:!0}):t&&(this.page=t),r.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:r.get("pagemode")}),void(r.has("nameddest")&&this.goToDestination(r.get("nameddest")))}i=unescape(e);try{i=JSON.parse(i),Array.isArray(i)||(i=i.toString())}catch{}"string"==typeof i||td.#e(i)?this.goToDestination(i):console.error(`PDFLinkService.setHash: "${unescape(e)}" is not a valid destination.`)}executeNamedAction(e){if(this.pdfDocument){switch(e){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:e})}}executeSetOCGState(e){var t=this;return N(function*(){if(!t.pdfDocument)return;const i=t.pdfDocument,r=yield t.pdfViewer.optionalContentConfigPromise;i===t.pdfDocument&&(r.setOCGState(e),t.pdfViewer.optionalContentConfigPromise=Promise.resolve(r))})()}static#e(e){if(!Array.isArray(e)||e.length<2)return!1;const[t,i,...r]=e;if(("object"!=typeof t||!Number.isInteger(t?.num)||!Number.isInteger(t?.gen))&&!Number.isInteger(t)||"object"!=typeof i||"string"!=typeof i?.name)return!1;const s=r.length;let o=!0;switch(i.name){case"XYZ":if(s<2||s>3)return!1;break;case"Fit":case"FitB":return 0===s;case"FitH":case"FitBH":case"FitV":case"FitBV":if(s>1)return!1;break;case"FitR":if(4!==s)return!1;o=!1;break;default:return!1}for(const a of r)if(!("number"==typeof a||o&&null===a))return!1;return!0}}class xm extends td{setDocument(e,t=null){}}const{AbortException:a5,AnnotationEditorLayer:l5,AnnotationEditorType:mn,AnnotationEditorUIManager:c5,AnnotationLayer:u5,AnnotationMode:ki,createValidAbsoluteUrl:d5,DrawLayer:h5,fetchData:LM,getPdfFilenameFromUrl:f5,isPdfFile:p5,normalizeUnicode:g5,PermissionFlag:nd,PixelsPerInch:Li,RenderingCancelledException:Im,setLayerDimensions:m5,shadow:id,TextLayer:v5,version:FM,XfaLayer:Tm}=globalThis.pdfjsLib;class VM{#e=null;#t=null;constructor({pdfPage:e,linkService:t,downloadManager:i,annotationStorage:r=null,imageResourcesPath:s="",renderForms:o=!0,enableScripting:a=!1,hasJSActionsPromise:l=null,fieldObjectsPromise:c=null,annotationCanvasMap:u=null,accessibilityManager:d=null,annotationEditorUIManager:h=null,onAppend:f=null}){this.pdfPage=e,this.linkService=t,this.downloadManager=i,this.imageResourcesPath=s,this.renderForms=o,this.annotationStorage=r,this.enableScripting=a,this._hasJSActionsPromise=l||Promise.resolve(!1),this._fieldObjectsPromise=c||Promise.resolve(null),this._annotationCanvasMap=u,this._accessibilityManager=d,this._annotationEditorUIManager=h,this.#e=f,this.annotationLayer=null,this.div=null,this._cancelled=!1,this._eventBus=t.eventBus}render(e,t="display"){var i=this;return N(function*(){if(i.div){if(i._cancelled||!i.annotationLayer)return;return void i.annotationLayer.update({viewport:e.clone({dontFlip:!0})})}const[r,s,o]=yield Promise.all([i.pdfPage.getAnnotations({intent:t}),i._hasJSActionsPromise,i._fieldObjectsPromise]);if(i._cancelled)return;const a=i.div=document.createElement("div");a.className="annotationLayer",i.#e?.(a),0!==r.length?(i.annotationLayer=new u5({div:a,accessibilityManager:i._accessibilityManager,annotationCanvasMap:i._annotationCanvasMap,annotationEditorUIManager:i._annotationEditorUIManager,page:i.pdfPage,viewport:e.clone({dontFlip:!0})}),yield i.annotationLayer.render({annotations:r,imageResourcesPath:i.imageResourcesPath,renderForms:i.renderForms,linkService:i.linkService,downloadManager:i.downloadManager,annotationStorage:i.annotationStorage,enableScripting:i.enableScripting,hasJSActions:s,fieldObjects:o}),i.linkService.isInPresentationMode&&i.#n(3),i.#t||(i.#t=new AbortController,i._eventBus?._on("presentationmodechanged",l=>{i.#n(l.state)},{signal:i.#t.signal}))):i.hide()})()}cancel(){this._cancelled=!0,this.#t?.abort(),this.#t=null}hide(){this.div&&(this.div.hidden=!0)}hasEditableAnnotations(){return!!this.annotationLayer?.hasEditableAnnotations()}#n(e){if(!this.div)return;let t=!1;switch(e){case 3:t=!0;break;case 1:break;default:return}for(const i of this.div.childNodes)i.hasAttribute("data-internal-link")||(i.inert=t)}}function jM(n,e){const t=document.createElement("a");if(!t.click)throw new Error('DownloadManager: "a.click()" is not supported.');t.href=n,t.target="_parent","download"in t&&(t.download=e),(document.body||document.documentElement).append(t),t.click(),t.remove()}class y5{#e=new WeakMap;downloadData(e,t,i){jM(URL.createObjectURL(new Blob([e],{type:i})),t)}openOrDownloadData(e,t,i=null){const s=p5(t)?"application/pdf":"";return this.downloadData(e,t,s),!1}download(e,t,i){let r;if(e)r=URL.createObjectURL(new Blob([e],{type:"application/pdf"}));else{if(!d5(t,"http://example.com"))return void console.error(`download - not a valid URL: ${t}`);r=t+"#pdfjs.action=download"}jM(r,i)}}const BM_EVENT="event",BM_TIMEOUT="timeout";function Pm(){return(Pm=N(function*({target:n,name:e,delay:t=0}){if("object"!=typeof n||!e||"string"!=typeof e||!(Number.isInteger(t)&&t>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");const{promise:i,resolve:r}=Promise.withResolvers(),s=new AbortController;function o(c){s.abort(),clearTimeout(l),r(c)}n[n instanceof Rm?"_on":"addEventListener"](e,o.bind(null,BM_EVENT),{signal:s.signal});const l=setTimeout(o.bind(null,BM_TIMEOUT),t);return i})).apply(this,arguments)}class Rm{#e=Object.create(null);on(e,t,i=null){this._on(e,t,{external:!0,once:i?.once,signal:i?.signal})}off(e,t,i=null){this._off(e,t)}dispatch(e,t){const i=this.#e[e];if(!i||0===i.length)return;let r;for(const{listener:s,external:o,once:a}of i.slice(0))a&&this._off(e,s),o?(r||=[]).push(s):s(t);if(r){for(const s of r)s(t);r=null}}_on(e,t,i=null){let r=null;if(i?.signal instanceof AbortSignal){const{signal:o}=i;if(o.aborted)return void console.error("Cannot use an `aborted` signal.");const a=()=>this._off(e,t);r=()=>o.removeEventListener("abort",a),o.addEventListener("abort",a)}(this.#e[e]||=[]).push({listener:t,external:!0===i?.external,once:!0===i?.once,rmAbort:r})}_off(e,t,i=null){const r=this.#e[e];if(r)for(let s=0,o=r.length;s<o;s++){const a=r[s];if(a.listener===t)return a.rmAbort?.(),void r.splice(s,1)}}}class rd{constructor(e){this.value=e}valueOf(){return this.value}}class rt extends rd{constructor(e="???"){super(e)}toString(e){return`{${this.value}}`}}class Fi extends rd{constructor(e,t={}){super(e),this.opts=t}toString(e){try{return e.memoizeIntlObject(Intl.NumberFormat,this.opts).format(this.value)}catch(t){return e.reportError(t),this.value.toString(10)}}}class rl extends rd{constructor(e,t={}){super(e),this.opts=t}toString(e){try{return e.memoizeIntlObject(Intl.DateTimeFormat,this.opts).format(this.value)}catch(t){return e.reportError(t),new Date(this.value).toISOString()}}}const HM=100,_5="\u2068",w5="\u2069";function C5(n,e,t){return t===e||t instanceof Fi&&e instanceof Fi&&t.value===e.value||e instanceof Fi&&"string"==typeof t&&t===n.memoizeIntlObject(Intl.PluralRules,e.opts).select(e.value)}function UM(n,e,t){return e[t]?ao(n,e[t].value):(n.reportError(new RangeError("No default")),new rt)}function Om(n,e){const t=[],i=Object.create(null);for(const r of e)"narg"===r.type?i[r.name]=sl(n,r.value):t.push(sl(n,r));return{positional:t,named:i}}function sl(n,e){switch(e.type){case"str":return e.value;case"num":return new Fi(e.value,{minimumFractionDigits:e.precision});case"var":return function E5(n,{name:e}){let t;if(n.params){if(!Object.prototype.hasOwnProperty.call(n.params,e))return new rt(`$${e}`);t=n.params[e]}else{if(!n.args||!Object.prototype.hasOwnProperty.call(n.args,e))return n.reportError(new ReferenceError(`Unknown variable: $${e}`)),new rt(`$${e}`);t=n.args[e]}if(t instanceof rd)return t;switch(typeof t){case"string":return t;case"number":return new Fi(t);case"object":if(t instanceof Date)return new rl(t.getTime());default:return n.reportError(new TypeError(`Variable type not supported: $${e}, ${typeof t}`)),new rt(`$${e}`)}}(n,e);case"mesg":return function A5(n,{name:e,attr:t}){const i=n.bundle._messages.get(e);if(!i)return n.reportError(new ReferenceError(`Unknown message: ${e}`)),new rt(e);if(t){const r=i.attributes[t];return r?ao(n,r):(n.reportError(new ReferenceError(`Unknown attribute: ${t}`)),new rt(`${e}.${t}`))}return i.value?ao(n,i.value):(n.reportError(new ReferenceError(`No value: ${e}`)),new rt(e))}(n,e);case"term":return function D5(n,{name:e,attr:t,args:i}){const r=`-${e}`,s=n.bundle._terms.get(r);if(!s)return n.reportError(new ReferenceError(`Unknown term: ${r}`)),new rt(r);if(t){const a=s.attributes[t];if(a){n.params=Om(n,i).named;const l=ao(n,a);return n.params=null,l}return n.reportError(new ReferenceError(`Unknown attribute: ${t}`)),new rt(`${r}.${t}`)}n.params=Om(n,i).named;const o=ao(n,s.value);return n.params=null,o}(n,e);case"func":return function S5(n,{name:e,args:t}){let i=n.bundle._functions[e];if(!i)return n.reportError(new ReferenceError(`Unknown function: ${e}()`)),new rt(`${e}()`);if("function"!=typeof i)return n.reportError(new TypeError(`Function ${e}() is not callable`)),new rt(`${e}()`);try{let r=Om(n,t);return i(r.positional,r.named)}catch(r){return n.reportError(r),new rt(`${e}()`)}}(n,e);case"select":return function M5(n,{selector:e,variants:t,star:i}){let r=sl(n,e);if(r instanceof rt)return UM(n,t,i);for(const s of t)if(C5(n,r,sl(n,s.key)))return ao(n,s.value);return UM(n,t,i)}(n,e);default:return new rt}}function $M(n,e){if(n.dirty.has(e))return n.reportError(new RangeError("Cyclic reference")),new rt;n.dirty.add(e);const t=[],i=n.bundle._useIsolating&&e.length>1;for(const r of e)if("string"!=typeof r){if(n.placeables++,n.placeables>HM)throw n.dirty.delete(e),new RangeError(`Too many placeables expanded: ${n.placeables}, max allowed is ${HM}`);i&&t.push(_5),t.push(sl(n,r).toString(n)),i&&t.push(w5)}else t.push(n.bundle._transform(r));return n.dirty.delete(e),t.join("")}function ao(n,e){return"string"==typeof e?n.bundle._transform(e):$M(n,e)}class x5{constructor(e,t,i){this.dirty=new WeakSet,this.params=null,this.placeables=0,this.bundle=e,this.errors=t,this.args=i}reportError(e){if(!(this.errors&&e instanceof Error))throw e;this.errors.push(e)}memoizeIntlObject(e,t){let i=this.bundle._intls.get(e);i||(i={},this.bundle._intls.set(e,i));let r=JSON.stringify(t);return i[r]||(i[r]=new e(this.bundle.locales,t)),i[r]}}function sd(n,e){const t=Object.create(null);for(const[i,r]of Object.entries(n))e.includes(i)&&(t[i]=r.valueOf());return t}const zM=["unitDisplay","currencyDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"];function I5(n,e){let t=n[0];if(t instanceof rt)return new rt(`NUMBER(${t.valueOf()})`);if(t instanceof Fi)return new Fi(t.valueOf(),{...t.opts,...sd(e,zM)});if(t instanceof rl)return new Fi(t.valueOf(),{...sd(e,zM)});throw new TypeError("Invalid argument to NUMBER")}const GM=["dateStyle","timeStyle","fractionalSecondDigits","dayPeriod","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName"];function T5(n,e){let t=n[0];if(t instanceof rt)return new rt(`DATETIME(${t.valueOf()})`);if(t instanceof rl)return new rl(t.valueOf(),{...t.opts,...sd(e,GM)});if(t instanceof Fi)return new rl(t.valueOf(),{...sd(e,GM)});throw new TypeError("Invalid argument to DATETIME")}const WM=new Map;class R5{constructor(e,{functions:t,useIsolating:i=!0,transform:r=(s=>s)}={}){this._terms=new Map,this._messages=new Map,this.locales=Array.isArray(e)?e:[e],this._functions={NUMBER:I5,DATETIME:T5,...t},this._useIsolating=i,this._transform=r,this._intls=function P5(n){const e=Array.isArray(n)?n.join(" "):n;let t=WM.get(e);return void 0===t&&(t=new Map,WM.set(e,t)),t}(e)}hasMessage(e){return this._messages.has(e)}getMessage(e){return this._messages.get(e)}addResource(e,{allowOverrides:t=!1}={}){const i=[];for(let r=0;r<e.body.length;r++){let s=e.body[r];if(s.id.startsWith("-")){if(!1===t&&this._terms.has(s.id)){i.push(new Error(`Attempt to override an existing term: "${s.id}"`));continue}this._terms.set(s.id,s)}else{if(!1===t&&this._messages.has(s.id)){i.push(new Error(`Attempt to override an existing message: "${s.id}"`));continue}this._messages.set(s.id,s)}}return i}formatPattern(e,t=null,i=null){if("string"==typeof e)return this._transform(e);let r=new x5(this,i,t);try{return $M(r,e).toString(r)}catch(s){if(r.errors&&s instanceof Error)return r.errors.push(s),(new rt).toString(r);throw s}}}const Nm=/^(-?[a-zA-Z][\w-]*) *= */gm,qM=/\.([a-zA-Z][\w-]*) *= */y,O5=/\*?\[/y,km=/(-?[0-9]+(?:\.([0-9]+))?)/y,N5=/([a-zA-Z][\w-]*)/y,YM=/([$-])?([a-zA-Z][\w-]*)(?:\.([a-zA-Z][\w-]*))?/y,k5=/^[A-Z][A-Z0-9_-]*$/,od=/([^{}\n\r]+)/y,L5=/([^\\"\n\r]*)/y,KM=/\\([\\"])/y,XM=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{6})/y,F5=/^\n+/,QM=/ +$/,V5=/ *\r?\n/g,j5=/( *)$/,B5=/{\s*/y,ZM=/\s*}/y,H5=/\[\s*/y,U5=/\s*] */y,$5=/\s*\(\s*/y,z5=/\s*->\s*/y,G5=/\s*:\s*/y,W5=/\s*,?\s*/y,q5=/\s+/y;class Y5{constructor(e){this.body=[],Nm.lastIndex=0;let t=0;for(;;){let E=Nm.exec(e);if(null===E)break;t=Nm.lastIndex;try{this.body.push(l(E[1]))}catch(R){if(R instanceof SyntaxError)continue;throw R}}function i(E){return E.lastIndex=t,E.test(e)}function r(E,R){if(e[t]===E)return t++,!0;if(R)throw new R(`Expected ${E}`);return!1}function s(E,R){if(i(E))return t=E.lastIndex,!0;if(R)throw new R(`Expected ${E.toString()}`);return!1}function o(E){E.lastIndex=t;let R=E.exec(e);if(null===R)throw new SyntaxError(`Expected ${E.toString()}`);return t=E.lastIndex,R}function a(E){return o(E)[1]}function l(E){let R=u(),L=function c(){let E=Object.create(null);for(;i(qM);){let R=a(qM),L=u();if(null===L)throw new SyntaxError("Expected attribute value");E[R]=L}return E}();if(null===R&&0===Object.keys(L).length)throw new SyntaxError("Expected message value or attributes");return{id:E,value:R,attributes:L}}function u(){let E;if(i(od)&&(E=a(od)),"{"===e[t]||"}"===e[t])return d(E?[E]:[],1/0);let R=D();return R?E?d([E,R],R.length):(R.value=S(R.value,F5),d([R],R.length)):E?S(E,QM):null}function d(E=[],R){for(;;){if(i(od)){E.push(a(od));continue}if("{"===e[t]){E.push(h());continue}if("}"===e[t])throw new SyntaxError("Unbalanced closing brace");let _e=D();if(!_e)break;E.push(_e),R=Math.min(R,_e.length)}let L=E.length-1,ye=E[L];"string"==typeof ye&&(E[L]=S(ye,QM));let De=[];for(let _e of E)_e instanceof JM&&(_e=_e.value.slice(0,_e.value.length-R)),_e&&De.push(_e);return De}function h(){s(B5,SyntaxError);let E=f();if(s(ZM))return E;if(s(z5)){let R=function v(){let L,E=[],R=0;for(;i(O5);){r("*")&&(L=R);let ye=m(),De=u();if(null===De)throw new SyntaxError("Expected variant value");E[R++]={key:ye,value:De}}if(0===R)return null;if(void 0===L)throw new SyntaxError("Expected default variant");return{variants:E,star:L}}();return s(ZM,SyntaxError),{type:"select",selector:E,...R}}throw new SyntaxError("Unclosed placeable")}function f(){if("{"===e[t])return h();if(i(YM)){let[,E,R,L=null]=o(YM);if("$"===E)return{type:"var",name:R};if(s($5)){let ye=function p(){let E=[];for(;;){switch(e[t]){case")":return t++,E;case void 0:throw new SyntaxError("Unclosed argument list")}E.push(g()),s(W5)}}();if("-"===E)return{type:"term",name:R,attr:L,args:ye};if(k5.test(R))return{type:"func",name:R,args:ye};throw new SyntaxError("Function names must be all upper-case")}return"-"===E?{type:"term",name:R,attr:L,args:[]}:{type:"mesg",name:R,attr:L}}return y()}function g(){let E=f();return"mesg"!==E.type?E:s(G5)?{type:"narg",name:E.name,value:y()}:E}function m(){let E;return s(H5,SyntaxError),E=i(km)?b():{type:"str",value:a(N5)},s(U5,SyntaxError),E}function y(){if(i(km))return b();if('"'===e[t])return function _(){r('"',SyntaxError);let E="";for(;;){if(E+=a(L5),"\\"!==e[t]){if(r('"'))return{type:"str",value:E};throw new SyntaxError("Unclosed string literal")}E+=w()}}();throw new SyntaxError("Invalid expression")}function b(){let[,E,R=""]=o(km),L=R.length;return{type:"num",value:parseFloat(E),precision:L}}function w(){if(i(KM))return a(KM);if(i(XM)){let[,E,R]=o(XM),L=parseInt(E||R,16);return L<=55295||57344<=L?String.fromCodePoint(L):"\ufffd"}throw new SyntaxError("Unknown escape sequence")}function D(){let E=t;switch(s(q5),e[t]){case".":case"[":case"*":case"}":case void 0:return!1;case"{":return T(e.slice(E,t))}return" "===e[t-1]&&T(e.slice(E,t))}function S(E,R){return E.replace(R,"")}function T(E){let R=E.replace(V5,"\n"),L=j5.exec(E)[1].length;return new JM(R,L)}}}class JM{constructor(e,t){this.value=e,this.length=t}}const K5=/<|&#?\w+;/,X5={"http://www.w3.org/1999/xhtml":["em","strong","small","s","cite","q","dfn","abbr","data","time","code","var","samp","kbd","sub","sup","i","b","u","mark","bdi","bdo","span","br","wbr"]},Q5={"http://www.w3.org/1999/xhtml":{global:["title","aria-label","aria-valuetext"],a:["download"],area:["download","alt"],input:["alt","placeholder"],menuitem:["label"],menu:["label"],optgroup:["label"],option:["label"],track:["label"],img:["alt"],textarea:["placeholder"],th:["abbr"]},"http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul":{global:["accesskey","aria-label","aria-valuetext","label","title","tooltiptext"],description:["value"],key:["key","keycode"],label:["value"],textbox:["placeholder","value"]}};function Z5(n,e){const{value:t}=e;if("string"==typeof t)if("title"===n.localName&&"http://www.w3.org/1999/xhtml"===n.namespaceURI)n.textContent=t;else if(K5.test(t)){const i=n.ownerDocument.createElementNS("http://www.w3.org/1999/xhtml","template");i.innerHTML=t,function J5(n,e){for(const t of n.childNodes)if(t.nodeType!==t.TEXT_NODE){if(t.hasAttribute("data-l10n-name")){const i=tG(e,t);n.replaceChild(i,t);continue}if(iG(t)){const i=nG(t);n.replaceChild(i,t);continue}console.warn(`An element of forbidden type "${t.localName}" was found in the translation. Only safe text-level elements and elements with data-l10n-name are allowed.`),n.replaceChild(Lm(t),t)}e.textContent="",e.appendChild(n)}(i.content,n)}else n.textContent=t;ex(e,n)}function eG(n,e){if(!n)return!1;for(let t of n)if(t.name===e)return!0;return!1}function ex(n,e){const t=e.hasAttribute("data-l10n-attrs")?e.getAttribute("data-l10n-attrs").split(",").map(i=>i.trim()):null;for(const i of Array.from(e.attributes))tx(i.name,e,t)&&!eG(n.attributes,i.name)&&e.removeAttribute(i.name);if(n.attributes)for(const i of Array.from(n.attributes))tx(i.name,e,t)&&e.getAttribute(i.name)!==i.value&&e.setAttribute(i.name,i.value)}function tG(n,e){const t=e.getAttribute("data-l10n-name"),i=n.querySelector(`[data-l10n-name="${t}"]`);return i?i.localName!==e.localName?(console.warn(`An element named "${t}" was found in the translation but its type ${e.localName} didn't match the element found in the source (${i.localName}).`),Lm(e)):(n.removeChild(i),nx(e,i.cloneNode(!1))):(console.warn(`An element named "${t}" wasn't found in the source.`),Lm(e))}function nG(n){const e=n.ownerDocument.createElement(n.localName);return nx(n,e)}function Lm(n){return n.ownerDocument.createTextNode(n.textContent)}function iG(n){const e=X5[n.namespaceURI];return e&&e.includes(n.localName)}function tx(n,e,t=null){if(t&&t.includes(n))return!0;const i=Q5[e.namespaceURI];if(!i)return!1;const r=n.toLowerCase(),s=e.localName;if(i.global.includes(r))return!0;if(!i[s])return!1;if(i[s].includes(r))return!0;if("http://www.w3.org/1999/xhtml"===e.namespaceURI&&"input"===s&&"value"===r){const o=e.type.toLowerCase();if("submit"===o||"button"===o||"reset"===o)return!0}return!1}function nx(n,e){return e.textContent=n.textContent,ex(n,e),e}class ix extends Array{static from(e){return e instanceof this?e:new this(e)}}Symbol;class rG extends ix{constructor(e){if(super(),Symbol.asyncIterator in Object(e))this.iterator=e[Symbol.asyncIterator]();else{if(!(Symbol.iterator in Object(e)))throw new TypeError("Argument must implement the iteration protocol.");this.iterator=e[Symbol.iterator]()}}[Symbol.asyncIterator](){const e=this;let t=0;return{next:()=>N(function*(){return e.length<=t&&e.push(e.iterator.next()),e[t++]})()}}touchNext(e=1){var t=this;return N(function*(){let i=0;for(;i++<e;){const r=t[t.length-1];if(r&&(yield r).done)break;t.push(t.iterator.next())}return t[t.length-1]})()}}class sG{constructor(e=[],t){this.resourceIds=e,this.generateBundles=t,this.onChange(!0)}addResourceIds(e,t=!1){return this.resourceIds.push(...e),this.onChange(t),this.resourceIds.length}removeResourceIds(e){return this.resourceIds=this.resourceIds.filter(t=>!e.includes(t)),this.onChange(),this.resourceIds.length}formatWithFallback(e,t){var i=this;return N(function*(){const r=[];let s=!1;var l,o=!1,a=!1;try{for(var u,c=function C4(n){var e,t,i,r=2;for(typeof Symbol<"u"&&(t=Symbol.asyncIterator,i=Symbol.iterator);r--;){if(t&&null!=(e=n[t]))return e.call(n);if(i&&null!=(e=n[i]))return new Xu(e.call(n));t="@@asyncIterator",i="@@iterator"}throw new TypeError("Object is not async iterable")}(i.bundles);o=!(u=yield c.next()).done;o=!1){const d=u.value;{s=!0;const h=lG(t,d,e,r);if(0===h.size)break;if(typeof console<"u"){const f=d.locales[0],p=Array.from(h).join(", ");console.warn(`[fluent] Missing translations in ${f}: ${p}`)}}}}catch(d){a=!0,l=d}finally{try{o&&null!=c.return&&(yield c.return())}finally{if(a)throw l}}return!s&&typeof console<"u"&&console.warn(`[fluent] Request for keys failed because no resource bundles got generated.\n  keys: ${JSON.stringify(e)}.\n  resourceIds: ${JSON.stringify(i.resourceIds)}.`),r})()}formatMessages(e){return this.formatWithFallback(e,aG)}formatValues(e){return this.formatWithFallback(e,oG)}formatValue(e,t){var i=this;return N(function*(){const[r]=yield i.formatValues([{id:e,args:t}]);return r})()}handleEvent(){this.onChange()}onChange(e=!1){this.bundles=rG.from(this.generateBundles(this.resourceIds)),e&&this.bundles.touchNext(2)}}function oG(n,e,t,i){return t.value?n.formatPattern(t.value,i,e):null}function aG(n,e,t,i){const r={value:null,attributes:null};t.value&&(r.value=n.formatPattern(t.value,i,e));let s=Object.keys(t.attributes);if(s.length>0){r.attributes=new Array(s.length);for(let[o,a]of s.entries()){let l=n.formatPattern(t.attributes[a],i,e);r.attributes[o]={name:a,value:l}}}return r}function lG(n,e,t,i){const r=[],s=new Set;return t.forEach(({id:o,args:a},l)=>{if(void 0!==i[l])return;let c=e.getMessage(o);if(c){if(r.length=0,i[l]=n(e,r,c,a),r.length>0&&typeof console<"u"){const u=e.locales[0],d=r.join(", ");console.warn(`[fluent][resolver] errors in ${u}/${o}: ${d}.`)}}else s.add(o)}),s}const Ur="data-l10n-id",ol="data-l10n-args",cG=`[${Ur}]`;class uG extends sG{constructor(e,t){super(e,t),this.roots=new Set,this.pendingrAF=null,this.pendingElements=new Set,this.windowElement=null,this.mutationObserver=null,this.observerConfig={attributes:!0,characterData:!1,childList:!0,subtree:!0,attributeFilter:[Ur,ol]}}onChange(e=!1){super.onChange(e),this.roots&&this.translateRoots()}setAttributes(e,t,i){return e.setAttribute(Ur,t),i?e.setAttribute(ol,JSON.stringify(i)):e.removeAttribute(ol),e}getAttributes(e){return{id:e.getAttribute(Ur),args:JSON.parse(e.getAttribute(ol)||null)}}connectRoot(e){for(const t of this.roots)if(t===e||t.contains(e)||e.contains(t))throw new Error("Cannot add a root that overlaps with existing root.");if(this.windowElement){if(this.windowElement!==e.ownerDocument.defaultView)throw new Error("Cannot connect a root:\n          DOMLocalization already has a root from a different window.")}else this.windowElement=e.ownerDocument.defaultView,this.mutationObserver=new this.windowElement.MutationObserver(t=>this.translateMutations(t));this.roots.add(e),this.mutationObserver.observe(e,this.observerConfig)}disconnectRoot(e){return this.roots.delete(e),this.pauseObserving(),0===this.roots.size?(this.mutationObserver=null,this.windowElement&&this.pendingrAF&&this.windowElement.cancelAnimationFrame(this.pendingrAF),this.windowElement=null,this.pendingrAF=null,this.pendingElements.clear(),!0):(this.resumeObserving(),!1)}translateRoots(){const e=Array.from(this.roots);return Promise.all(e.map(t=>this.translateFragment(t)))}pauseObserving(){this.mutationObserver&&(this.translateMutations(this.mutationObserver.takeRecords()),this.mutationObserver.disconnect())}resumeObserving(){if(this.mutationObserver)for(const e of this.roots)this.mutationObserver.observe(e,this.observerConfig)}translateMutations(e){for(const t of e)switch(t.type){case"attributes":t.target.hasAttribute("data-l10n-id")&&this.pendingElements.add(t.target);break;case"childList":for(const i of t.addedNodes)if(i.nodeType===i.ELEMENT_NODE)if(i.childElementCount)for(const r of this.getTranslatables(i))this.pendingElements.add(r);else i.hasAttribute(Ur)&&this.pendingElements.add(i)}this.pendingElements.size>0&&null===this.pendingrAF&&(this.pendingrAF=this.windowElement.requestAnimationFrame(()=>{this.translateElements(Array.from(this.pendingElements)),this.pendingElements.clear(),this.pendingrAF=null}))}translateFragment(e){return this.translateElements(this.getTranslatables(e))}translateElements(e){var t=this;return N(function*(){if(!e.length)return;const i=e.map(t.getKeysForElement),r=yield t.formatMessages(i);return t.applyTranslations(e,r)})()}applyTranslations(e,t){this.pauseObserving();for(let i=0;i<e.length;i++)void 0!==t[i]&&Z5(e[i],t[i]);this.resumeObserving()}getTranslatables(e){const t=Array.from(e.querySelectorAll(cG));return"function"==typeof e.hasAttribute&&e.hasAttribute(Ur)&&t.push(e),t}getKeysForElement(e){return{id:e.getAttribute(Ur),args:JSON.parse(e.getAttribute(ol)||null)}}}class ad{#e;#t=new Set;#n;#i;constructor({lang:e,isRTL:t},i=null){this.#n=ad.#r(e),this.#i=i,this.#e=t??ad.#s(this.#n)?"rtl":"ltr"}_setL10n(e){this.#i=e}getLanguage(){return this.#n}getDirection(){return this.#e}get(e,t=null,i){var r=this;return N(function*(){return Array.isArray(e)?(e=e.map(a=>({id:a})),(yield r.#i.formatMessages(e)).map(a=>a.value)):(yield r.#i.formatMessages([{id:e,args:t}]))[0]?.value||i})()}translate(e){var t=this;return N(function*(){t.#t.add(e);try{t.#i.connectRoot(e),yield t.#i.translateRoots()}catch{}})()}translateOnce(e){var t=this;return N(function*(){try{yield t.#i.translateElements([e])}catch(i){console.error(`translateOnce: "${i}".`)}})()}destroy(){var e=this;return N(function*(){for(const t of e.#t)e.#i.disconnectRoot(t);e.#t.clear(),e.#i.pauseObserving()})()}pause(){this.#i.pauseObserving()}resume(){this.#i.resumeObserving()}static#r(e){return{en:"en-us",es:"es-es",fy:"fy-nl",ga:"ga-ie",gu:"gu-in",hi:"hi-in",hy:"hy-am",nb:"nb-no",ne:"ne-np",nn:"nn-no",pa:"pa-in",pt:"pt-pt",sv:"sv-se",zh:"zh-cn"}[e=e?.toLowerCase()||"en-us"]||e}static#s(e){const t=e.split("-",1)[0];return["ar","he","fa","ps","ur"].includes(t)}}function rx(n,e){const t=new Y5(e),i=new R5(n),r=i.addResource(t);return r.length&&console.error("L10n errors",r),i}class Vi extends ad{constructor(e){super({lang:e});const t=e?Vi.#e.bind(Vi,"en-us",this.getLanguage()):Vi.#i.bind(Vi,this.getLanguage());this._setL10n(new uG([],t))}static#e(e,t){var i=this;return _M(function*(){const{baseURL:r,paths:s}=yield bM(i.#n()),o=[t];if(e!==t){const a=t.split("-",1)[0];a!==t&&o.push(a),o.push(e)}for(const a of o){const l=yield bM(i.#t(a,r,s));l?yield l:"en-us"===a&&(yield i.#r(a))}})()}static#t(e,t,i){return N(function*(){const r=i[e];if(!r)return null;const s=new URL(r,t),o=yield LM(s,"text");return rx(e,o)})()}static#n(){return N(function*(){try{const{href:e}=document.querySelector('link[type="application/l10n"]'),t=yield LM(e,"json");return{baseURL:e.replace(/[^/]*$/,"")||"./",paths:t}}catch{}return{baseURL:"./",paths:Object.create(null)}})()}static#i(e){var t=this;return _M(function*(){yield t.#r(e)})()}static#r(e){return N(function*(){return rx(e,'pdfjs-previous-button =\n    .title = Previous Page\npdfjs-previous-button-label = Previous\npdfjs-next-button =\n    .title = Next Page\npdfjs-next-button-label = Next\npdfjs-page-input =\n    .title = Page\npdfjs-of-pages = of { $pagesCount }\npdfjs-page-of-pages = ({ $pageNumber } of { $pagesCount })\npdfjs-zoom-out-button =\n    .title = Zoom Out\npdfjs-zoom-out-button-label = Zoom Out\npdfjs-zoom-in-button =\n    .title = Zoom In\npdfjs-zoom-in-button-label = Zoom In\npdfjs-zoom-select =\n    .title = Zoom\npdfjs-presentation-mode-button =\n    .title = Switch to Presentation Mode\npdfjs-presentation-mode-button-label = Presentation Mode\npdfjs-open-file-button =\n    .title = Open File\npdfjs-open-file-button-label = Open\npdfjs-print-button =\n    .title = Print\npdfjs-print-button-label = Print\npdfjs-save-button =\n    .title = Save\npdfjs-save-button-label = Save\npdfjs-download-button =\n    .title = Download\npdfjs-download-button-label = Download\npdfjs-bookmark-button =\n    .title = Current Page (View URL from Current Page)\npdfjs-bookmark-button-label = Current Page\npdfjs-tools-button =\n    .title = Tools\npdfjs-tools-button-label = Tools\npdfjs-first-page-button =\n    .title = Go to First Page\npdfjs-first-page-button-label = Go to First Page\npdfjs-last-page-button =\n    .title = Go to Last Page\npdfjs-last-page-button-label = Go to Last Page\npdfjs-page-rotate-cw-button =\n    .title = Rotate Clockwise\npdfjs-page-rotate-cw-button-label = Rotate Clockwise\npdfjs-page-rotate-ccw-button =\n    .title = Rotate Counterclockwise\npdfjs-page-rotate-ccw-button-label = Rotate Counterclockwise\npdfjs-cursor-text-select-tool-button =\n    .title = Enable Text Selection Tool\npdfjs-cursor-text-select-tool-button-label = Text Selection Tool\npdfjs-cursor-hand-tool-button =\n    .title = Enable Hand Tool\npdfjs-cursor-hand-tool-button-label = Hand Tool\npdfjs-scroll-page-button =\n    .title = Use Page Scrolling\npdfjs-scroll-page-button-label = Page Scrolling\npdfjs-scroll-vertical-button =\n    .title = Use Vertical Scrolling\npdfjs-scroll-vertical-button-label = Vertical Scrolling\npdfjs-scroll-horizontal-button =\n    .title = Use Horizontal Scrolling\npdfjs-scroll-horizontal-button-label = Horizontal Scrolling\npdfjs-scroll-wrapped-button =\n    .title = Use Wrapped Scrolling\npdfjs-scroll-wrapped-button-label = Wrapped Scrolling\npdfjs-spread-none-button =\n    .title = Do not join page spreads\npdfjs-spread-none-button-label = No Spreads\npdfjs-spread-odd-button =\n    .title = Join page spreads starting with odd-numbered pages\npdfjs-spread-odd-button-label = Odd Spreads\npdfjs-spread-even-button =\n    .title = Join page spreads starting with even-numbered pages\npdfjs-spread-even-button-label = Even Spreads\npdfjs-document-properties-button =\n    .title = Document Properties\u2026\npdfjs-document-properties-button-label = Document Properties\u2026\npdfjs-document-properties-file-name = File name:\npdfjs-document-properties-file-size = File size:\npdfjs-document-properties-size-kb = { NUMBER($kb, maximumSignificantDigits: 3) } KB ({ $b } bytes)\npdfjs-document-properties-size-mb = { NUMBER($mb, maximumSignificantDigits: 3) } MB ({ $b } bytes)\npdfjs-document-properties-title = Title:\npdfjs-document-properties-author = Author:\npdfjs-document-properties-subject = Subject:\npdfjs-document-properties-keywords = Keywords:\npdfjs-document-properties-creation-date = Creation Date:\npdfjs-document-properties-modification-date = Modification Date:\npdfjs-document-properties-date-time-string = { DATETIME($dateObj, dateStyle: "short", timeStyle: "medium") }\npdfjs-document-properties-creator = Creator:\npdfjs-document-properties-producer = PDF Producer:\npdfjs-document-properties-version = PDF Version:\npdfjs-document-properties-page-count = Page Count:\npdfjs-document-properties-page-size = Page Size:\npdfjs-document-properties-page-size-unit-inches = in\npdfjs-document-properties-page-size-unit-millimeters = mm\npdfjs-document-properties-page-size-orientation-portrait = portrait\npdfjs-document-properties-page-size-orientation-landscape = landscape\npdfjs-document-properties-page-size-name-a-three = A3\npdfjs-document-properties-page-size-name-a-four = A4\npdfjs-document-properties-page-size-name-letter = Letter\npdfjs-document-properties-page-size-name-legal = Legal\npdfjs-document-properties-page-size-dimension-string = { $width } \xd7 { $height } { $unit } ({ $orientation })\npdfjs-document-properties-page-size-dimension-name-string = { $width } \xd7 { $height } { $unit } ({ $name }, { $orientation })\npdfjs-document-properties-linearized = Fast Web View:\npdfjs-document-properties-linearized-yes = Yes\npdfjs-document-properties-linearized-no = No\npdfjs-document-properties-close-button = Close\npdfjs-print-progress-message = Preparing document for printing\u2026\npdfjs-print-progress-percent = { $progress }%\npdfjs-print-progress-close-button = Cancel\npdfjs-printing-not-supported = Warning: Printing is not fully supported by this browser.\npdfjs-printing-not-ready = Warning: The PDF is not fully loaded for printing.\npdfjs-toggle-sidebar-button =\n    .title = Toggle Sidebar\npdfjs-toggle-sidebar-notification-button =\n    .title = Toggle Sidebar (document contains outline/attachments/layers)\npdfjs-toggle-sidebar-button-label = Toggle Sidebar\npdfjs-document-outline-button =\n    .title = Show Document Outline (double-click to expand/collapse all items)\npdfjs-document-outline-button-label = Document Outline\npdfjs-attachments-button =\n    .title = Show Attachments\npdfjs-attachments-button-label = Attachments\npdfjs-layers-button =\n    .title = Show Layers (double-click to reset all layers to the default state)\npdfjs-layers-button-label = Layers\npdfjs-thumbs-button =\n    .title = Show Thumbnails\npdfjs-thumbs-button-label = Thumbnails\npdfjs-current-outline-item-button =\n    .title = Find Current Outline Item\npdfjs-current-outline-item-button-label = Current Outline Item\npdfjs-findbar-button =\n    .title = Find in Document\npdfjs-findbar-button-label = Find\npdfjs-additional-layers = Additional Layers\npdfjs-thumb-page-title =\n    .title = Page { $page }\npdfjs-thumb-page-canvas =\n    .aria-label = Thumbnail of Page { $page }\npdfjs-find-input =\n    .title = Find\n    .placeholder = Find in document\u2026\npdfjs-find-previous-button =\n    .title = Find the previous occurrence of the phrase\npdfjs-find-previous-button-label = Previous\npdfjs-find-next-button =\n    .title = Find the next occurrence of the phrase\npdfjs-find-next-button-label = Next\npdfjs-find-highlight-checkbox = Highlight All\npdfjs-find-match-case-checkbox-label = Match Case\npdfjs-find-match-diacritics-checkbox-label = Match Diacritics\npdfjs-find-entire-word-checkbox-label = Whole Words\npdfjs-find-reached-top = Reached top of document, continued from bottom\npdfjs-find-reached-bottom = Reached end of document, continued from top\npdfjs-find-match-count =\n    { $total ->\n        [one] { $current } of { $total } match\n       *[other] { $current } of { $total } matches\n    }\npdfjs-find-match-count-limit =\n    { $limit ->\n        [one] More than { $limit } match\n       *[other] More than { $limit } matches\n    }\npdfjs-find-not-found = Phrase not found\npdfjs-page-scale-width = Page Width\npdfjs-page-scale-fit = Page Fit\npdfjs-page-scale-auto = Automatic Zoom\npdfjs-page-scale-actual = Actual Size\npdfjs-page-scale-percent = { $scale }%\npdfjs-page-landmark =\n    .aria-label = Page { $page }\npdfjs-loading-error = An error occurred while loading the PDF.\npdfjs-invalid-file-error = Invalid or corrupted PDF file.\npdfjs-missing-file-error = Missing PDF file.\npdfjs-unexpected-response-error = Unexpected server response.\npdfjs-rendering-error = An error occurred while rendering the page.\npdfjs-annotation-date-time-string = { DATETIME($dateObj, dateStyle: "short", timeStyle: "medium") }\npdfjs-text-annotation-type =\n    .alt = [{ $type } Annotation]\npdfjs-password-label = Enter the password to open this PDF file.\npdfjs-password-invalid = Invalid password. Please try again.\npdfjs-password-ok-button = OK\npdfjs-password-cancel-button = Cancel\npdfjs-web-fonts-disabled = Web fonts are disabled: unable to use embedded PDF fonts.\npdfjs-editor-free-text-button =\n    .title = Text\npdfjs-editor-free-text-button-label = Text\npdfjs-editor-ink-button =\n    .title = Draw\npdfjs-editor-ink-button-label = Draw\npdfjs-editor-stamp-button =\n    .title = Add or edit images\npdfjs-editor-stamp-button-label = Add or edit images\npdfjs-editor-highlight-button =\n    .title = Highlight\npdfjs-editor-highlight-button-label = Highlight\npdfjs-highlight-floating-button1 =\n    .title = Highlight\n    .aria-label = Highlight\npdfjs-highlight-floating-button-label = Highlight\npdfjs-editor-remove-ink-button =\n    .title = Remove drawing\npdfjs-editor-remove-freetext-button =\n    .title = Remove text\npdfjs-editor-remove-stamp-button =\n    .title = Remove image\npdfjs-editor-remove-highlight-button =\n    .title = Remove highlight\npdfjs-editor-free-text-color-input = Color\npdfjs-editor-free-text-size-input = Size\npdfjs-editor-ink-color-input = Color\npdfjs-editor-ink-thickness-input = Thickness\npdfjs-editor-ink-opacity-input = Opacity\npdfjs-editor-stamp-add-image-button =\n    .title = Add image\npdfjs-editor-stamp-add-image-button-label = Add image\npdfjs-editor-free-highlight-thickness-input = Thickness\npdfjs-editor-free-highlight-thickness-title =\n    .title = Change thickness when highlighting items other than text\npdfjs-free-text =\n    .aria-label = Text Editor\npdfjs-free-text-default-content = Start typing\u2026\npdfjs-ink =\n    .aria-label = Draw Editor\npdfjs-ink-canvas =\n    .aria-label = User-created image\npdfjs-editor-alt-text-button-label = Alt text\npdfjs-editor-alt-text-edit-button-label = Edit alt text\npdfjs-editor-alt-text-dialog-label = Choose an option\npdfjs-editor-alt-text-dialog-description = Alt text (alternative text) helps when people can\u2019t see the image or when it doesn\u2019t load.\npdfjs-editor-alt-text-add-description-label = Add a description\npdfjs-editor-alt-text-add-description-description = Aim for 1-2 sentences that describe the subject, setting, or actions.\npdfjs-editor-alt-text-mark-decorative-label = Mark as decorative\npdfjs-editor-alt-text-mark-decorative-description = This is used for ornamental images, like borders or watermarks.\npdfjs-editor-alt-text-cancel-button = Cancel\npdfjs-editor-alt-text-save-button = Save\npdfjs-editor-alt-text-decorative-tooltip = Marked as decorative\npdfjs-editor-alt-text-textarea =\n    .placeholder = For example, \u201cA young man sits down at a table to eat a meal\u201d\npdfjs-editor-resizer-top-left =\n    .aria-label = Top left corner \u2014 resize\npdfjs-editor-resizer-top-middle =\n    .aria-label = Top middle \u2014 resize\npdfjs-editor-resizer-top-right =\n    .aria-label = Top right corner \u2014 resize\npdfjs-editor-resizer-middle-right =\n    .aria-label = Middle right \u2014 resize\npdfjs-editor-resizer-bottom-right =\n    .aria-label = Bottom right corner \u2014 resize\npdfjs-editor-resizer-bottom-middle =\n    .aria-label = Bottom middle \u2014 resize\npdfjs-editor-resizer-bottom-left =\n    .aria-label = Bottom left corner \u2014 resize\npdfjs-editor-resizer-middle-left =\n    .aria-label = Middle left \u2014 resize\npdfjs-editor-highlight-colorpicker-label = Highlight color\npdfjs-editor-colorpicker-button =\n    .title = Change color\npdfjs-editor-colorpicker-dropdown =\n    .aria-label = Color choices\npdfjs-editor-colorpicker-yellow =\n    .title = Yellow\npdfjs-editor-colorpicker-green =\n    .title = Green\npdfjs-editor-colorpicker-blue =\n    .title = Blue\npdfjs-editor-colorpicker-pink =\n    .title = Pink\npdfjs-editor-colorpicker-red =\n    .title = Red\npdfjs-editor-highlight-show-all-button-label = Show all\npdfjs-editor-highlight-show-all-button =\n    .title = Show all\npdfjs-editor-new-alt-text-dialog-edit-label = Edit alt text (image description)\npdfjs-editor-new-alt-text-dialog-add-label = Add alt text (image description)\npdfjs-editor-new-alt-text-textarea =\n    .placeholder = Write your description here\u2026\npdfjs-editor-new-alt-text-description = Short description for people who can\u2019t see the image or when the image doesn\u2019t load.\npdfjs-editor-new-alt-text-disclaimer1 = This alt text was created automatically and may be inaccurate.\npdfjs-editor-new-alt-text-disclaimer-learn-more-url = Learn more\npdfjs-editor-new-alt-text-create-automatically-button-label = Create alt text automatically\npdfjs-editor-new-alt-text-not-now-button = Not now\npdfjs-editor-new-alt-text-error-title = Couldn\u2019t create alt text automatically\npdfjs-editor-new-alt-text-error-description = Please write your own alt text or try again later.\npdfjs-editor-new-alt-text-error-close-button = Close\npdfjs-editor-new-alt-text-ai-model-downloading-progress = Downloading alt text AI model ({ $downloadedSize } of { $totalSize } MB)\n    .aria-valuetext = Downloading alt text AI model ({ $downloadedSize } of { $totalSize } MB)\npdfjs-editor-new-alt-text-added-button-label = Alt text added\npdfjs-editor-new-alt-text-missing-button-label = Missing alt text\npdfjs-editor-new-alt-text-to-review-button-label = Review alt text\npdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer = Created automatically: { $generatedAltText }\npdfjs-image-alt-text-settings-button =\n    .title = Image alt text settings\npdfjs-image-alt-text-settings-button-label = Image alt text settings\npdfjs-editor-alt-text-settings-dialog-label = Image alt text settings\npdfjs-editor-alt-text-settings-automatic-title = Automatic alt text\npdfjs-editor-alt-text-settings-create-model-button-label = Create alt text automatically\npdfjs-editor-alt-text-settings-create-model-description = Suggests descriptions to help people who can\u2019t see the image or when the image doesn\u2019t load.\npdfjs-editor-alt-text-settings-download-model-label = Alt text AI model ({ $totalSize } MB)\npdfjs-editor-alt-text-settings-ai-model-description = Runs locally on your device so your data stays private. Required for automatic alt text.\npdfjs-editor-alt-text-settings-delete-model-button = Delete\npdfjs-editor-alt-text-settings-download-model-button = Download\npdfjs-editor-alt-text-settings-downloading-model-button = Downloading\u2026\npdfjs-editor-alt-text-settings-editor-title = Alt text editor\npdfjs-editor-alt-text-settings-show-dialog-button-label = Show alt text editor right away when adding an image\npdfjs-editor-alt-text-settings-show-dialog-description = Helps you make sure all your images have alt text.\npdfjs-editor-alt-text-settings-close-button = Close')})()}}function Vm(){return document.location.hash}class hG{#e=null;constructor({linkService:e,eventBus:t}){this.linkService=e,this.eventBus=t,this._initialized=!1,this._fingerprint="",this.reset(),this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",i=>{this._isPagesLoaded=!!i.pagesCount},{once:!0})})}initialize({fingerprint:e,resetHistory:t=!1,updateUrl:i=!1}){if(!e||"string"!=typeof e)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const r=""!==this._fingerprint&&this._fingerprint!==e;this._fingerprint=e,this._updateUrl=!0===i,this._initialized=!0,this.#u();const s=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=Vm(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this.#r(s,!0)||t){const{hash:a,page:l,rotation:c}=this.#a(!0);return!a||r||t?void this.#t(null,!0):void this.#t({hash:a,page:l,rotation:c},!0)}const o=s.destination;this.#s(o,s.uid,!0),void 0!==o.rotation&&(this._initialRotation=o.rotation),o.dest?(this._initialBookmark=JSON.stringify(o.dest),this._destination.page=null):o.hash?this._initialBookmark=o.hash:o.page&&(this._initialBookmark=`page=${o.page}`)}reset(){this._initialized&&(this.#c(),this._initialized=!1,this.#o()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:e=null,explicitDest:t,pageNumber:i}){if(!this._initialized)return;if(e&&"string"!=typeof e)return void console.error(`PDFHistory.push: "${e}" is not a valid namedDest parameter.`);if(!Array.isArray(t))return void console.error(`PDFHistory.push: "${t}" is not a valid explicitDest parameter.`);if(!this.#i(i)&&(null!==i||this._destination))return void console.error(`PDFHistory.push: "${i}" is not a valid pageNumber parameter.`);const r=e||JSON.stringify(t);if(!r)return;let s=!1;if(this._destination&&(function fG(n,e){return"string"==typeof n&&"string"==typeof e&&(n===e||Qu(n).get("nameddest")===e)}(this._destination.hash,r)||function pG(n,e){function t(i,r){if(typeof i!=typeof r||Array.isArray(i)||Array.isArray(r))return!1;if(null!==i&&"object"==typeof i&&null!==r){if(Object.keys(i).length!==Object.keys(r).length)return!1;for(const s in i)if(!t(i[s],r[s]))return!1;return!0}return i===r||Number.isNaN(i)&&Number.isNaN(r)}if(!Array.isArray(n)||!Array.isArray(e)||n.length!==e.length)return!1;for(let i=0,r=n.length;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}(this._destination.dest,t))){if(this._destination.page)return;s=!0}this._popStateInProgress&&!s||(this.#t({dest:t,hash:r,page:i,rotation:this.linkService.rotation},s),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(e){if(this._initialized){if(!this.#i(e))return void console.error(`PDFHistory.pushPage: "${e}" is not a valid page number.`);this._destination?.page!==e&&(this._popStateInProgress||(this.#t({dest:null,hash:`page=${e}`,page:e,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this.#n()}back(){if(!this._initialized||this._popStateInProgress)return;const e=window.history.state;this.#r(e)&&e.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const e=window.history.state;this.#r(e)&&e.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}#t(e,t=!1){const i=t||!this._destination,r={fingerprint:this._fingerprint,uid:i?this._uid:this._uid+1,destination:e};let s;if(this.#s(e,r.uid),this._updateUrl&&e?.hash){const o=document.location.href.split("#",1)[0];o.startsWith("file://")||(s=`${o}#${e.hash}`)}i?window.history.replaceState(r,"",s):window.history.pushState(r,"",s)}#n(e=!1){if(!this._position)return;let t=this._position;if(e&&(t=Object.assign(Object.create(null),this._position),t.temporary=!0),!this._destination)return void this.#t(t);if(this._destination.temporary)return void this.#t(t,!0);if(this._destination.hash===t.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let i=!1;if(this._destination.page>=t.first&&this._destination.page<=t.page){if(void 0!==this._destination.dest||!this._destination.first)return;i=!0}this.#t(t,i)}#i(e){return Number.isInteger(e)&&e>0&&e<=this.linkService.pagesCount}#r(e,t=!1){if(!e)return!1;if(e.fingerprint!==this._fingerprint){if(!t)return!1;{if("string"!=typeof e.fingerprint||e.fingerprint.length!==this._fingerprint.length)return!1;const[i]=performance.getEntriesByType("navigation");if("reload"!==i?.type)return!1}}return!(!Number.isInteger(e.uid)||e.uid<0||null===e.destination||"object"!=typeof e.destination)}#s(e,t,i=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),i&&e?.temporary&&delete e.temporary,this._destination=e,this._uid=t,this._maxUid=Math.max(this._maxUid,t),this._numPositionUpdates=0}#a(e=!1){const t=unescape(Vm()).substring(1),i=Qu(t),r=i.get("nameddest")||"";let s=0|i.get("page");return(!this.#i(s)||e&&r.length>0)&&(s=null),{hash:t,page:s,rotation:this.linkService.rotation}}#l({location:e}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:e.pdfOpenParams.substring(1),page:this.linkService.page,first:e.pageNumber,rotation:e.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this.#n(!0),this._updateViewareaTimeout=null},1e3))}#d({state:e}){const t=Vm(),i=this._currentHash!==t;if(this._currentHash=t,!e){this._uid++;const{hash:s,page:o,rotation:a}=this.#a();return void this.#t({hash:s,page:o,rotation:a},!0)}if(!this.#r(e))return;this._popStateInProgress=!0,i&&(this._blockHashChange++,function b5(n){return Pm.apply(this,arguments)}({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const r=e.destination;this.#s(r,e.uid,!0),xM(r.rotation)&&(this.linkService.rotation=r.rotation),r.dest?this.linkService.goToDestination(r.dest):r.hash?this.linkService.setHash(r.hash):r.page&&(this.linkService.page=r.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}#c(){(!this._destination||this._destination.temporary)&&this.#n()}#u(){if(this.#e)return;this.#e=new AbortController;const{signal:e}=this.#e;this.eventBus._on("updateviewarea",this.#l.bind(this),{signal:e}),window.addEventListener("popstate",this.#d.bind(this),{signal:e}),window.addEventListener("pagehide",this.#c.bind(this),{signal:e})}#o(){this.#e?.abort(),this.#e=null}}class gG{#e=null;#t=null;#n=null;#i=null;#r;constructor(e){this.pdfPage=e.pdfPage,this.accessibilityManager=e.accessibilityManager,this.l10n=e.l10n,this.l10n||=new Vi,this.annotationEditorLayer=null,this.div=null,this._cancelled=!1,this.#r=e.uiManager,this.#e=e.annotationLayer||null,this.#i=e.textLayer||null,this.#t=e.drawLayer||null,this.#n=e.onAppend||null}render(e,t="display"){var i=this;return N(function*(){if("display"!==t||i._cancelled)return;const r=e.clone({dontFlip:!0});if(i.div)return i.annotationEditorLayer.update({viewport:r}),void i.show();const s=i.div=document.createElement("div");s.className="annotationEditorLayer",s.hidden=!0,s.dir=i.#r.direction,i.#n?.(s),i.annotationEditorLayer=new l5({uiManager:i.#r,div:s,accessibilityManager:i.accessibilityManager,pageIndex:i.pdfPage.pageNumber-1,l10n:i.l10n,viewport:r,annotationLayer:i.#e,textLayer:i.#i,drawLayer:i.#t}),i.annotationEditorLayer.render({viewport:r,div:s,annotations:null,intent:t}),i.show()})()}cancel(){this._cancelled=!0,this.div&&this.annotationEditorLayer.destroy()}hide(){this.div&&(this.div.hidden=!0)}show(){!this.div||this.annotationEditorLayer.isInvisible||(this.div.hidden=!1)}}{var jm=new Map;const n=navigator.userAgent||"",e=navigator.platform||"",t=navigator.maxTouchPoints||1,i=/Android/.test(n);(/\b(iPad|iPhone|iPod)(?=;)/.test(n)||"MacIntel"===e&&t>1||i)&&jm.set("maxCanvasPixels",5242880),i&&jm.set("useSystemFonts",!1)}const Bm={BOOLEAN:1,NUMBER:2,OBJECT:4,STRING:8,UNDEFINED:16},di={allowedGlobalEvents:{value:null,kind:1},canvasMaxAreaInBytes:{value:-1,kind:5},isInAutomation:{value:!1,kind:1},localeProperties:{value:{lang:navigator.language||"en-US"},kind:1},nimbusDataStr:{value:"",kind:1},supportsCaretBrowsingMode:{value:!1,kind:1},supportsDocumentFonts:{value:!0,kind:1},supportsIntegratedFind:{value:!1,kind:1},supportsMouseWheelZoomCtrlKey:{value:!0,kind:1},supportsMouseWheelZoomMetaKey:{value:!0,kind:1},supportsPinchToZoom:{value:!0,kind:1},toolbarDensity:{value:0,kind:17},altTextLearnMoreUrl:{value:"",kind:130},annotationEditorMode:{value:0,kind:130},annotationMode:{value:2,kind:130},cursorToolOnLoad:{value:0,kind:130},debuggerSrc:{value:"./debugger.mjs",kind:2},defaultZoomDelay:{value:400,kind:130},defaultZoomValue:{value:"",kind:130},disableHistory:{value:!1,kind:2},disablePageLabels:{value:!1,kind:130},enableAltText:{value:!1,kind:130},enableAltTextModelDownload:{value:!0,kind:146},enableGuessAltText:{value:!0,kind:146},enableHighlightFloatingButton:{value:!1,kind:130},enableNewAltTextWhenAddingImage:{value:!0,kind:130},enablePermissions:{value:!1,kind:130},enablePrintAutoRotate:{value:!0,kind:130},enableScripting:{value:!0,kind:130},enableUpdatedAddImage:{value:!1,kind:130},externalLinkRel:{value:"noopener noreferrer nofollow",kind:2},externalLinkTarget:{value:0,kind:130},highlightEditorColors:{value:"yellow=#FFFF98,green=#53FFBC,blue=#80EBFF,pink=#FFCBE6,red=#FF4F5F",kind:130},historyUpdateUrl:{value:!1,kind:130},ignoreDestinationZoom:{value:!1,kind:130},imageResourcesPath:{value:"./images/",kind:2},maxCanvasPixels:{value:2**25,kind:2},forcePageColors:{value:!1,kind:130},pageColorsBackground:{value:"Canvas",kind:130},pageColorsForeground:{value:"CanvasText",kind:130},pdfBugEnabled:{value:!1,kind:130},printResolution:{value:150,kind:2},sidebarViewOnLoad:{value:-1,kind:130},scrollModeOnLoad:{value:-1,kind:130},spreadModeOnLoad:{value:-1,kind:130},textLayerMode:{value:1,kind:130},viewOnLoad:{value:0,kind:130},cMapPacked:{value:!0,kind:4},cMapUrl:{value:"../web/cmaps/",kind:4},disableAutoFetch:{value:!1,kind:132},disableFontFace:{value:!1,kind:132},disableRange:{value:!1,kind:132},disableStream:{value:!1,kind:132},docBaseUrl:{value:"",kind:4},enableHWA:{value:!0,kind:134},enableXfa:{value:!0,kind:132},fontExtraProperties:{value:!1,kind:4},isEvalSupported:{value:!0,kind:4},isOffscreenCanvasSupported:{value:!0,kind:4},maxImageSize:{value:-1,kind:4},pdfBug:{value:!1,kind:4},standardFontDataUrl:{value:"../web/standard_fonts/",kind:4},useSystemFonts:{value:void 0,kind:4,type:Bm.BOOLEAN+Bm.UNDEFINED},verbosity:{value:1,kind:4},workerPort:{value:null,kind:8},workerSrc:{value:"../build/pdf.worker.mjs",kind:8},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:2},sandboxBundleSrc:{value:"../build/pdf.sandbox.mjs",kind:2},viewerCssTheme:{value:0,kind:130},enableFakeMLManager:{value:!0,kind:2},disablePreferences:{value:!1,kind:2}};class mG{static eventBus;static#e=new Map;static{for(const e in di)this.#e.set(e,di[e].value);for(const[e,t]of jm)this.#e.set(e,t);this._hasInvokedSet=!1,this._checkDisablePreferences=()=>!!this.get("disablePreferences")||(this._hasInvokedSet&&console.warn('The Preferences may override manually set AppOptions; please use the "disablePreferences"-option to prevent that.'),!1)}static get(e){return this.#e.get(e)}static getAll(e=null,t=!1){const i=Object.create(null);for(const r in di){const s=di[r];e&&!(e&s.kind)||(i[r]=t?s.value:this.#e.get(r))}return i}static set(e,t){this.setAll({[e]:t})}static setAll(e,t=!1){let i;this._hasInvokedSet||=!0;for(const r in e){const s=di[r],o=e[r];if(!s||!(typeof o==typeof s.value||Bm[(typeof o).toUpperCase()]&s.type))continue;const{kind:a}=s;t&&!(1&a||128&a)||(this.eventBus&&16&a&&(i||=new Map).set(r,o),this.#e.set(r,o))}if(i)for(const[r,s]of i)this.eventBus.dispatch(r.toLowerCase(),{source:this,value:s})}}class vG{#e=null;constructor(e){this.pageIndex=e.pageIndex}render(e="display"){var t=this;return N(function*(){"display"!==e||t.#e||t._cancelled||(t.#e=new h5({pageIndex:t.pageIndex}))})()}cancel(){this._cancelled=!0,this.#e&&(this.#e.destroy(),this.#e=null)}setParent(e){this.#e?.setParent(e)}getDrawLayer(){return this.#e}}const ox={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},yG=/^H(\d+)$/;class ax{#e=void 0;get renderingDone(){return void 0!==this.#e}render(e){if(void 0!==this.#e)return this.#e;const t=this.#n(e);return t?.classList.add("structTree"),this.#e=t}hide(){this.#e&&!this.#e.hidden&&(this.#e.hidden=!0)}show(){this.#e?.hidden&&(this.#e.hidden=!1)}#t(e,t){const{alt:i,id:r,lang:s}=e;void 0!==i&&t.setAttribute("aria-label",Zu(i)),void 0!==r&&t.setAttribute("aria-owns",r),void 0!==s&&t.setAttribute("lang",Zu(s,!0))}#n(e){if(!e)return null;const t=document.createElement("span");if("role"in e){const{role:i}=e,r=i.match(yG);r?(t.setAttribute("role","heading"),t.setAttribute("aria-level",r[1])):ox[i]&&t.setAttribute("role",ox[i])}if(this.#t(e,t),e.children)if(1===e.children.length&&"id"in e.children[0])this.#t(e.children[0],t);else for(const i of e.children)t.append(this.#n(i));return t}}class al{#e=!1;#t=null;#n=new Map;#i=new Map;setTextMapping(e){this.#t=e}static#r(e,t){const i=e.getBoundingClientRect(),r=t.getBoundingClientRect();if(0===i.width&&0===i.height)return 1;if(0===r.width&&0===r.height)return-1;const a=i.y+i.height/2,u=r.y+r.height/2;return a<=r.y&&u>=i.y+i.height?-1:u<=i.y&&a>=r.y+r.height?1:i.x+i.width/2-(r.x+r.width/2)}enable(){if(this.#e)throw new Error("TextAccessibilityManager is already enabled.");if(!this.#t)throw new Error("Text divs and strings have not been set.");if(this.#e=!0,this.#t=this.#t.slice(),this.#t.sort(al.#r),this.#n.size>0){const e=this.#t;for(const[t,i]of this.#n)document.getElementById(t)?this.#s(t,e[i]):this.#n.delete(t)}for(const[e,t]of this.#i)this.addPointerInTextLayer(e,t);this.#i.clear()}disable(){this.#e&&(this.#i.clear(),this.#t=null,this.#e=!1)}removePointerInTextLayer(e){if(!this.#e)return void this.#i.delete(e);const t=this.#t;if(!t||0===t.length)return;const{id:i}=e,r=this.#n.get(i);if(void 0===r)return;const s=t[r];this.#n.delete(i);let o=s.getAttribute("aria-owns");o?.includes(i)&&(o=o.split(" ").filter(a=>a!==i).join(" "),o?s.setAttribute("aria-owns",o):(s.removeAttribute("aria-owns"),s.setAttribute("role","presentation")))}#s(e,t){const i=t.getAttribute("aria-owns");i?.includes(e)||t.setAttribute("aria-owns",i?`${i} ${e}`:e),t.removeAttribute("role")}addPointerInTextLayer(e,t){const{id:i}=e;if(!i)return null;if(!this.#e)return this.#i.set(e,t),null;t&&this.removePointerInTextLayer(e);const r=this.#t;if(!r||0===r.length)return null;const s=il(r,c=>al.#r(e,c)<0),o=Math.max(0,s-1),a=r[o];this.#s(i,a),this.#n.set(i,o);const l=a.parentNode;return l?.classList.contains("markedContent")?l.id:null}moveElementInDOM(e,t,i,r){const s=this.addPointerInTextLayer(i,r);if(!e.hasChildNodes())return e.append(t),s;const o=Array.from(e.childNodes).filter(c=>c!==t);if(0===o.length)return s;const a=i||t,l=il(o,c=>al.#r(a,c)<0);return 0===l?o[0].before(t):o[l-1].after(t),s}}class bG{#e=null;constructor({findController:e,eventBus:t,pageIndex:i}){this.findController=e,this.matches=[],this.eventBus=t,this.pageIdx=i,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(e,t){this.textDivs=e,this.textContentItemsStr=t}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this.#e||(this.#e=new AbortController,this.eventBus._on("updatetextlayermatches",e=>{(e.pageIndex===this.pageIdx||-1===e.pageIndex)&&this._updateMatches()},{signal:this.#e.signal})),this._updateMatches()}disable(){this.enabled&&(this.enabled=!1,this.#e?.abort(),this.#e=null,this._updateMatches(!0))}_convertMatches(e,t){if(!e)return[];const{textContentItemsStr:i}=this;let r=0,s=0;const o=i.length-1,a=[];for(let l=0,c=e.length;l<c;l++){let u=e[l];for(;r!==o&&u>=s+i[r].length;)s+=i[r].length,r++;r===i.length&&console.error("Could not find a matching mapping");const d={begin:{divIdx:r,offset:u-s}};for(u+=t[l];r!==o&&u>s+i[r].length;)s+=i[r].length,r++;d.end={divIdx:r,offset:u-s},a.push(d)}return a}_renderMatches(e){if(0===e.length)return;const{findController:t,pageIdx:i}=this,{textContentItemsStr:r,textDivs:s}=this,o=i===t.selected.pageIdx,a=t.selected.matchIdx;let c=null;function d(m,y){const b=m.divIdx;return s[b].textContent="",h(b,0,m.offset,y)}function h(m,y,b,_){let w=s[m];if(w.nodeType===Node.TEXT_NODE){const T=document.createElement("span");w.before(T),T.append(w),s[m]=T,w=T}const D=r[m].substring(y,b),S=document.createTextNode(D);if(_){const T=document.createElement("span");return T.className=`${_} appended`,T.append(S),w.append(T),_.includes("selected")?T.offsetLeft:0}return w.append(S),0}let f=a,p=f+1;if(t.state.highlightAll)f=0,p=e.length;else if(!o)return;let g=-1,v=-1;for(let m=f;m<p;m++){const y=e[m],b=y.begin;if(b.divIdx===g&&b.offset===v)continue;g=b.divIdx,v=b.offset;const _=y.end,w=o&&m===a,D=w?" selected":"";let S=0;if(c&&b.divIdx===c.divIdx?h(c.divIdx,c.offset,b.offset):(null!==c&&h(c.divIdx,c.offset,undefined),d(b)),b.divIdx===_.divIdx)S=h(b.divIdx,b.offset,_.offset,"highlight"+D);else{S=h(b.divIdx,b.offset,undefined,"highlight begin"+D);for(let T=b.divIdx+1,E=_.divIdx;T<E;T++)s[T].className="highlight middle"+D;d(_,"highlight end"+D)}c=_,w&&t.scrollMatchIntoView({element:s[b.divIdx],selectedLeft:S,pageIndex:i,matchIndex:a})}c&&h(c.divIdx,c.offset,undefined)}_updateMatches(e=!1){if(!this.enabled&&!e)return;const{findController:t,matches:i,pageIdx:r}=this,{textContentItemsStr:s,textDivs:o}=this;let a=-1;for(const u of i){for(let h=Math.max(a,u.begin.divIdx),f=u.end.divIdx;h<=f;h++){const p=o[h];p.textContent=s[h],p.className=""}a=u.end.divIdx+1}t?.highlightMatches&&!e&&(this.matches=this._convertMatches(t.pageMatches[r]||null,t.pageMatchesLength[r]||null),this._renderMatches(this.matches))}}class lo{#e=!1;#t=null;#n=!1;#i=null;static#r=new Map;static#s=null;constructor({pdfPage:e,highlighter:t=null,accessibilityManager:i=null,enablePermissions:r=!1,onAppend:s=null}){this.pdfPage=e,this.highlighter=t,this.accessibilityManager=i,this.#e=!0===r,this.#t=s,this.div=document.createElement("div"),this.div.tabIndex=0,this.div.className="textLayer"}render(e,t=null){var i=this;return N(function*(){if(i.#n&&i.#i)return i.#i.update({viewport:e,onBefore:i.hide.bind(i)}),void i.show();i.cancel(),i.#i=new v5({textContentSource:i.pdfPage.streamTextContent(t||{includeMarkedContent:!0,disableNormalization:!0}),container:i.div,viewport:e});const{textDivs:r,textContentItemsStr:s}=i.#i;i.highlighter?.setTextMapping(r,s),i.accessibilityManager?.setTextMapping(r),yield i.#i.render(),i.#n=!0;const o=document.createElement("div");o.className="endOfContent",i.div.append(o),i.#a(o),i.#t?.(i.div),i.highlighter?.enable(),i.accessibilityManager?.enable()})()}hide(){!this.div.hidden&&this.#n&&(this.highlighter?.disable(),this.div.hidden=!0)}show(){this.div.hidden&&this.#n&&(this.div.hidden=!1,this.highlighter?.enable())}cancel(){this.#i?.cancel(),this.#i=null,this.highlighter?.disable(),this.accessibilityManager?.disable(),lo.#l(this.div)}#a(e){const{div:t}=this;t.addEventListener("mousedown",()=>{t.classList.add("selecting")}),t.addEventListener("copy",i=>{if(!this.#e){const r=document.getSelection();i.clipboardData.setData("text/plain",Zu(g5(r.toString())))}i.preventDefault(),i.stopPropagation()}),lo.#r.set(t,e),lo.#d()}static#l(e){this.#r.delete(e),0===this.#r.size&&(this.#s?.abort(),this.#s=null)}static#d(){if(this.#s)return;this.#s=new AbortController;const{signal:e}=this.#s,t=(o,a)=>{a.append(o),o.style.width="",o.style.height="",a.classList.remove("selecting")};let i=!1;var r,s;document.addEventListener("pointerdown",()=>{i=!0},{signal:e}),document.addEventListener("pointerup",()=>{i=!1,this.#r.forEach(t)},{signal:e}),window.addEventListener("blur",()=>{i=!1,this.#r.forEach(t)},{signal:e}),document.addEventListener("keyup",()=>{i||this.#r.forEach(t)},{signal:e}),document.addEventListener("selectionchange",()=>{const o=document.getSelection();if(0===o.rangeCount)return void this.#r.forEach(t);const a=new Set;for(let f=0;f<o.rangeCount;f++){const p=o.getRangeAt(f);for(const g of this.#r.keys())!a.has(g)&&p.intersectsNode(g)&&a.add(g)}for(const[f,p]of this.#r)a.has(f)?f.classList.add("selecting"):t(p,f);if(r??="none"===getComputedStyle(this.#r.values().next().value).getPropertyValue("-moz-user-select"),r)return;const l=o.getRangeAt(0),c=s&&(0===l.compareBoundaryPoints(Range.END_TO_END,s)||0===l.compareBoundaryPoints(Range.START_TO_END,s));let u=c?l.startContainer:l.endContainer;u.nodeType===Node.TEXT_NODE&&(u=u.parentNode);const d=u.parentElement.closest(".textLayer"),h=this.#r.get(d);h&&(h.style.width=d.style.width,h.style.height=d.style.height,u.parentElement.insertBefore(h,c?u:u.nextSibling)),s=l.cloneRange()},{signal:e})}}class lx{constructor({pdfPage:e,annotationStorage:t=null,linkService:i,xfaHtml:r=null}){this.pdfPage=e,this.annotationStorage=t,this.linkService=i,this.xfaHtml=r,this.div=null,this._cancelled=!1}render(e,t="display"){var i=this;return N(function*(){if("print"===t){const o={viewport:e.clone({dontFlip:!0}),div:i.div,xfaHtml:i.xfaHtml,annotationStorage:i.annotationStorage,linkService:i.linkService,intent:t};return i.div=document.createElement("div"),o.div=i.div,Tm.render(o)}const r=yield i.pdfPage.getXfa();if(i._cancelled||!r)return{textDivs:[]};const s={viewport:e.clone({dontFlip:!0}),div:i.div,xfaHtml:r,annotationStorage:i.annotationStorage,linkService:i.linkService,intent:t};return i.div?Tm.update(s):(i.div=document.createElement("div"),s.div=i.div,Tm.render(s))})()}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}const _G={annotationEditorUIManager:null,annotationStorage:null,downloadManager:null,enableScripting:!1,fieldObjectsPromise:null,findController:null,hasJSActionsPromise:null,get linkService(){return new xm}},wG=new Map([["canvasWrapper",0],["textLayer",1],["annotationLayer",2],["annotationEditorLayer",3],["xfaLayer",3]]);class cx{#e=ki.ENABLE_FORMS;#t=!1;#n=!1;#i=!1;#r=null;#s=null;#a=null;#l=null;#d=ze.INITIAL;#c=1;#u={directDrawing:!0,initialOptionalContent:!0,regularAnnotations:!0};#o=new WeakMap;#h=[null,null,null,null];constructor(e){const t=e.container,i=e.defaultViewport;this.id=e.id,this.renderingId="page"+this.id,this.#r=e.layerProperties||_G,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=e.scale||1,this.viewport=i,this.pdfPageRotate=i.rotation,this._optionalContentConfigPromise=e.optionalContentConfigPromise||null,this.#c=e.textLayerMode??1,this.#e=e.annotationMode??ki.ENABLE_FORMS,this.imageResourcesPath=e.imageResourcesPath||"",this.maxCanvasPixels=e.maxCanvasPixels??mG.get("maxCanvasPixels"),this.pageColors=e.pageColors||null,this.#t=e.enableHWA||!1,this.eventBus=e.eventBus,this.renderingQueue=e.renderingQueue,this.l10n=e.l10n,this.l10n||=new Vi,this.renderTask=null,this.resume=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._container=t,this._annotationCanvasMap=null,this.annotationLayer=null,this.annotationEditorLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null,this.drawLayer=null;const r=document.createElement("div");if(r.className="page",r.setAttribute("data-page-number",this.id),r.setAttribute("role","region"),r.setAttribute("data-l10n-id","pdfjs-page-landmark"),r.setAttribute("data-l10n-args",JSON.stringify({page:this.id})),this.div=r,this.#f(),t?.append(r),this._isStandalone){t?.style.setProperty("--scale-factor",this.scale*Li.PDF_TO_CSS_UNITS);const{optionalContentConfigPromise:s}=e;s&&s.then(o=>{s===this._optionalContentConfigPromise&&(this.#u.initialOptionalContent=o.hasInitialVisibility)}),e.l10n||this.l10n.translate(this.div)}}#p(e,t){const i=wG.get(t),r=this.#h[i];if(this.#h[i]=e,r)r.replaceWith(e);else{for(let s=i-1;s>=0;s--){const o=this.#h[s];if(o)return void o.after(e)}this.div.prepend(e)}}get renderingState(){return this.#d}set renderingState(e){if(e!==this.#d)switch(this.#d=e,this.#s&&(clearTimeout(this.#s),this.#s=null),e){case ze.PAUSED:this.div.classList.remove("loading");break;case ze.RUNNING:this.div.classList.add("loadingIcon"),this.#s=setTimeout(()=>{this.div.classList.add("loading"),this.#s=null},0);break;case ze.INITIAL:case ze.FINISHED:this.div.classList.remove("loadingIcon","loading")}}#f(){const{viewport:e}=this;if(this.pdfPage){if(this.#a===e.rotation)return;this.#a=e.rotation}m5(this.div,e,!0,!1)}setPdfPage(e){this._isStandalone&&("CanvasText"===this.pageColors?.foreground||"Canvas"===this.pageColors?.background)&&(this._container?.style.setProperty("--hcm-highlight-filter",e.filterFactory.addHighlightHCMFilter("highlight","CanvasText","Canvas","HighlightText","Highlight")),this._container?.style.setProperty("--hcm-highlight-selected-filter",e.filterFactory.addHighlightHCMFilter("highlight_selected","CanvasText","Canvas","HighlightText","Highlight"))),this.pdfPage=e,this.pdfPageRotate=e.rotate,this.viewport=e.getViewport({scale:this.scale*Li.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.#f(),this.reset()}destroy(){this.reset(),this.pdfPage?.cleanup()}hasEditableAnnotations(){return!!this.annotationLayer?.hasEditableAnnotations()}get _textHighlighter(){return id(this,"_textHighlighter",new bG({pageIndex:this.id-1,eventBus:this.eventBus,findController:this.#r.findController}))}#g(e,t){this.eventBus.dispatch(e,{source:this,pageNumber:this.id,error:t})}#v(){var e=this;return N(function*(){let t=null;try{yield e.annotationLayer.render(e.viewport,"display")}catch(i){console.error(`#renderAnnotationLayer: "${i}".`),t=i}finally{e.#g("annotationlayerrendered",t)}})()}#m(){var e=this;return N(function*(){let t=null;try{yield e.annotationEditorLayer.render(e.viewport,"display")}catch(i){console.error(`#renderAnnotationEditorLayer: "${i}".`),t=i}finally{e.#g("annotationeditorlayerrendered",t)}})()}#y(){var e=this;return N(function*(){try{yield e.drawLayer.render("display")}catch(t){console.error(`#renderDrawLayer: "${t}".`)}})()}#_(){var e=this;return N(function*(){let t=null;try{const i=yield e.xfaLayer.render(e.viewport,"display");i?.textDivs&&e._textHighlighter&&e.#A(i.textDivs)}catch(i){console.error(`#renderXfaLayer: "${i}".`),t=i}finally{e.xfaLayer?.div&&(e.l10n.pause(),e.#p(e.xfaLayer.div,"xfaLayer"),e.l10n.resume()),e.#g("xfalayerrendered",t)}})()}#C(){var e=this;return N(function*(){if(!e.textLayer)return;let t=null;try{yield e.textLayer.render(e.viewport)}catch(i){if(i instanceof a5)return;console.error(`#renderTextLayer: "${i}".`),t=i}e.#g("textlayerrendered",t),e.#w()})()}#w(){var e=this;return N(function*(){if(!e.textLayer)return;e.structTreeLayer||=new ax;const t=yield e.structTreeLayer.renderingDone?null:e.pdfPage.getStructTree(),i=e.structTreeLayer?.render(t);i&&(e.l10n.pause(),e.canvas?.append(i),e.l10n.resume()),e.structTreeLayer?.show()})()}#A(e){var t=this;return N(function*(){const i=yield t.pdfPage.getTextContent(),r=[];for(const s of i.items)r.push(s.str);t._textHighlighter.setTextMapping(e,r),t._textHighlighter.enable()})()}_resetZoomLayer(e=!1){if(!this.zoomLayer)return;const t=this.zoomLayer.firstChild;this.#o.delete(t),t.width=0,t.height=0,e&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:e=!1,keepAnnotationLayer:t=!1,keepAnnotationEditorLayer:i=!1,keepXfaLayer:r=!1,keepTextLayer:s=!1}={}){this.cancelRendering({keepAnnotationLayer:t,keepAnnotationEditorLayer:i,keepXfaLayer:r,keepTextLayer:s}),this.renderingState=ze.INITIAL;const o=this.div,a=o.childNodes,l=e&&this.zoomLayer||null,c=t&&this.annotationLayer?.div||null,u=i&&this.annotationEditorLayer?.div||null,d=r&&this.xfaLayer?.div||null,h=s&&this.textLayer?.div||null;for(let f=a.length-1;f>=0;f--){const p=a[f];switch(p){case l:case c:case u:case d:case h:continue}p.remove();const g=this.#h.indexOf(p);g>=0&&(this.#h[g]=null)}o.removeAttribute("data-loaded"),c&&this.annotationLayer.hide(),u&&this.annotationEditorLayer.hide(),d&&this.xfaLayer.hide(),h&&this.textLayer.hide(),this.structTreeLayer?.hide(),l||(this.canvas&&(this.#o.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer())}toggleEditingMode(e){this.hasEditableAnnotations()&&(this.#i=e,this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0}))}update({scale:e=0,rotation:t=null,optionalContentConfigPromise:i=null,drawingDelay:r=-1}){if(this.scale=e||this.scale,"number"==typeof t&&(this.rotation=t),i instanceof Promise&&(this._optionalContentConfigPromise=i,i.then(o=>{i===this._optionalContentConfigPromise&&(this.#u.initialOptionalContent=o.hasInitialVisibility)})),this.#u.directDrawing=!0,this.viewport=this.viewport.clone({scale:this.scale*Li.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.#f(),this._isStandalone&&this._container?.style.setProperty("--scale-factor",this.viewport.scale),this.canvas){let o=!1;if(this.#n)if(0===this.maxCanvasPixels)o=!0;else if(this.maxCanvasPixels>0){const{width:l,height:c}=this.viewport,{sx:u,sy:d}=this.outputScale;o=(Math.floor(l)*u|0)*(Math.floor(c)*d|0)>this.maxCanvasPixels}const a=r>=0&&r<1e3;if(a||o){if(a&&!o&&this.renderingState!==ze.FINISHED&&(this.cancelRendering({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,cancelExtraDelay:r}),this.renderingState=ze.FINISHED,this.#u.directDrawing=!1),this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0,redrawTextLayer:!a,hideTextLayer:a}),a)return;return void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this.#l})}!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0})}cancelRendering({keepAnnotationLayer:e=!1,keepAnnotationEditorLayer:t=!1,keepXfaLayer:i=!1,keepTextLayer:r=!1,cancelExtraDelay:s=0}={}){this.renderTask&&(this.renderTask.cancel(s),this.renderTask=null),this.resume=null,this.textLayer&&(!r||!this.textLayer.div)&&(this.textLayer.cancel(),this.textLayer=null),this.structTreeLayer&&!this.textLayer&&(this.structTreeLayer=null),this.annotationLayer&&(!e||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.annotationEditorLayer&&(!t||!this.annotationEditorLayer.div)&&(this.drawLayer&&(this.drawLayer.cancel(),this.drawLayer=null),this.annotationEditorLayer.cancel(),this.annotationEditorLayer=null),this.xfaLayer&&(!i||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this._textHighlighter?.disable())}cssTransform({target:e,redrawAnnotationLayer:t=!1,redrawAnnotationEditorLayer:i=!1,redrawXfaLayer:r=!1,redrawTextLayer:s=!1,hideTextLayer:o=!1}){if(!e.hasAttribute("zooming")){e.setAttribute("zooming",!0);const{style:l}=e;l.width=l.height=""}const a=this.#o.get(e);if(this.viewport!==a){const l=this.viewport.rotation-a.rotation,c=Math.abs(l);let u=1,d=1;if(90===c||270===c){const{width:h,height:f}=this.viewport;u=f/h,d=h/f}e.style.transform=`rotate(${l}deg) scale(${u}, ${d})`}t&&this.annotationLayer&&this.#v(),i&&this.annotationEditorLayer&&(this.drawLayer&&this.#y(),this.#m()),r&&this.xfaLayer&&this.#_(),this.textLayer&&(o?(this.textLayer.hide(),this.structTreeLayer?.hide()):s&&this.#C())}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(e,t){return this.viewport.convertToPdfPoint(e,t)}#T(e,t=null){var i=this;return N(function*(){if(e===i.renderTask&&(i.renderTask=null),t instanceof Im)i.#l=null;else if(i.#l=t,i.renderingState=ze.FINISHED,i._resetZoomLayer(!0),i.#u.regularAnnotations=!e.separateAnnots,i.eventBus.dispatch("pagerendered",{source:i,pageNumber:i.id,cssTransform:!1,timestamp:performance.now(),error:i.#l}),t)throw t})()}draw(){var e=this;return N(function*(){e.renderingState!==ze.INITIAL&&(console.error("Must be in new state before drawing"),e.reset());const{div:t,l10n:i,pageColors:r,pdfPage:s,viewport:o}=e;if(!s)throw e.renderingState=ze.FINISHED,new Error("pdfPage is not loaded");e.renderingState=ze.RUNNING;const a=document.createElement("div");if(a.classList.add("canvasWrapper"),e.#p(a,"canvasWrapper"),!e.textLayer&&0!==e.#c&&!s.isPureXfa&&(e._accessibilityManager||=new al,e.textLayer=new lo({pdfPage:s,highlighter:e._textHighlighter,accessibilityManager:e._accessibilityManager,enablePermissions:2===e.#c,onAppend:S=>{e.l10n.pause(),e.#p(S,"textLayer"),e.l10n.resume()}})),!e.annotationLayer&&e.#e!==ki.DISABLE){const{annotationStorage:S,annotationEditorUIManager:T,downloadManager:E,enableScripting:R,fieldObjectsPromise:L,hasJSActionsPromise:ye,linkService:De}=e.#r;e._annotationCanvasMap||=new Map,e.annotationLayer=new VM({pdfPage:s,annotationStorage:S,imageResourcesPath:e.imageResourcesPath,renderForms:e.#e===ki.ENABLE_FORMS,linkService:De,downloadManager:E,enableScripting:R,hasJSActionsPromise:ye,fieldObjectsPromise:L,annotationCanvasMap:e._annotationCanvasMap,accessibilityManager:e._accessibilityManager,annotationEditorUIManager:T,onAppend:_e=>{e.#p(_e,"annotationLayer")}})}const{width:c,height:u}=o,d=document.createElement("canvas");d.setAttribute("role","presentation"),d.hidden=!0;const h=!(!r?.background||!r?.foreground);let f=S=>{(!h||S)&&(d.hidden=!1,f=null)};a.append(d),e.canvas=d;const p=d.getContext("2d",{alpha:!1,willReadFrequently:!e.#t}),g=e.outputScale=new M4;if(0===e.maxCanvasPixels){const S=1/e.scale;g.sx*=S,g.sy*=S,e.#n=!0}else if(e.maxCanvasPixels>0){const T=Math.sqrt(e.maxCanvasPixels/(c*u));g.sx>T||g.sy>T?(g.sx=T,g.sy=T,e.#n=!0):e.#n=!1}const v=MM(g.sx),m=MM(g.sy);d.width=Ju(c*g.sx,v[0]),d.height=Ju(u*g.sy,m[0]);const{style:y}=d;y.width=Ju(c,v[1])+"px",y.height=Ju(u,m[1])+"px",e.#o.set(d,o);const _={canvasContext:p,transform:g.scaled?[g.sx,0,0,g.sy,0,0]:null,viewport:o,annotationMode:e.#e,optionalContentConfigPromise:e._optionalContentConfigPromise,annotationCanvasMap:e._annotationCanvasMap,pageColors:r,isEditing:e.#i},w=e.renderTask=s.render(_);w.onContinue=S=>{if(f?.(!1),e.renderingQueue&&!e.renderingQueue.isHighestPriority(e))return e.renderingState=ze.PAUSED,void(e.resume=()=>{e.renderingState=ze.RUNNING,S()});S()};const D=w.promise.then(N(function*(){f?.(!0),yield e.#T(w),e.#C(),e.annotationLayer&&(yield e.#v());const{annotationEditorUIManager:S}=e.#r;S&&(e.drawLayer||=new vG({pageIndex:e.id}),yield e.#y(),e.drawLayer.setParent(a),e.annotationEditorLayer||=new gG({uiManager:S,pdfPage:s,l10n:i,accessibilityManager:e._accessibilityManager,annotationLayer:e.annotationLayer?.annotationLayer,textLayer:e.textLayer,drawLayer:e.drawLayer.getDrawLayer(),onAppend:T=>{e.#p(T,"annotationEditorLayer")}}),e.#m())}),S=>(S instanceof Im||f?.(!0),e.#T(w,S)));if(s.isPureXfa){if(!e.xfaLayer){const{annotationStorage:S,linkService:T}=e.#r;e.xfaLayer=new lx({pdfPage:s,annotationStorage:S,linkService:T})}e.#_()}return t.setAttribute("data-loaded",!0),e.eventBus.dispatch("pagerender",{source:e,pageNumber:e.id}),D})()}setPageLabel(e){this.pageLabel="string"==typeof e?e:null,this.div.setAttribute("data-l10n-args",JSON.stringify({page:this.pageLabel??this.id})),null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}get thumbnailCanvas(){const{directDrawing:e,initialOptionalContent:t,regularAnnotations:i}=this.#u;return e&&t&&i?this.canvas:null}}function Hm(){return(Hm=N(function*(n){const t="".split("#",1)[0];let{info:i,metadata:r,contentDispositionFilename:s,contentLength:o}=yield n.getMetadata();if(!o){const{length:a}=yield n.getDownloadInfo();o=a}return{...i,baseURL:t,filesize:o,filename:s||f5(""),metadata:r?.getRaw(),authors:r?.get("dc:creator"),numPages:n.numPages,URL:""}})).apply(this,arguments)}class EG{constructor(e){this._ready=new Promise((t,i)=>{import(e).then(s=>{t(s.QuickJSSandbox())}).catch(i)})}createSandbox(e){var t=this;return N(function*(){(yield t._ready).create(e)})()}dispatchEventInSandbox(e){var t=this;return N(function*(){const i=yield t._ready;setTimeout(()=>i.dispatchEvent(e),0)})()}destroySandbox(){var e=this;return N(function*(){(yield e._ready).nukeSandbox()})()}}class AG{#e=null;#t=null;#n=null;#i=null;#r=null;#s=null;#a=null;#l=null;#d=!1;#c=null;#u=null;constructor({eventBus:e,externalServices:t=null,docProperties:i=null}){this.#r=e,this.#s=t,this.#n=i}setViewer(e){this.#l=e}setDocument(e){var t=this;return N(function*(){if(t.#a&&(yield t.#g()),t.#a=e,!e)return;const[i,r,s]=yield Promise.all([e.getFieldObjects(),e.getCalculationOrderIds(),e.getJSActions()]);if(!i&&!s)return void(yield t.#g());if(e!==t.#a)return;try{t.#c=t.#f()}catch(l){return console.error(`setDocument: "${l.message}".`),void(yield t.#g())}const o=t.#r;t.#i=new AbortController;const{signal:a}=t.#i;o._on("updatefromsandbox",l=>{l?.source===window&&t.#o(l.detail)},{signal:a}),o._on("dispatcheventinsandbox",l=>{t.#c?.dispatchEventInSandbox(l.detail)},{signal:a}),o._on("pagechanging",({pageNumber:l,previous:c})=>{l!==c&&(t.#p(c),t.#h(l))},{signal:a}),o._on("pagerendered",({pageNumber:l})=>{t._pageOpenPending.has(l)&&l===t.#l.currentPageNumber&&t.#h(l)},{signal:a}),o._on("pagesdestroy",N(function*(){yield t.#p(t.#l.currentPageNumber),yield t.#c?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),t.#e?.resolve()}),{signal:a});try{const l=yield t.#n(e);if(e!==t.#a)return;yield t.#c.createSandbox({objects:i,calculationOrder:r,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...l,actions:s}}),o.dispatch("sandboxcreated",{source:t})}catch(l){return console.error(`setDocument: "${l.message}".`),void(yield t.#g())}yield t.#c?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield t.#h(t.#l.currentPageNumber,!0),Promise.resolve().then(()=>{e===t.#a&&(t.#d=!0)})})()}dispatchWillSave(){var e=this;return N(function*(){return e.#c?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(){var e=this;return N(function*(){return e.#c?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(){var e=this;return N(function*(){if(e.#c){yield e.#u?.promise,e.#u=Promise.withResolvers();try{yield e.#c.dispatchEventInSandbox({id:"doc",name:"WillPrint"})}catch(t){throw e.#u.resolve(),e.#u=null,t}yield e.#u.promise}})()}dispatchDidPrint(){var e=this;return N(function*(){return e.#c?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get destroyPromise(){return this.#t?.promise||null}get ready(){return this.#d}get _pageOpenPending(){return id(this,"_pageOpenPending",new Set)}get _visitedPages(){return id(this,"_visitedPages",new Map)}#o(e){var t=this;return N(function*(){const i=t.#l,r=i.isInPresentationMode||i.isChangingPresentationMode,{id:s,siblings:o,command:a,value:l}=e;if(!s){switch(a){case"clear":console.clear();break;case"error":console.error(l);break;case"layout":if(!r){const u=function F4(n){let e=fe.VERTICAL,t=Tt.NONE;switch(n){case"SinglePage":e=fe.PAGE;break;case"OneColumn":break;case"TwoPageLeft":e=fe.PAGE;case"TwoColumnLeft":t=Tt.ODD;break;case"TwoPageRight":e=fe.PAGE;case"TwoColumnRight":t=Tt.EVEN}return{scrollMode:e,spreadMode:t}}(l);i.spreadMode=u.spreadMode}break;case"page-num":i.currentPageNumber=l+1;break;case"print":yield i.pagesPromise,t.#r.dispatch("print",{source:t});break;case"println":console.log(l);break;case"zoom":r||(i.currentScaleValue=l);break;case"SaveAs":t.#r.dispatch("download",{source:t});break;case"FirstPage":i.currentPageNumber=1;break;case"LastPage":i.currentPageNumber=i.pagesCount;break;case"NextPage":i.nextPage();break;case"PrevPage":i.previousPage();break;case"ZoomViewIn":r||i.increaseScale();break;case"ZoomViewOut":r||i.decreaseScale();break;case"WillPrintFinished":t.#u?.resolve(),t.#u=null}return}if(r&&e.focus)return;delete e.id,delete e.siblings;const c=o?[s,...o]:[s];for(const u of c){const d=document.querySelector(`[data-element-id="${u}"]`);d?d.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:e})):t.#a?.annotationStorage.setValue(u,e)}})()}#h(e,t=!1){var i=this;return N(function*(){const r=i.#a,s=i._visitedPages;if(t&&(i.#e=Promise.withResolvers()),!i.#e)return;const o=i.#l.getPageView(e-1);if(o?.renderingState!==ze.FINISHED)return void i._pageOpenPending.add(e);i._pageOpenPending.delete(e);const a=N(function*(){const l=yield s.has(e)?null:o.pdfPage?.getJSActions();r===i.#a&&(yield i.#c?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:e,actions:l}))})();s.set(e,a)})()}#p(e){var t=this;return N(function*(){const i=t.#a,r=t._visitedPages;if(!t.#e||t._pageOpenPending.has(e))return;const s=r.get(e);s&&(r.set(e,null),yield s,i===t.#a&&(yield t.#c?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:e})))})()}#f(){if(this.#t=Promise.withResolvers(),this.#c)throw new Error("#initScripting: Scripting already exists.");return this.#s.createScripting()}#g(){var e=this;return N(function*(){if(!e.#c)return e.#a=null,void e.#t?.resolve();e.#e&&(yield Promise.race([e.#e.promise,new Promise(t=>{setTimeout(t,1e3)})]).catch(()=>{}),e.#e=null),e.#a=null;try{yield e.#c.destroySandbox()}catch{}e.#u?.reject(new Error("Scripting destroyed.")),e.#u=null,e.#i?.abort(),e.#i=null,e._pageOpenPending.clear(),e._visitedPages.clear(),e.#c=null,e.#d=!1,e.#t?.resolve()})()}}class DG extends AG{constructor(e){e.externalServices||window.addEventListener("updatefromsandbox",t=>{e.eventBus.dispatch("updatefromsandbox",{source:window,detail:t.detail})}),e.externalServices||={createScripting:()=>new EG(e.sandboxBundleSrc)},e.docProperties||=t=>function CG(n){return Hm.apply(this,arguments)}(t),super(e)}}class MG{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1,Object.defineProperty(this,"hasViewer",{value:()=>!!this.pdfViewer})}setViewer(e){this.pdfViewer=e}setThumbnailViewer(e){this.pdfThumbnailViewer=e}isHighestPriority(e){return this.highestPriorityPage===e.renderingId}renderHighestPriority(e){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(e)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(e,t,i,r=!1){const s=e.views,o=s.length;if(0===o)return null;for(let d=0;d<o;d++){const h=s[d].view;if(!this.isViewFinished(h))return h}const a=e.first.id,l=e.last.id;if(l-a+1>o){const d=e.ids;for(let h=1,f=l-a;h<f;h++){const p=i?a+h:l-h;if(d.has(p))continue;const g=t[p-1];if(!this.isViewFinished(g))return g}}let c=i?l:a-2,u=t[c];return u&&!this.isViewFinished(u)||r&&(c+=i?1:-1,u=t[c],u&&!this.isViewFinished(u))?u:null}isViewFinished(e){return e.renderingState===ze.FINISHED}renderView(e){switch(e.renderingState){case ze.FINISHED:return!1;case ze.PAUSED:this.highestPriorityPage=e.renderingId,e.resume();break;case ze.RUNNING:this.highestPriorityPage=e.renderingId;break;case ze.INITIAL:this.highestPriorityPage=e.renderingId,e.draw().finally(()=>{this.renderHighestPriority()}).catch(t=>{t instanceof Im||console.error(`renderView: "${t}"`)})}return!0}}function dx(n){return Object.values(mn).includes(n)&&n!==mn.DISABLE}class xG{#e=new Set;#t=0;constructor(e){this.#t=e}push(e){const t=this.#e;t.has(e)&&t.delete(e),t.add(e),t.size>this.#t&&this.#n()}resize(e,t=null){this.#t=e;const i=this.#e;if(t){const r=i.size;let s=1;for(const o of i)if(t.has(o.id)&&(i.delete(o),i.add(o)),++s>r)break}for(;i.size>this.#t;)this.#n()}has(e){return this.#e.has(e)}[Symbol.iterator](){return this.#e.keys()}#n(){const e=this.#e.keys().next().value;e?.destroy(),this.#e.delete(e)}}class hx{#e=null;#t=null;#n=null;#i=mn.NONE;#r=null;#s=ki.ENABLE_FORMS;#a=null;#l=!1;#d=!1;#c=!1;#u=!1;#o=!1;#h=null;#p=null;#f=null;#g=null;#v=!1;#m=null;#y=!1;#_=0;#C=new ResizeObserver(this.#F.bind(this));#w=null;#A=null;#T=1;constructor(e){const t="4.6.82";if(FM!==t)throw new Error(`The API version "${FM}" does not match the Viewer version "${t}".`);if(this.container=e.container,this.viewer=e.viewer||e.container.firstElementChild,"DIV"!==this.container?.tagName||"DIV"!==this.viewer?.tagName)throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.#C.observe(this.container),this.eventBus=e.eventBus,this.linkService=e.linkService||new xm,this.downloadManager=e.downloadManager||null,this.findController=e.findController||null,this.#t=e.altTextManager||null,this.findController&&(this.findController.onIsPageVisible=r=>this._getVisiblePages().ids.has(r)),this._scriptingManager=e.scriptingManager||null,this.#T=e.textLayerMode??1,this.#s=e.annotationMode??ki.ENABLE_FORMS,this.#i=e.annotationEditorMode??mn.NONE,this.#n=e.annotationEditorHighlightColors||null,this.#d=!0===e.enableHighlightFloatingButton,this.#u=!0===e.enableUpdatedAddImage,this.#o=!0===e.enableNewAltTextWhenAddingImage,this.imageResourcesPath=e.imageResourcesPath||"",this.enablePrintAutoRotate=e.enablePrintAutoRotate||!1,this.removePageBorders=e.removePageBorders||!1,this.maxCanvasPixels=e.maxCanvasPixels,this.l10n=e.l10n,this.l10n||=new Vi,this.#c=e.enablePermissions||!1,this.pageColors=e.pageColors||null,this.#p=e.mlManager||null,this.#l=e.enableHWA||!1,this.defaultRenderingQueue=!e.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new MG,this.renderingQueue.setViewer(this)):this.renderingQueue=e.renderingQueue;const{abortSignal:i}=e;i?.addEventListener("abort",()=>{this.#C.disconnect(),this.#C=null},{once:!0}),this.scroll=function x4(n,e,t){const i=function(o){s||(s=window.requestAnimationFrame(function(){s=null;const l=n.scrollLeft,c=r.lastX;l!==c&&(r.right=l>c),r.lastX=l;const u=n.scrollTop,d=r.lastY;u!==d&&(r.down=u>d),r.lastY=u,e(r)}))},r={right:!0,down:!0,lastX:n.scrollLeft,lastY:n.scrollTop,_eventHandler:i};let s=null;return n.addEventListener("scroll",i,{useCapture:!0,signal:t}),t?.addEventListener("abort",()=>window.cancelAnimationFrame(s),{once:!0}),r}(this.container,this._scrollUpdate.bind(this),i),this.presentationModeState=0,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.#k(),this.eventBus._on("thumbnailrendered",({pageNumber:r,pdfPage:s})=>{this.#e.has(this._pages[r-1])||s?.cleanup()}),e.l10n||this.l10n.translate(this.container)}get pagesCount(){return this._pages.length}getPageView(e){return this._pages[e]}getCachedPageViews(){return new Set(this.#e)}get pageViewsReady(){return this._pages.every(e=>e?.pdfPage)}get renderForms(){return this.#s===ki.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(e){if(!Number.isInteger(e))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(e,!0)||console.error(`currentPageNumber: "${e}" is not a valid page.`))}_setCurrentPageNumber(e,t=!1){if(this._currentPageNumber===e)return t&&this.#R(),!0;if(!(0<e&&e<=this.pagesCount))return!1;const i=this._currentPageNumber;return this._currentPageNumber=e,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:e,pageLabel:this._pageLabels?.[e-1]??null,previous:i}),t&&this.#R(),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(e){if(!this.pdfDocument)return;let t=0|e;if(this._pageLabels){const i=this._pageLabels.indexOf(e);i>=0&&(t=i+1)}this._setCurrentPageNumber(t,!0)||console.error(`currentPageLabel: "${e}" is not a valid page.`)}get currentScale(){return 0!==this._currentScale?this._currentScale:1}set currentScale(e){if(isNaN(e))throw new Error("Invalid numeric scale.");this.pdfDocument&&this.#I(e,{noScroll:!1})}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(e){this.pdfDocument&&this.#I(e,{noScroll:!1})}get pagesRotation(){return this._pagesRotation}set pagesRotation(e){if(!xM(e))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((e%=360)<0&&(e+=360),this._pagesRotation===e))return;this._pagesRotation=e;const t=this._currentPageNumber;this.refresh(!0,{rotation:e}),this._currentScaleValue&&this.#I(this._currentScaleValue,{noScroll:!0}),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:e,pageNumber:t}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}get _layerProperties(){const e=this;return id(this,"_layerProperties",{get annotationEditorUIManager(){return e.#r},get annotationStorage(){return e.pdfDocument?.annotationStorage},get downloadManager(){return e.downloadManager},get enableScripting(){return!!e._scriptingManager},get fieldObjectsPromise(){return e.pdfDocument?.getFieldObjects()},get findController(){return e.findController},get hasJSActionsPromise(){return e.pdfDocument?.hasJSActions()},get linkService(){return e.linkService}})}#M(e){const t={annotationEditorMode:this.#i,annotationMode:this.#s,textLayerMode:this.#T};return e&&(!e.includes(nd.COPY)&&1===this.#T&&(t.textLayerMode=2),e.includes(nd.MODIFY_CONTENTS)||(t.annotationEditorMode=mn.DISABLE),!e.includes(nd.MODIFY_ANNOTATIONS)&&!e.includes(nd.FILL_INTERACTIVE_FORMS)&&this.#s===ki.ENABLE_FORMS&&(t.annotationMode=ki.ENABLE)),t}#E(e){var t=this;return N(function*(){if("hidden"===document.visibilityState||!t.container.offsetParent||0===t._getVisiblePages().views.length)return;const i=Promise.withResolvers();function r(){"hidden"===document.visibilityState&&i.resolve()}document.addEventListener("visibilitychange",r,{signal:e}),yield Promise.race([t._onePageRenderedCapability.promise,i.promise]),document.removeEventListener("visibilitychange",r)})()}getAllText(){var e=this;return N(function*(){const t=[],i=[];for(let r=1,s=e.pdfDocument.numPages;r<=s;++r){if(e.#y)return null;i.length=0;const o=yield e.pdfDocument.getPage(r),{items:a}=yield o.getTextContent();for(const l of a)l.str&&i.push(l.str),l.hasEOL&&i.push("\n");t.push(Zu(i.join("")))}return t.join("\n")})()}#x(e,t){const i=document.getSelection(),{focusNode:r,anchorNode:s}=i;if(s&&r&&i.containsNode(this.#m)){if(this.#v||2===e)return t.preventDefault(),void t.stopPropagation();this.#v=!0;const{classList:o}=this.viewer;o.add("copyAll");const a=new AbortController;window.addEventListener("keydown",l=>this.#y="Escape"===l.key,{signal:a.signal}),this.getAllText().then(function(){var l=N(function*(c){null!==c&&(yield navigator.clipboard.writeText(c))});return function(c){return l.apply(this,arguments)}}()).catch(l=>{console.warn(`Something goes wrong when extracting the text: ${l.message}`)}).finally(()=>{this.#v=!1,this.#y=!1,a.abort(),o.remove("copyAll")}),t.preventDefault(),t.stopPropagation()}}setDocument(e){var t=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController?.setDocument(null),this._scriptingManager?.setDocument(null),this.#r?.destroy(),this.#r=null),this.pdfDocument=e,!e)return;const i=e.numPages,r=e.getPage(1),s=e.getOptionalContentConfig({intent:"display"}),o=this.#c?e.getPermissions():Promise.resolve(),{eventBus:a,pageColors:l,viewer:c}=this;this.#h=new AbortController;const{signal:u}=this.#h;if(i>1e4){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const f=this._scrollMode=fe.PAGE;a.dispatch("scrollmodechanged",{source:this,mode:f})}this._pagesCapability.promise.then(()=>{a.dispatch("pagesloaded",{source:this,pagesCount:i})},()=>{}),a._on("pagerender",f=>{const p=this._pages[f.pageNumber-1];p&&this.#e.push(p)},{signal:u});const h=f=>{f.cssTransform||(this._onePageRenderedCapability.resolve({timestamp:f.timestamp}),a._off("pagerendered",h))};a._on("pagerendered",h,{signal:u}),Promise.all([r,o]).then(([f,p])=>{if(e!==this.pdfDocument)return;this._firstPageCapability.resolve(f),this._optionalContentConfigPromise=s;const{annotationEditorMode:g,annotationMode:v,textLayerMode:m}=this.#M(p);if(0!==m){const w=this.#m=document.createElement("div");w.id="hiddenCopyElement",c.before(w)}if("function"==typeof AbortSignal.any&&g!==mn.DISABLE){const w=g;e.isPureXfa?console.warn("Warning: XFA-editing is not implemented."):dx(w)?(this.#r=new c5(this.container,c,this.#t,a,e,l,this.#n,this.#d,this.#u,this.#o,this.#p),a.dispatch("annotationeditoruimanager",{source:this,uiManager:this.#r}),w!==mn.NONE&&(w===mn.STAMP&&this.#p?.loadModel("altText"),this.#r.updateMode(w))):console.error(`Invalid AnnotationEditor mode: ${w}`)}const y=this._scrollMode===fe.PAGE?null:c,b=this.currentScale,_=f.getViewport({scale:b*Li.PDF_TO_CSS_UNITS});c.style.setProperty("--scale-factor",_.scale),("CanvasText"===l?.foreground||"Canvas"===l?.background)&&(c.style.setProperty("--hcm-highlight-filter",e.filterFactory.addHighlightHCMFilter("highlight","CanvasText","Canvas","HighlightText","Highlight")),c.style.setProperty("--hcm-highlight-selected-filter",e.filterFactory.addHighlightHCMFilter("highlight_selected","CanvasText","Canvas","HighlightText","ButtonText")));for(let w=1;w<=i;++w){const D=new cx({container:y,eventBus:a,id:w,scale:b,defaultViewport:_.clone(),optionalContentConfigPromise:s,renderingQueue:this.renderingQueue,textLayerMode:m,annotationMode:v,imageResourcesPath:this.imageResourcesPath,maxCanvasPixels:this.maxCanvasPixels,pageColors:l,l10n:this.l10n,layerProperties:this._layerProperties,enableHWA:this.#l});this._pages.push(D)}this._pages[0]?.setPdfPage(f),this._scrollMode===fe.PAGE?this.#S():this._spreadMode!==Tt.NONE&&this._updateSpreadMode(),this.#E(u).then(N(function*(){if(e!==t.pdfDocument)return;if(t.findController?.setDocument(e),t._scriptingManager?.setDocument(e),t.#m&&document.addEventListener("copy",t.#x.bind(t,m),{signal:u}),t.#r&&a.dispatch("annotationeditormodechanged",{source:t,mode:t.#i}),e.loadingParams.disableAutoFetch||i>5e3)return void t._pagesCapability.resolve();let w=i-1;if(w<=0)t._pagesCapability.resolve();else for(let D=2;D<=i;++D){const S=e.getPage(D).then(T=>{const E=t._pages[D-1];E.pdfPage||E.setPdfPage(T),0==--w&&t._pagesCapability.resolve()},T=>{console.error(`Unable to get page ${D} to initialize viewer`,T),0==--w&&t._pagesCapability.resolve()});D%250==0&&(yield S)}})),a.dispatch("pagesinit",{source:this}),e.getMetadata().then(({info:w})=>{e===this.pdfDocument&&w.Language&&(c.lang=w.Language)}),this.defaultRenderingQueue&&this.update()}).catch(f=>{console.error("Unable to initialize viewer",f),this._pagesCapability.reject(f)})}setPageLabels(e){if(this.pdfDocument){e?Array.isArray(e)&&this.pdfDocument.numPages===e.length?this._pageLabels=e:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let t=0,i=this._pages.length;t<i;t++)this._pages[t].setPageLabel(this._pageLabels?.[t]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=0,this._currentScaleValue=null,this._pageLabels=null,this.#e=new xG(10),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=Promise.withResolvers(),this._onePageRenderedCapability=Promise.withResolvers(),this._pagesCapability=Promise.withResolvers(),this._scrollMode=fe.VERTICAL,this._previousScrollMode=fe.UNKNOWN,this._spreadMode=Tt.NONE,this.#w={previousPageNumber:1,scrollDown:!0,pages:[]},this.#h?.abort(),this.#h=null,this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.#m?.remove(),this.#m=null,this.#V()}#S(){if(this._scrollMode!==fe.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const e=this._currentPageNumber,t=this.#w,i=this.viewer;if(i.textContent="",t.pages.length=0,this._spreadMode!==Tt.NONE||this.isInPresentationMode){const r=new Set,s=this._spreadMode-1;-1===s?r.add(e-1):e%2!==s?(r.add(e-1),r.add(e)):(r.add(e-2),r.add(e-1));const o=document.createElement("div");if(o.className="spread",this.isInPresentationMode){const a=document.createElement("div");a.className="dummyPage",o.append(a)}for(const a of r){const l=this._pages[a];l&&(o.append(l.div),t.pages.push(l))}i.append(o)}else{const r=this._pages[e-1];i.append(r.div),t.pages.push(r)}t.scrollDown=e>=t.previousPageNumber,t.previousPageNumber=e}_scrollUpdate(){0!==this.pagesCount&&this.update()}#P(e,t=null){const{div:i,id:r}=e;if(this._currentPageNumber!==r&&this._setCurrentPageNumber(r),this._scrollMode===fe.PAGE&&(this.#S(),this.update()),!t&&!this.isInPresentationMode){const s=i.offsetLeft+i.clientLeft,o=s+i.clientWidth,{scrollLeft:a,clientWidth:l}=this.container;(this._scrollMode===fe.HORIZONTAL||s<a||o>a+l)&&(t={left:0,top:0})}DM(i,t),!this._currentScaleValue&&this._location&&(this._location=null)}#N(e){return e===this._currentScale||Math.abs(e-this._currentScale)<1e-15}#D(e,t,{noScroll:i=!1,preset:r=!1,drawingDelay:s=-1,origin:o=null}){if(this._currentScaleValue=t.toString(),this.#N(e))return void(r&&this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:t}));this.viewer.style.setProperty("--scale-factor",e*Li.PDF_TO_CSS_UNITS);const a=s>=0&&s<1e3;this.refresh(!0,{scale:e,drawingDelay:a?s:-1}),a&&(this.#A=setTimeout(()=>{this.#A=null,this.refresh()},s));const l=this._currentScale;if(this._currentScale=e,!i){let u,c=this._currentPageNumber;if(this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(c=this._location.pageNumber,u=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:c,destArray:u,allowNegativeOffset:!0}),Array.isArray(o)){const d=e/l-1,[h,f]=this.containerTopLeft;this.container.scrollLeft+=(o[0]-f)*d,this.container.scrollTop+=(o[1]-h)*d}}this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:r?t:void 0}),this.defaultRenderingQueue&&this.update()}get#b(){return this._spreadMode!==Tt.NONE&&this._scrollMode!==fe.HORIZONTAL?2:1}#I(e,t){let i=parseFloat(e);if(i>0)t.preset=!1,this.#D(i,e,t);else{const r=this._pages[this._currentPageNumber-1];if(!r)return;let s=40,o=5;this.isInPresentationMode?(s=o=4,this._spreadMode!==Tt.NONE&&(s*=2)):this.removePageBorders?s=o=0:this._scrollMode===fe.HORIZONTAL&&([s,o]=[o,s]);const a=(this.container.clientWidth-s)/r.width*r.scale/this.#b,l=(this.container.clientHeight-o)/r.height*r.scale;switch(e){case"page-actual":i=1;break;case"page-width":i=a;break;case"page-height":i=l;break;case"page-fit":i=Math.min(a,l);break;case"auto":const c=IM(r)?a:Math.min(l,a);i=Math.min(1.25,c);break;default:return void console.error(`#setScale: "${e}" is an unknown zoom value.`)}t.preset=!0,this.#D(i,e,t)}}#R(){const e=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this.#I(this._currentScaleValue,{noScroll:!0}),this.#P(e)}pageLabelToPageNumber(e){if(!this._pageLabels)return null;const t=this._pageLabels.indexOf(e);return t<0?null:t+1}scrollPageIntoView({pageNumber:e,destArray:t=null,allowNegativeOffset:i=!1,ignoreDestinationZoom:r=!1}){if(!this.pdfDocument)return;const s=Number.isInteger(e)&&this._pages[e-1];if(!s)return void console.error(`scrollPageIntoView: "${e}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!t)return void this._setCurrentPageNumber(e,!0);let u,d,o=0,a=0,l=0,c=0;const h=s.rotation%180!=0,f=(h?s.height:s.width)/s.scale/Li.PDF_TO_CSS_UNITS,p=(h?s.width:s.height)/s.scale/Li.PDF_TO_CSS_UNITS;let g=0;switch(t[1].name){case"XYZ":o=t[2],a=t[3],g=t[4],o=null!==o?o:0,a=null!==a?a:p;break;case"Fit":case"FitB":g="page-fit";break;case"FitH":case"FitBH":a=t[2],g="page-width",null===a&&this._location?(o=this._location.left,a=this._location.top):("number"!=typeof a||a<0)&&(a=p);break;case"FitV":case"FitBV":o=t[2],l=f,c=p,g="page-height";break;case"FitR":o=t[2],a=t[3],l=t[4]-o,c=t[5]-a;let b=40,_=5;this.removePageBorders&&(b=_=0),u=(this.container.clientWidth-b)/l/Li.PDF_TO_CSS_UNITS,d=(this.container.clientHeight-_)/c/Li.PDF_TO_CSS_UNITS,g=Math.min(Math.abs(u),Math.abs(d));break;default:return void console.error(`scrollPageIntoView: "${t[1].name}" is not a valid destination type.`)}if(r||(g&&g!==this._currentScale?this.currentScaleValue=g:0===this._currentScale&&(this.currentScaleValue="auto")),"page-fit"===g&&!t[4])return void this.#P(s);const v=[s.viewport.convertToViewportPoint(o,a),s.viewport.convertToViewportPoint(o+l,a+c)];let m=Math.min(v[0][0],v[1][0]),y=Math.min(v[0][1],v[1][1]);i||(m=Math.max(m,0),y=Math.max(y,0)),this.#P(s,{left:m,top:y})}_updateLocation(e){const t=this._currentScale,i=this._currentScaleValue,r=parseFloat(i)===t?Math.round(1e4*t)/100:i,s=e.id,a=this.container,l=this._pages[s-1].getPagePoint(a.scrollLeft-e.x,a.scrollTop-e.y),c=Math.round(l[0]),u=Math.round(l[1]);let d=`#page=${s}`;this.isInPresentationMode||(d+=`&zoom=${r},${c},${u}`),this._location={pageNumber:s,scale:r,top:u,left:c,rotation:this._pagesRotation,pdfOpenParams:d}}update(){const e=this._getVisiblePages(),t=e.views,i=t.length;if(0===i)return;const r=Math.max(10,2*i+1);this.#e.resize(r,e.ids),this.renderingQueue.renderHighestPriority(e);const s=this._spreadMode===Tt.NONE&&(this._scrollMode===fe.PAGE||this._scrollMode===fe.VERTICAL),o=this._currentPageNumber;let a=!1;for(const l of t){if(l.percent<100)break;if(l.id===o&&s){a=!0;break}}this._setCurrentPageNumber(a?o:t[0].id),this._updateLocation(e.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}#L(){const e=this._getVisiblePages(),t=[],{ids:i,views:r}=e;for(const s of r){const{view:o}=s;o.hasEditableAnnotations()?t.push(s):i.delete(o.id)}return 0===t.length?null:(this.renderingQueue.renderHighestPriority({first:t[0],last:t.at(-1),views:t,ids:i}),i)}containsElement(e){return this.container.contains(e)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return 3===this.presentationModeState}get isChangingPresentationMode(){return 2===this.presentationModeState}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const e=this._scrollMode===fe.PAGE?this.#w.pages:this._pages,t=this._scrollMode===fe.HORIZONTAL;return function T4({scrollEl:n,views:e,sortByVisibility:t=!1,horizontal:i=!1,rtl:r=!1}){const s=n.scrollTop,o=s+n.clientHeight,a=n.scrollLeft,l=a+n.clientWidth,d=[],h=new Set,f=e.length;let p=il(e,i?function u(y){const b=y.div,_=b.offsetLeft+b.clientLeft;return r?_<l:_+b.clientWidth>a}:function c(y){const b=y.div;return b.offsetTop+b.clientTop+b.clientHeight>s});p>0&&p<f&&!i&&(p=function I4(n,e,t){if(n<2)return n;let i=e[n].div,r=i.offsetTop+i.clientTop;r>=t&&(i=e[n-1].div,r=i.offsetTop+i.clientTop);for(let s=n-2;s>=0&&(i=e[s].div,!(i.offsetTop+i.clientTop+i.clientHeight<=r));--s)n=s;return n}(p,e,s));let g=i?l:-1;for(let y=p;y<f;y++){const b=e[y],_=b.div,w=_.offsetLeft+_.clientLeft,D=_.offsetTop+_.clientTop,S=_.clientWidth,T=_.clientHeight,E=w+S,R=D+T;if(-1===g)R>=o&&(g=R);else if((i?w:D)>g)break;if(R<=s||D>=o||E<=a||w>=l)continue;const L=Math.max(0,s-D)+Math.max(0,R-o),_e=(S-(Math.max(0,a-w)+Math.max(0,E-l)))/S;d.push({id:b.id,x:w,y:D,view:b,percent:(T-L)/T*_e*100|0,widthPercent:100*_e|0}),h.add(b.id)}const v=d[0],m=d.at(-1);return t&&d.sort(function(y,b){const _=y.percent-b.percent;return Math.abs(_)>.001?-_:y.id-b.id}),{first:v,last:m,views:d,ids:h}}({scrollEl:this.container,views:e,sortByVisibility:!0,horizontal:t,rtl:t&&this._isContainerRtl})}cleanup(){for(const e of this._pages)e.renderingState!==ze.FINISHED&&e.reset()}_cancelRendering(){for(const e of this._pages)e.cancelRendering()}#H(e){var t=this;return N(function*(){if(e.pdfPage)return e.pdfPage;try{const i=yield t.pdfDocument.getPage(e.id);return e.pdfPage||e.setPdfPage(i),i}catch(i){return console.error("Unable to get page for page view",i),null}})()}#j(e){if(1===e.first?.id)return!0;if(e.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case fe.PAGE:return this.#w.scrollDown;case fe.HORIZONTAL:return this.scroll.right}return this.scroll.down}forceRendering(e){const t=e||this._getVisiblePages(),i=this.#j(t),s=this.renderingQueue.getHighestPriority(t,this._pages,i,this._spreadMode!==Tt.NONE&&this._scrollMode!==fe.HORIZONTAL);return!!s&&(this.#H(s).then(()=>{this.renderingQueue.renderView(s)}),!0)}get hasEqualPageSizes(){const e=this._pages[0];for(let t=1,i=this._pages.length;t<i;++t){const r=this._pages[t];if(r.width!==e.width||r.height!==e.height)return!1}return!0}getPagesOverview(){let e;return this._pages.map(t=>{const i=t.pdfPage.getViewport({scale:1}),r=IM(i);if(void 0===e)e=r;else if(this.enablePrintAutoRotate&&r!==e)return{width:i.height,height:i.width,rotation:(i.rotation-90)%360};return{width:i.width,height:i.height,rotation:i.rotation}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:(console.error("optionalContentConfigPromise: Not initialized yet."),this.pdfDocument.getOptionalContentConfig({intent:"display"})):Promise.resolve(null)}set optionalContentConfigPromise(e){if(!(e instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${e}`);this.pdfDocument&&this._optionalContentConfigPromise&&(this._optionalContentConfigPromise=e,this.refresh(!1,{optionalContentConfigPromise:e}),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:e}))}get scrollMode(){return this._scrollMode}set scrollMode(e){if(this._scrollMode!==e){if(!function R4(n){return Number.isInteger(n)&&Object.values(fe).includes(n)&&n!==fe.UNKNOWN}(e))throw new Error(`Invalid scroll mode: ${e}`);this.pagesCount>1e4||(this._previousScrollMode=this._scrollMode,this._scrollMode=e,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:e}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(e=null){const t=this._scrollMode,i=this.viewer;i.classList.toggle("scrollHorizontal",t===fe.HORIZONTAL),i.classList.toggle("scrollWrapped",t===fe.WRAPPED),this.pdfDocument&&e&&(t===fe.PAGE?this.#S():this._previousScrollMode===fe.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this.#I(this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(e,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(e){if(this._spreadMode!==e){if(!function O4(n){return Number.isInteger(n)&&Object.values(Tt).includes(n)&&n!==Tt.UNKNOWN}(e))throw new Error(`Invalid spread mode: ${e}`);this._spreadMode=e,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:e}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(e=null){if(!this.pdfDocument)return;const t=this.viewer,i=this._pages;if(this._scrollMode===fe.PAGE)this.#S();else if(t.textContent="",this._spreadMode===Tt.NONE)for(const r of this._pages)t.append(r.div);else{const r=this._spreadMode-1;let s=null;for(let o=0,a=i.length;o<a;++o)null===s?(s=document.createElement("div"),s.className="spread",t.append(s)):o%2===r&&(s=s.cloneNode(!1),t.append(s)),s.append(i[o].div)}e&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this.#I(this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(e,!0),this.update())}_getPageAdvance(e,t=!1){switch(this._scrollMode){case fe.WRAPPED:{const{views:i}=this._getVisiblePages(),r=new Map;for(const{id:s,y:o,percent:a,widthPercent:l}of i){if(0===a||l<100)continue;let c=r.get(o);c||r.set(o,c||=[]),c.push(s)}for(const s of r.values()){const o=s.indexOf(e);if(-1===o)continue;const a=s.length;if(1===a)break;if(t)for(let l=o-1,c=0;l>=c;l--){const d=s[l+1]-1;if(s[l]<d)return e-d}else for(let l=o+1,c=a;l<c;l++){const d=s[l-1]+1;if(s[l]>d)return d-e}if(t){const l=s[0];if(l<e)return e-l+1}else{const l=s[a-1];if(l>e)return l-e+1}break}break}case fe.HORIZONTAL:break;case fe.PAGE:case fe.VERTICAL:{if(this._spreadMode===Tt.NONE)break;const i=this._spreadMode-1;if(t&&e%2!==i)break;if(!t&&e%2===i)break;const{views:r}=this._getVisiblePages(),s=t?e-1:e+1;for(const{id:o,percent:a,widthPercent:l}of r)if(o===s){if(a>0&&100===l)return 2;break}break}}return 1}nextPage(){const e=this._currentPageNumber,t=this.pagesCount;if(e>=t)return!1;const i=this._getPageAdvance(e,!1)||1;return this.currentPageNumber=Math.min(e+i,t),!0}previousPage(){const e=this._currentPageNumber;if(e<=1)return!1;const t=this._getPageAdvance(e,!0)||1;return this.currentPageNumber=Math.max(e-t,1),!0}updateScale({drawingDelay:e,scaleFactor:t=null,steps:i=null,origin:r}){if(null===i&&null===t)throw new Error("Invalid updateScale options: either `steps` or `scaleFactor` must be provided.");if(!this.pdfDocument)return;let s=this._currentScale;if(t>0&&1!==t)s=Math.round(s*t*100)/100;else if(i){const o=i>0?1.1:1/1.1,a=i>0?Math.ceil:Math.floor;i=Math.abs(i);do{s=a(10*(s*o).toFixed(2))/10}while(--i>0)}s=Math.max(.1,Math.min(10,s)),this.#I(s,{noScroll:!1,drawingDelay:e,origin:r})}increaseScale(e={}){this.updateScale({...e,steps:e.steps??1})}decreaseScale(e={}){this.updateScale({...e,steps:-(e.steps??1)})}#k(e=this.container.clientHeight){e!==this.#_&&(this.#_=e,N4.setProperty("--viewer-container-height",`${e}px`))}#F(e){for(const t of e)if(t.target===this.container){this.#k(Math.floor(t.borderBoxSize[0].blockSize)),this.#a=null;break}}get containerTopLeft(){return this.#a||=[this.container.offsetTop,this.container.offsetLeft]}#V(){this.#f&&(this.eventBus._off("pagerendered",this.#f),this.#f=null),null!==this.#g&&(clearTimeout(this.#g),this.#g=null)}get annotationEditorMode(){return this.#r?this.#i:mn.DISABLE}set annotationEditorMode({mode:e,editId:t=null,isFromKeyboard:i=!1}){if(!this.#r)throw new Error("The AnnotationEditor is not enabled.");if(this.#i===e)return;if(!dx(e))throw new Error(`Invalid AnnotationEditor mode: ${e}`);if(!this.pdfDocument)return;e===mn.STAMP&&this.#p?.loadModel("altText");const{eventBus:r}=this,s=()=>{this.#V(),this.#i=e,this.#r.updateMode(e,t,i),r.dispatch("annotationeditormodechanged",{source:this,mode:e})};if(e===mn.NONE||this.#i===mn.NONE){const o=e!==mn.NONE;o||this.pdfDocument.annotationStorage.resetModifiedIds();for(const l of this._pages)l.toggleEditingMode(o);const a=this.#L();if(o&&a){this.#V(),this.#f=({pageNumber:c})=>{a.delete(c),0===a.size&&(this.#g=setTimeout(s,0))};const{signal:l}=this.#h;return void r._on("pagerendered",this.#f,{signal:l})}}s()}refresh(e=!1,t=Object.create(null)){if(this.pdfDocument){for(const i of this._pages)i.update(t);null!==this.#A&&(clearTimeout(this.#A),this.#A=null),e||this.update()}}}class IG extends hx{_resetView(){super._resetView(),this._scrollMode=fe.PAGE,this._spreadMode=Tt.NONE}set scrollMode(e){}_updateScrollMode(){}set spreadMode(e){}_updateSpreadMode(){}}var TG=Be.AnnotationLayerBuilder,PG=Be.DownloadManager,RG=Be.EventBus,OG=Be.FindState,fx=Be.GenericL10n,co=Be.LinkTarget,px=Be.PDFFindController,NG=Be.PDFHistory,gx=Be.PDFLinkService,kG=Be.PDFPageView,LG=Be.PDFScriptingManager,mx=Be.PDFSinglePageViewer,vx=Be.PDFViewer,FG=Be.ProgressBar,VG=Be.RenderingStates,jG=Be.ScrollMode,BG=Be.SimpleLinkService,HG=Be.SpreadMode,UG=Be.StructTreeLayerBuilder,$G=Be.TextLayerBuilder,zG=Be.XfaLayerBuilder,GG=Be.parseQueryString;const WG=["pdfViewerContainer"];function Um(n,e,t){n[e]=t}function ll(){return typeof window>"u"}ll()||Um(Bi,"verbosity",mM.INFOS),typeof Promise.withResolvers>"u"&&window&&(window.Promise.withResolvers=()=>{let n,e;return{promise:new Promise((i,r)=>{n=i,e=r}),resolve:n,reject:e}});var $m=function(n){return n[n.DISABLED=0]="DISABLED",n[n.ENABLED=1]="ENABLED",n[n.ENHANCED=2]="ENHANCED",n}($m||{});let KG=(()=>{class n{element;ngZone;static CSS_UNITS=96/72;static BORDER_WIDTH=9;pdfViewerContainer;eventBus;pdfLinkService;pdfFindController;pdfViewer;isVisible=!1;_cMapsUrl=typeof Bi<"u"?`https://unpkg.com/pdfjs-dist@${Ku}/cmaps/`:null;_imageResourcesPath=typeof Bi<"u"?`https://unpkg.com/pdfjs-dist@${Ku}/web/images/`:void 0;_renderText=!0;_renderTextMode=$m.ENABLED;_stickToPage=!1;_originalSize=!0;_pdf;_page=1;_zoom=1;_zoomScale="page-width";_rotation=0;_showAll=!0;_canAutoResize=!0;_fitToPage=!1;_externalLinkTarget="blank";_showBorders=!1;lastLoaded;_latestScrolledPage;pageScrollTimeout=null;isInitialized=!1;loadingTask;destroy$=new vn;afterLoadComplete=new Ce;pageRendered=new Ce;pageInitialized=new Ce;textLayerRendered=new Ce;onError=new Ce;onProgress=new Ce;pageChange=new Ce(!0);src;set cMapsUrl(t){this._cMapsUrl=t}set page(t){const i=t=parseInt(t,10)||1;this._pdf&&(t=this.getValidPageNumber(t)),this._page=t,i!==t&&this.pageChange.emit(t)}set renderText(t){this._renderText=t}set renderTextMode(t){this._renderTextMode=t}set originalSize(t){this._originalSize=t}set showAll(t){this._showAll=t}set stickToPage(t){this._stickToPage=t}set zoom(t){t<=0||(this._zoom=t)}get zoom(){return this._zoom}set zoomScale(t){this._zoomScale=t}get zoomScale(){return this._zoomScale}set rotation(t){"number"==typeof t&&t%90==0?this._rotation=t:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(t){this._externalLinkTarget=t}set autoresize(t){this._canAutoResize=!!t}set fitToPage(t){this._fitToPage=!!t}set showBorders(t){this._showBorders=!!t}static getLinkTarget(t){switch(t){case"blank":return co.BLANK;case"none":return co.NONE;case"self":return co.SELF;case"parent":return co.PARENT;case"top":return co.TOP}return null}constructor(t,i){if(this.element=t,this.ngZone=i,ll())return;let r;const s=Ku;r=window[`pdfWorkerSrc${s}`]||(window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${s}/legacy/build/pdf.worker.min.mjs`),Um(gM,"workerSrc",r)}ngAfterViewChecked(){if(this.isInitialized)return;const t=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=t?!1===this.isVisible&&null!=t&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}ngOnChanges(t){if(!ll()&&this.isVisible)if("src"in t)this.loadPDF();else if(this._pdf){if(("renderText"in t||"showAll"in t)&&(this.setupViewer(),this.resetPdfDocument()),"page"in t){const{page:i}=t;if(i.currentValue===this._latestScrolledPage)return;this.pdfViewer.scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){Je(this._pdf.getPage(this.pdfViewer.currentPageNumber)).pipe(Ve(this.destroy$)).subscribe({next:t=>{const i=this._rotation+t.rotate,r=t.getViewport({scale:this._zoom,rotation:i}).width*n.CSS_UNITS;let s=this._zoom,o=!0;if(!this._originalSize||this._fitToPage&&r>this.pdfViewerContainer.nativeElement.clientWidth){const a=t.getViewport({scale:1,rotation:i});s=this.getScale(a.width,a.height),o=!this._stickToPage}this.pdfViewer.pagesPromise?.then(()=>{this.pdfViewer.currentScale=s,o&&this.pdfViewer.scrollPageIntoView({pageNumber:t.pageNumber,ignoreDestinationZoom:!0})})}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._latestScrolledPage=0,this._pdf.destroy(),this._pdf=void 0),this.pdfViewer&&this.pdfViewer.setDocument(null),this.pdfLinkService&&this.pdfLinkService.setDocument(null,null),this.pdfFindController&&this.pdfFindController.setDocument(null)}getPDFLinkServiceConfig(){const t=n.getLinkTarget(this._externalLinkTarget);return t?{externalLinkTarget:t}:{}}initEventBus(){this.eventBus=function qG(n,e){const t=new n.EventBus;return function YG(n,e){$e(n,"documentload").pipe(Ve(e)).subscribe(()=>{const t=document.createEvent("CustomEvent");t.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(t)}),$e(n,"pagerendered").pipe(Ve(e)).subscribe(({pageNumber:t,cssTransform:i,source:r})=>{const s=document.createEvent("CustomEvent");s.initCustomEvent("pagerendered",!0,!0,{pageNumber:t,cssTransform:i}),r.div.dispatchEvent(s)}),$e(n,"textlayerrendered").pipe(Ve(e)).subscribe(({pageNumber:t,source:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:t}),i.textLayerDiv?.dispatchEvent(r)}),$e(n,"pagechanging").pipe(Ve(e)).subscribe(({pageNumber:t,source:i})=>{const r=document.createEvent("UIEvents");r.initEvent("pagechanging",!0,!0),r.pageNumber=t,i.container.dispatchEvent(r)}),$e(n,"pagesinit").pipe(Ve(e)).subscribe(({source:t})=>{const i=document.createEvent("CustomEvent");i.initCustomEvent("pagesinit",!0,!0,null),t.container.dispatchEvent(i)}),$e(n,"pagesloaded").pipe(Ve(e)).subscribe(({pagesCount:t,source:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("pagesloaded",!0,!0,{pagesCount:t}),i.container.dispatchEvent(r)}),$e(n,"scalechange").pipe(Ve(e)).subscribe(({scale:t,presetValue:i,source:r})=>{const s=document.createEvent("UIEvents");s.initEvent("scalechange",!0,!0),s.scale=t,s.presetValue=i,r.container.dispatchEvent(s)}),$e(n,"updateviewarea").pipe(Ve(e)).subscribe(({location:t,source:i})=>{const r=document.createEvent("UIEvents");r.initEvent("updateviewarea",!0,!0),r.location=t,i.container.dispatchEvent(r)}),$e(n,"find").pipe(Ve(e)).subscribe(({source:t,type:i,query:r,phraseSearch:s,caseSensitive:o,highlightAll:a,findPrevious:l})=>{if(t===window)return;const c=document.createEvent("CustomEvent");c.initCustomEvent("find"+i,!0,!0,{query:r,phraseSearch:s,caseSensitive:o,highlightAll:a,findPrevious:l}),window.dispatchEvent(c)}),$e(n,"attachmentsloaded").pipe(Ve(e)).subscribe(({attachmentsCount:t,source:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:t}),i.container.dispatchEvent(r)}),$e(n,"sidebarviewchanged").pipe(Ve(e)).subscribe(({view:t,source:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("sidebarviewchanged",!0,!0,{view:t}),i.outerContainer.dispatchEvent(r)}),$e(n,"pagemode").pipe(Ve(e)).subscribe(({mode:t,source:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("pagemode",!0,!0,{mode:t}),i.pdfViewer.container.dispatchEvent(r)}),$e(n,"namedaction").pipe(Ve(e)).subscribe(({action:t,source:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("namedaction",!0,!0,{action:t}),i.pdfViewer.container.dispatchEvent(r)}),$e(n,"presentationmodechanged").pipe(Ve(e)).subscribe(({active:t,switchInProgress:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("presentationmodechanged",!0,!0,{active:t,switchInProgress:i}),window.dispatchEvent(r)}),$e(n,"outlineloaded").pipe(Ve(e)).subscribe(({outlineCount:t,source:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("outlineloaded",!0,!0,{outlineCount:t}),i.container.dispatchEvent(r)})}(t,e),t}(pd,this.destroy$),$e(this.eventBus,"pagerendered").pipe(Ve(this.destroy$)).subscribe(t=>{this.pageRendered.emit(t)}),$e(this.eventBus,"pagesinit").pipe(Ve(this.destroy$)).subscribe(t=>{this.pageInitialized.emit(t)}),$e(this.eventBus,"pagechanging").pipe(Ve(this.destroy$)).subscribe(({pageNumber:t})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=t,this.pageChange.emit(t)},100)}),$e(this.eventBus,"textlayerrendered").pipe(Ve(this.destroy$)).subscribe(t=>{this.textLayerRendered.emit(t)})}initPDFServices(){this.pdfLinkService=new gx({eventBus:this.eventBus,...this.getPDFLinkServiceConfig()}),this.pdfFindController=new px({eventBus:this.eventBus,linkService:this.pdfLinkService})}getPDFOptions(){return{eventBus:this.eventBus,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfLinkService,textLayerMode:this._renderText?this._renderTextMode:$m.DISABLED,findController:this.pdfFindController,l10n:new fx("en"),imageResourcesPath:this._imageResourcesPath,annotationEditorMode:pM.DISABLE}}setupViewer(){this.pdfViewer&&this.pdfViewer.setDocument(null),Um(Bi,"disableTextLayer",!this._renderText),this.initPDFServices(),this.pdfViewer=this._showAll?new vx(this.getPDFOptions()):new mx(this.getPDFOptions()),this.pdfLinkService.setViewer(this.pdfViewer),this.pdfViewer._currentPageNumber=this._page}getValidPageNumber(t){return t<1?1:t>this._pdf.numPages?this._pdf.numPages:t}getDocumentParams(){const t=typeof this.src;if(!this._cMapsUrl)return this.src;const i={cMapUrl:this._cMapsUrl,cMapPacked:!0,enableXfa:!0,isEvalSupported:!1};return"string"===t?i.url=this.src:"object"===t&&(void 0!==this.src.byteLength?i.data=this.src:Object.assign(i,this.src)),i}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.setupViewer(),this.loadingTask=vM(this.getDocumentParams()),this.loadingTask.onProgress=i=>{this.onProgress.emit(i)};const t=this.src;Je(this.loadingTask.promise).pipe(Ve(this.destroy$)).subscribe({next:i=>{this._pdf=i,this.lastLoaded=t,this.afterLoadComplete.emit(i),this.resetPdfDocument(),this.update()},error:i=>{this.lastLoaded=null,this.onError.emit(i)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page),(0!==this._rotation||this.pdfViewer.pagesRotation!==this._rotation)&&this.pdfViewer.firstPagePromise?.then(()=>this.pdfViewer.pagesRotation=this._rotation),this._stickToPage&&setTimeout(()=>{this.pdfViewer.currentPageNumber=this._page}),this.updateSize()}getScale(t,i){const r=this._showBorders?2*n.BORDER_WIDTH:0,s=this.pdfViewerContainer.nativeElement.clientWidth-r,o=this.pdfViewerContainer.nativeElement.clientHeight-r;if(0===o||0===i||0===s||0===t)return 1;let a=1;switch(this._zoomScale){case"page-fit":a=Math.min(o/i,s/t);break;case"page-height":a=o/i;break;default:a=s/t}return this._zoom*a/n.CSS_UNITS}resetPdfDocument(){this.pdfLinkService.setDocument(this._pdf,null),this.pdfFindController.setDocument(this._pdf),this.pdfViewer.setDocument(this._pdf)}initialize(){ll()||!this.isVisible||(this.isInitialized=!0,this.initEventBus(),this.setupViewer())}setupResizeListener(){ll()||this.ngZone.runOutsideAngular(()=>{$e(window,"resize").pipe(function kU(n,e=NU){return Ze((t,i)=>{let r=null,s=null,o=null;const a=()=>{if(r){r.unsubscribe(),r=null;const c=s;s=null,i.next(c)}};function l(){const c=o+n,u=e.now();if(u<c)return r=this.schedule(void 0,c-u),void i.add(r);a()}t.subscribe(qe(i,c=>{s=c,o=e.now(),r||(r=e.schedule(l,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{s=r=null}))})}(100),xi(()=>this._canAutoResize&&!!this._pdf),Ve(this.destroy$)).subscribe(()=>{this.updateSize()})})}static \u0275fac=function(i){return new(i||n)(O(Xt),O(Me))};static \u0275cmp=sn({type:n,selectors:[["pdf-viewer"]],viewQuery:function(i,r){if(1&i&&aC(WG,5),2&i){let s;rp(s=function sp(){return function HL(n,e){return n[Xn].queries[e].queryList}(I(),by())}())&&(r.pdfViewerContainer=s.first)}},inputs:{src:"src",cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[an],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(i,r){1&i&&(C(0,"div",0,1),H(2,"div",2),A())},styles:['.ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--viewer-container-height: 0;--annotation-unfocused-field-background: url("data:image/svg+xml;charset=UTF-8,<svg width=\'1px\' height=\'1px\' xmlns=\'http://www.w3.org/2000/svg\'><rect width=\'100%\' height=\'100%\' style=\'fill:rgba(0, 54, 255, 0.13);\'/></svg>");--xfa-unfocused-field-background: var( --annotation-unfocused-field-background );--page-border-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=) 9 9 repeat;--scale-factor: 1;--focus-outline: solid 2px blue;--hover-outline: dashed 2px blue;--freetext-line-height: 1.35;--freetext-padding: 2px;--editorInk-editing-cursor: pointer}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 8px auto -1px;--page-border: 1px solid CanvasText;--page-border-image: none;--spreadHorizontalWrapped-margin-LR: 3.5px}}@media (forced-colors: active){[_nghost-%COMP%]    {--focus-outline: solid 3px ButtonText;--hover-outline: dashed 3px ButtonText}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;inset:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none;forced-color-adjust:none;transform-origin:0 0}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:rgb(0,0,255)}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;inset:100% 0 0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}@media (forced-colors: active){[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:required, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:required, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:required{outline:1.5px solid selectedItem}}[_nghost-%COMP%]     .annotationLayer{position:absolute;top:0;left:0;pointer-events:none;transform-origin:0 0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial;pointer-events:auto;box-sizing:border-box;transform-origin:0 0}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:rgb(255,255,0);box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:var(--annotation-unfocused-field-background);border:1px solid transparent;box-sizing:border-box;font:calc(9px * var(--scale-factor)) sans-serif;height:100%;margin:0;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:required, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:required, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:required{outline:1.5px solid red}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid rgb(0,0,0)}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:CanvasText;content:"";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;appearance:none}[_nghost-%COMP%]     .annotationLayer .popupTriggerArea{height:100%;width:100%}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;font-size:calc(9px * var(--scale-factor));width:100%;min-width:calc(180px * var(--scale-factor));pointer-events:none}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;max-width:calc(180px * var(--scale-factor));background-color:#ff9;box-shadow:0 calc(2px * var(--scale-factor)) calc(5px * var(--scale-factor)) #888;border-radius:calc(2px * var(--scale-factor));padding:calc(6px * var(--scale-factor));margin-left:calc(5px * var(--scale-factor));cursor:pointer;font:message-box;white-space:normal;word-wrap:break-word;pointer-events:auto}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:calc(9px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:calc(5px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid rgb(51,51,51);margin-top:calc(2px * var(--scale-factor));padding-top:calc(2px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap;font-size:calc(9px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .annotationLayer section svg{position:absolute;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .annotationTextContent{position:absolute;width:100%;height:100%;opacity:0;color:transparent;-webkit-user-select:none;user-select:none;pointer-events:none}[_nghost-%COMP%]     .annotationLayer .annotationTextContent span{width:100%;display:inline-block}@media (forced-colors: active){[_nghost-%COMP%]     .xfaLayer *:required{outline:1.5px solid selectedItem}}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:rgb(0,0,255)}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer *:required{outline:1.5px solid red}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:var(--xfa-unfocused-field-background)}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;appearance:none;text-indent:1px;text-overflow:""}}[_nghost-%COMP%]     [data-editor-rotation="90"]{transform:rotate(90deg)}[_nghost-%COMP%]     [data-editor-rotation="180"]{transform:rotate(180deg)}[_nghost-%COMP%]     [data-editor-rotation="270"]{transform:rotate(270deg)}[_nghost-%COMP%]     .annotationEditorLayer{background:transparent;position:absolute;top:0;left:0;font-size:calc(100px * var(--scale-factor));transform-origin:0 0}[_nghost-%COMP%]     .annotationEditorLayer .selectedEditor{outline:var(--focus-outline);resize:none}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor{position:absolute;background:transparent;border-radius:3px;padding:calc(var(--freetext-padding) * var(--scale-factor));resize:none;width:auto;height:auto;z-index:1;transform-origin:0 0;touch-action:none}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal{background:transparent;border:none;top:0;left:0;overflow:visible;white-space:nowrap;resize:none;font:10px sans-serif;line-height:var(--freetext-line-height)}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .overlay{position:absolute;display:none;background:transparent;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .overlay.enabled{display:block}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal:empty:before{content:attr(default-content);color:gray}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal:focus{outline:none}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.disabled{resize:none}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.disabled.selectedEditor{resize:horizontal}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor:hover:not(.selectedEditor), [_nghost-%COMP%]     .annotationEditorLayer .inkEditor:hover:not(.selectedEditor){outline:var(--hover-outline)}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor{position:absolute;background:transparent;border-radius:3px;overflow:auto;width:100%;height:100%;z-index:1;transform-origin:0 0;cursor:auto}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.editing{resize:none;cursor:var(--editorInk-editing-cursor),pointer}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor .inkEditorCanvas{position:absolute;top:0;left:0;width:100%;height:100%;touch-action:none}[_nghost-%COMP%]     [data-main-rotation="90"]{transform:rotate(90deg) translateY(-100%)}[_nghost-%COMP%]     [data-main-rotation="180"]{transform:rotate(180deg) translate(-100%,-100%)}[_nghost-%COMP%]     [data-main-rotation="270"]{transform:rotate(270deg) translate(-100%)}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);border-image:var(--page-border-image);background-clip:content-box;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0;height:var(--viewer-container-height)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;inset:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}']})}return n})(),XG=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=kn({type:n});static \u0275inj=_n({})}return n})();function ZG(n,e){if(1&n&&(C(0,"option",5),M(1),A()),2&n){const t=e.$implicit;de("value",t),j(1),Sn(" ",t," ")}}function JG(n,e){if(1&n&&(C(0,"li"),M(1),C(2,"a",7),M(3,"Download"),A()()),2&n){const t=e.$implicit;j(1),Sn(" ",t.title," "),j(1),de("href",t.link,En)}}function eW(n,e){if(1&n&&(C(0,"div")(1,"h3"),M(2),A(),C(3,"ul"),Vn(4,JG,4,2,"li",6),A()()),2&n){const t=Cr();j(2),Sn("Downloadable Resources for ",t.selectedClass,":"),j(2),de("ngForOf",t.filteredCurriculum)}}function tW(n,e){if(1&n&&(C(0,"div")(1,"p"),M(2),A()()),2&n){const t=Cr();j(2),Sn("No curriculum or ebooks available for ",t.selectedClass,".")}}function iW(n,e){if(1&n){const t=Nf();C(0,"div",15)(1,"div",16),H(2,"img",17),C(3,"div",18)(4,"h5",19),M(5),A(),C(6,"p",20),M(7),A(),C(8,"button",21),Ne("click",function(){const s=th(t).$implicit;return nh(Cr().openModal(s))}),M(9,"View Profile"),A()()()()}if(2&n){const t=e.$implicit;j(2),ta("alt",t.name),de("src",t.image,En),j(3),ft(t.name),j(2),ft(t.position)}}const rW=function(n){return{"show-modal":n}},sW=[{path:"",component:wU},{path:"about-us",component:wH},{path:"faculties",component:AU},{path:"routines",component:(()=>{class n{constructor(){this.primaryRoutine={issueDate:"October 10, 2024",pdfLink:"assets/routines/primary.pdf"},this.lowerSecondaryRoutine={issueDate:"October 12, 2024",pdfLink:"assets/routines/lower-secondary.pdf"},this.secondary1Routine={issueDate:"October 15, 2024",pdfLink:"assets/routines/secondary1.pdf"},this.secondary2Routine={issueDate:"October 15, 2024",pdfLink:"assets/routines/secondary2.pdf"},this.zoom=1}zoomIn(){this.zoom+=.25}zoomOut(){this.zoom>.25&&(this.zoom-=.25)}resetZoom(){this.zoom=1}updateZoom(t){this.zoom=t}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=sn({type:n,selectors:[["app-routines"]],decls:55,vars:24,consts:[[1,"routines-container"],[1,"page-title"],[1,"page-description"],[1,"routine-section"],["target","_blank",1,"download-link",3,"href"],["for","zoom",2,"margin-left","10%"],["type","number","min","0.25","step","0.25",2,"width","60px","margin-top","10px",3,"ngModel","ngModelChange"],[2,"display","block",3,"src","render-text","zoom"]],template:function(i,r){1&i&&(H(0,"app-app-header"),C(1,"div",0)(2,"h1",1),M(3,"Class Routines"),A(),C(4,"p",2),M(5,"Find the routines for each level and download them for easy access."),A(),C(6,"div",3)(7,"h2"),M(8,"Primary Level (1-5)"),A(),C(9,"p"),M(10),A(),C(11,"a",4),M(12,"Download Routine (PDF)"),A(),C(13,"label",5)(14,"b"),M(15,"ZOOM IN/OUT"),A()(),C(16,"input",6),Ne("ngModelChange",function(o){return r.zoom=o})("ngModelChange",function(o){return r.updateZoom(o)}),A(),H(17,"pdf-viewer",7),A(),C(18,"div",3)(19,"h2"),M(20,"Lower Secondary Level (6-8)"),A(),C(21,"p"),M(22),A(),C(23,"a",4),M(24,"Download Routine (PDF)"),A(),C(25,"label",5)(26,"b"),M(27,"ZOOM IN/OUT"),A()(),C(28,"input",6),Ne("ngModelChange",function(o){return r.zoom=o})("ngModelChange",function(o){return r.updateZoom(o)}),A(),H(29,"pdf-viewer",7),A(),C(30,"div",3)(31,"h2"),M(32,"Secondary Level (9-10) "),A(),C(33,"p"),M(34),A(),C(35,"a",4),M(36,"Download Routine (PDF)"),A(),C(37,"label",5)(38,"b"),M(39,"ZOOM IN/OUT"),A()(),C(40,"input",6),Ne("ngModelChange",function(o){return r.zoom=o})("ngModelChange",function(o){return r.updateZoom(o)}),A(),H(41,"pdf-viewer",7),A(),C(42,"div",3)(43,"h2"),M(44,"Secondary Level (11-12)"),A(),C(45,"p"),M(46),A(),C(47,"a",4),M(48,"Download Routine (PDF)"),A(),C(49,"label",5)(50,"b"),M(51,"ZOOM IN/OUT"),A()(),C(52,"input",6),Ne("ngModelChange",function(o){return r.zoom=o})("ngModelChange",function(o){return r.updateZoom(o)}),A(),H(53,"pdf-viewer",7),A()(),H(54,"app-app-footer")),2&i&&(j(10),Sn("Routine Issue Date: ",r.primaryRoutine.issueDate,""),j(1),de("href",r.primaryRoutine.pdfLink,En),j(5),de("ngModel",r.zoom),j(1),de("src",r.primaryRoutine.pdfLink)("render-text",!0)("zoom",r.zoom),j(5),Sn("Routine Issue Date: ",r.lowerSecondaryRoutine.issueDate,""),j(1),de("href",r.lowerSecondaryRoutine.pdfLink,En),j(5),de("ngModel",r.zoom),j(1),de("src",r.lowerSecondaryRoutine.pdfLink)("render-text",!0)("zoom",r.zoom),j(5),Sn("Routine Issue Date: ",r.secondary1Routine.issueDate,""),j(1),de("href",r.secondary1Routine.pdfLink,En),j(5),de("ngModel",r.zoom),j(1),de("src",r.secondary1Routine.pdfLink)("render-text",!0)("zoom",r.zoom),j(5),Sn("Routine Issue Date: ",r.secondary2Routine.issueDate,""),j(1),de("href",r.secondary2Routine.pdfLink,En),j(5),de("ngModel",r.zoom),j(1),de("src",r.secondary2Routine.pdfLink)("render-text",!0)("zoom",r.zoom))},dependencies:[KG,bu,Ug,Pg,qg,Pu,Zs,Js],styles:[".routines-container[_ngcontent-%COMP%]{text-align:center;padding:20px}.page-title[_ngcontent-%COMP%]{font-size:36px;margin-bottom:20px;color:#333}.page-description[_ngcontent-%COMP%]{font-size:18px;margin-bottom:30px;color:#555}.routine-section[_ngcontent-%COMP%]{margin:30px 0;padding:20px;border:1px solid #ddd;border-radius:10px;background-color:#f9f9f9;transition:transform .3s ease}.routine-section[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.routine-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:28px;margin-bottom:10px}.routine-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px}.download-link[_ngcontent-%COMP%]{display:inline-block;margin-bottom:15px;padding:10px 20px;background-color:#4caf50;color:#fff;text-decoration:none;border-radius:5px}.download-link[_ngcontent-%COMP%]:hover{background-color:#45a049}pdf-viewer[_ngcontent-%COMP%]{width:90%;height:600px;border:1px solid #d3bfbf;margin:5%}"]})}}return n})()},{path:"syllabus&curriculum",component:(()=>{class n{constructor(){this.selectedClass="",this.classOptions=["Primary","Lower Secondary","Secondary"],this.curriculumData=[{class:"Primary",title:"Primary Syllabus",link:"/assets/downloads/primary-syllabus.pdf"},{class:"Primary",title:"Primary Curriculum",link:"/assets/downloads/primary-curriculum.pdf"},{class:"Lower Secondary",title:"Lower Secondary Syllabus",link:"/assets/downloads/lower-secondary-syllabus.pdf"},{class:"Lower Secondary",title:"Lower Secondary Curriculum",link:"/assets/downloads/lower-secondary-curriculum.pdf"},{class:"Secondary",title:"Secondary Syllabus",link:"/assets/downloads/secondary-syllabus.pdf"},{class:"Secondary",title:"Secondary Curriculum",link:"/assets/downloads/secondary-curriculum.pdf"}],this.filteredCurriculum=[],this.filterByClass()}filterByClass(){this.filteredCurriculum=this.selectedClass?this.curriculumData.filter(t=>t.class===this.selectedClass):[]}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=sn({type:n,selectors:[["app-syllabus-curriculum"]],decls:11,vars:4,consts:[[1,"container"],["for","classFilter"],["id","classFilter",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"value"],[4,"ngFor","ngForOf"],["target","_blank","download","",3,"href"]],template:function(i,r){1&i&&(H(0,"app-app-header"),C(1,"div",0)(2,"h2"),M(3,"Curriculum and Ebooks"),A(),C(4,"label",1),M(5,"Select Class:"),A(),C(6,"select",2),Ne("ngModelChange",function(o){return r.selectedClass=o})("change",function(){return r.filterByClass()}),Vn(7,ZG,2,2,"option",3),A(),Vn(8,eW,5,2,"div",4),Vn(9,tW,3,1,"div",4),A(),H(10,"app-app-footer")),2&i&&(j(6),de("ngModel",r.selectedClass),j(1),de("ngForOf",r.classOptions),j(1),de("ngIf",r.filteredCurriculum.length>0),j(1),de("ngIf",0===r.filteredCurriculum.length))},dependencies:[xr,Bp,nS,rS,Ru,Pg,Pu,Zs,Js],styles:[".container[_ngcontent-%COMP%]{max-width:800px;margin:auto;padding:20px}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{text-align:center}select[_ngcontent-%COMP%]{width:100%;padding:10px;margin:15px 0;font-size:16px}ul[_ngcontent-%COMP%]{list-style-type:none;padding:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px 0}a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none}a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})}}return n})()},{path:"our-team",component:(()=>{class n{constructor(){this.staffMembers=[{name:"Premendra Kumar Nidhi",position:"Principal",description:"John has over 20 years of experience in education and is passionate about student success.",image:"/assets/headsir.jpg"},{name:"Premendra Kumar Nidhi",position:"Principal",description:"John has over 20 years of experience in education and is passionate about student success.",image:"/assets/headsir.jpg"},{name:"Premendra Kumar Nidhi",position:"Principal",description:"John has over 20 years of experience in education and is passionate about student success.",image:"/assets/headsir.jpg"},{name:"Premendra Kumar Nidhi",position:"Principal",description:"John has over 20 years of experience in education and is passionate about student success.",image:"/assets/headsir.jpg"},{name:"Premendra Kumar Nidhi",position:"Principal",description:"John has over 20 years of experience in education and is passionate about student success.",image:"/assets/headsir.jpg"},{name:"Premendra Kumar Nidhi",position:"Principal",description:"John has over 20 years of experience in education and is passionate about student success.",image:"/assets/headsir.jpg"}],this.isModalOpen=!1,this.selectedStaff=null}openModal(t){this.selectedStaff=t,this.isModalOpen=!0}closeModal(){this.selectedStaff=null,this.isModalOpen=!1}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=sn({type:n,selectors:[["app-our-team"]],decls:30,vars:9,consts:[[1,"container"],[1,"text-center"],[1,"row","justify-content-center"],["class","col-md-4 col-sm-6",4,"ngFor","ngForOf"],["tabindex","-1",1,"modal",3,"ngClass"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"img-fluid","mb-3",3,"src","alt"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"col-md-4","col-sm-6"],[1,"card","team-card"],[1,"card-img-top",3,"src","alt"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"btn","btn-primary",3,"click"]],template:function(i,r){1&i&&(H(0,"app-app-header"),C(1,"div",0)(2,"h2",1)(3,"i")(4,"u")(5,"b"),M(6,"Meet Our Team Members"),A()()()(),C(7,"div",2),Vn(8,iW,10,4,"div",3),A(),C(9,"div",4)(10,"div",5)(11,"div",6)(12,"div",7)(13,"h5",8),M(14),A(),C(15,"button",9),Ne("click",function(){return r.closeModal()}),C(16,"span",10),M(17,"\xd7"),A()()(),C(18,"div",11),H(19,"img",12),C(20,"p")(21,"strong"),M(22,"Position:"),A(),M(23),A(),C(24,"p"),M(25),A()(),C(26,"div",13)(27,"button",14),Ne("click",function(){return r.closeModal()}),M(28,"Close"),A()()()()()(),H(29,"app-app-footer")),2&i&&(j(8),de("ngForOf",r.staffMembers),j(1),de("ngClass",Xf(7,rW,r.isModalOpen)),j(5),ft(null==r.selectedStaff?null:r.selectedStaff.name),j(5),ta("alt",null==r.selectedStaff?null:r.selectedStaff.name),de("src",null==r.selectedStaff?null:r.selectedStaff.image,En),j(4),Sn(" ",null==r.selectedStaff?null:r.selectedStaff.position,""),j(2),ft(null==r.selectedStaff?null:r.selectedStaff.description))},dependencies:[DE,xr,Zs,Js],styles:[".container[_ngcontent-%COMP%]{margin-top:40px}.text-center[_ngcontent-%COMP%]{text-align:center;margin-bottom:40px}.card[_ngcontent-%COMP%]{border:none;border-radius:15px;box-shadow:0 4px 8px #0000001a;transition:transform .3s ease,box-shadow .3s ease;overflow:hidden;padding:10px;margin-bottom:20px;background-color:#f0f0ea}.card[_ngcontent-%COMP%]:hover{transform:translateY(-10px);box-shadow:0 8px 16px #0003}.card-img-top[_ngcontent-%COMP%]{border-top-left-radius:15px;border-top-right-radius:15px;height:400px;object-fit:cover}.card-body[_ngcontent-%COMP%]{text-align:center;padding:20px}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;border-color:#007bff;transition:background-color .3s ease}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3}.modal[_ngcontent-%COMP%]{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.6);justify-content:center;align-items:center}.show-modal[_ngcontent-%COMP%]{display:flex}.modal-dialog[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;overflow:hidden;max-width:600px;width:100%}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:15px;background-color:#f1f1f1}.modal-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0}.modal-body[_ngcontent-%COMP%]{padding:20px}.modal-footer[_ngcontent-%COMP%]{padding:15px;text-align:right}.close[_ngcontent-%COMP%]{font-size:1.5rem;cursor:pointer}"]})}}return n})()}];let oW=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=kn({type:n})}static{this.\u0275inj=_n({imports:[aD.forRoot(sW),aD]})}}return n})(),aW=(()=>{class n{constructor(){this.title="SRNSS"}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=sn({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(i,r){1&i&&H(0,"router-outlet")},dependencies:[bg],styles:["body[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ebaed9 0%,#b6a4e0 50%,#e2bad7 100%);background-attachment:fixed;background-size:cover}"]})}}return n})(),lW=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=kn({type:n,bootstrap:[aW]})}static{this.\u0275inj=_n({imports:[Lj,oW,XG,mU]})}}return n})();Nj().bootstrapModule(lW).catch(n=>console.error(n))}},fd=>{fd(fd.s=900)}]);